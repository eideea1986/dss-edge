{"version":3,"file":"static/js/683.2d5423cb.chunk.js","mappings":"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","sources":["pages/Status.js","components/Icons.js","components/ScheduleInput.js","components/ArmingMatrix.js","pages/CameraWizard.js","sections/settings/network/styles.js","sections/settings/network/InterfaceSettings.js","sections/settings/network/VPNSettings.js","sections/settings/network/DispatchSettings.js","sections/settings/network/PortSettings.js","sections/settings/SecuritySection.js","sections/settings/StorageSection.js","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/cpu.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/activity.ts","../node_modules/lucide-react/src/icons/triangle-alert.ts","../node_modules/lucide-react/src/icons/refresh-cw.ts","../node_modules/lucide-react/src/icons/save.ts","sections/settings/AISection.js","components/Go2RTCPlayer.js","sections/settings/HardwareSection.js","sections/settings/MaintenanceSection.js","sections/settings/CameraEditModal.js","pages/Settings.js","api.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api\";\r\n// Lucide-react not available, using text fallbacks or simple SVGs if needed.\r\n\r\n// Helper Icons (Text-based for maximum compatibility with encoding)\r\nconst IconCpu = () => <span style={{ marginRight: 8 }}>[CPU]</span>;\r\nconst IconGpu = () => <span style={{ marginRight: 8 }}>[GPU]</span>;\r\nconst IconRam = () => <span style={{ marginRight: 8 }}>[RAM]</span>;\r\nconst IconNet = () => <span style={{ marginRight: 8 }}>[NET]</span>;\r\nconst IconHdd = () => <span style={{ marginRight: 8 }}>[HDD]</span>;\r\n\r\nexport default function Status() {\r\n    const [info, setInfo] = useState(null);\r\n    const [hwInfo, setHwInfo] = useState(null);\r\n    const [loadingHw, setLoadingHw] = useState(true);\r\n\r\n    const load = async () => {\r\n        try {\r\n            const res = await API.get(\"status\");\r\n            setInfo(res.data);\r\n            setLoadingHw(false);\r\n        } catch (err) {\r\n            console.error(\"Status fetch error\", err);\r\n        }\r\n    };\r\n\r\n    const scanHardware = async () => {\r\n        setLoadingHw(true);\r\n        try {\r\n            const hwRes = await API.get(\"status/hardware\");\r\n            setHwInfo(hwRes.data);\r\n        } catch (err) {\r\n            console.error(\"Hardware scan error\", err);\r\n        }\r\n        setLoadingHw(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        load();\r\n        const interval = setInterval(() => {\r\n            API.get(\"status\").then(res => setInfo(res.data)).catch(() => { });\r\n        }, 5000); // 5s interval is better responsiveness than 10s\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    if (!info) return (\r\n        <div style={{ padding: 40, textAlign: \"center\", color: \"#888\" }}>\r\n            <div className=\"skeleton\" style={{ width: 200, height: 20, background: \"#444\", borderRadius: 4, animation: \"pulse 1.5s infinite\" }} />\r\n        </div>\r\n    );\r\n\r\n    // Derived Stats (with defensive checks)\r\n    const ram = info.ram || { total: 0, free: 0 };\r\n    const ramUsed = ram.total - ram.free;\r\n    const ramTotalGB = (ram.total / 1024 / 1024 / 1024).toFixed(1);\r\n    const ramUsedGB = (ramUsed / 1024 / 1024 / 1024).toFixed(1);\r\n    const ramPct = ram.total > 0 ? Math.round((ramUsed / ram.total) * 100) : 0;\r\n\r\n    const cpuVal = (info.cpu && Array.isArray(info.cpu)) ? (info.cpu[0] || 0) : 0;\r\n    const gpuVal = hwInfo?.gpuLoad || 0;\r\n    const diskPct = info.disk?.usedPercent || 0;\r\n\r\n    return (\r\n        <div style={{ padding: \"20px 30px\", background: \"#121212\", minHeight: \"100%\", color: \"#e0e0e0\", fontFamily: \"'Segoe UI', 'Roboto', sans-serif\" }}>\r\n\r\n            {/* Header Area */}\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 25, borderBottom: \"1px solid #333\", paddingBottom: 15 }}>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 15 }}>\r\n                    <div style={{ fontSize: 24, padding: \"5px 10px\", background: \"#333\", borderRadius: 4 }}>SYS</div>\r\n                    <div>\r\n                        <h1 style={{ margin: 0, fontSize: 22, color: \"#fff\", fontWeight: 600, letterSpacing: 0.5 }}>SYSTEM STATUS</h1>\r\n                        <div style={{ fontSize: 13, color: \"#666\", display: \"flex\", gap: 15, marginTop: 4 }}>\r\n                            <span><b>v2.1 PRO</b> Display</span>\r\n                            <span></span>\r\n                            <span>Uptime: <b style={{ color: \"#4caf50\" }}>{Math.floor(info.uptime / 3600)}h {Math.floor((info.uptime % 3600) / 60)}m</b></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <ActionButton\r\n                        color=\"#f44336\"\r\n                        label=\"Restart Services\"\r\n                        onClick={async () => {\r\n                            if (window.confirm(\"ATENTIE: Serviciile de inregistrare si live view se vor opri temporar. Continuati?\")) {\r\n                                await API.post(\"status/restart-service\");\r\n                            }\r\n                        }}\r\n                    />\r\n                    <ActionButton\r\n                        color=\"#2196f3\"\r\n                        label=\"Quick Diagnose\"\r\n                        onClick={async () => {\r\n                            await API.post(\"status/fix-deps\");\r\n                            alert(\"Diagnosticare pornita in background.\");\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* KPI Row - High Level Metrics */}\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\", gap: 20, marginBottom: 25 }}>\r\n                <KPICard\r\n                    title=\"CPU LOAD (1m)\"\r\n                    value={cpuVal}\r\n                    unit=\"%\"\r\n                    pct={cpuVal}\r\n                    color={cpuVal > 80 ? \"#f44336\" : (cpuVal > 50 ? \"#ff9800\" : \"#4caf50\")}\r\n                    icon={<IconCpu />}\r\n                    sub={`Model: ${hwInfo?.cpu ? hwInfo.cpu.split('@')[0].trim() : \"...\"}`}\r\n                />\r\n                <KPICard\r\n                    title=\"GPU DECODE\"\r\n                    value={gpuVal}\r\n                    unit=\"%\"\r\n                    pct={gpuVal}\r\n                    color={gpuVal > 80 ? \"#f44336\" : \"#e91e63\"}\r\n                    icon={<IconGpu />}\r\n                    sub={hwInfo?.gpu || \"Integrated\"}\r\n                />\r\n                <KPICard\r\n                    title=\"MEMORY RAM\"\r\n                    value={ramPct}\r\n                    unit=\"%\"\r\n                    pct={ramPct}\r\n                    color=\"#2196f3\"\r\n                    icon={<IconRam />}\r\n                    sub={`${ramUsedGB} / ${ramTotalGB} GB Active`}\r\n                />\r\n                <KPICard\r\n                    title=\"STORAGE (ROOT)\"\r\n                    value={diskPct}\r\n                    unit=\"%\"\r\n                    pct={diskPct}\r\n                    color={diskPct > 90 ? \"#f44336\" : \"#9c27b0\"}\r\n                    icon={<IconHdd />}\r\n                    sub={`Free: ${info.disk?.avail || \"?\"}`}\r\n                />\r\n            </div>\r\n\r\n            {/* Main Dashboard Grid */}\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"2fr 1.5fr\", gap: 20 }}>\r\n\r\n                {/* Left Column: Detailed Hardware & OS */}\r\n                <div style={{ display: \"flex\", flexDirection: \"column\", gap: 20 }}>\r\n                    <SectionCard title=\"HARDWARE COMPOSITION\">\r\n                        {!hwInfo && !loadingHw ? (\r\n                            <div style={{ padding: 20, textAlign: \"center\" }}>\r\n                                <div style={{ color: \"#666\", marginBottom: 15, fontSize: 13 }}>Hardware details are collected on demand to save resources.</div>\r\n                                <button\r\n                                    onClick={scanHardware}\r\n                                    style={{\r\n                                        padding: \"8px 20px\", background: \"#2196f3\", color: \"white\",\r\n                                        border: \"none\", borderRadius: 4, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    Scan System Hardware\r\n                                </button>\r\n                            </div>\r\n                        ) : loadingHw ? (\r\n                            <div style={{ padding: 20, color: \"#666\", textAlign: \"center\" }}>\r\n                                <div className=\"spinner\" style={{ marginBottom: 10 }}>[WAIT]</div>\r\n                                Scanning hardware layer...\r\n                            </div>\r\n                        ) : (\r\n                            <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 14 }}>\r\n                                <tbody>\r\n                                    <TableRow label=\"Motherboard\" value={hwInfo?.motherboard} />\r\n                                    <TableRow label=\"Processor SKU\" value={hwInfo?.cpu} highlight />\r\n                                    <TableRow label=\"Graphics Unit\" value={hwInfo?.gpu || \"N/A\"} />\r\n                                    <TableRow label=\"Total Memory\" value={hwInfo?.ram} />\r\n                                    <TableRow label=\"Kernel Version\" value={hwInfo?.kernel} />\r\n                                    <TableRow label=\"OS Distro\" value={hwInfo?.os} />\r\n                                </tbody>\r\n                            </table>\r\n                        )}\r\n                    </SectionCard>\r\n\r\n                    <SectionCard title=\"MODULE HEALTH\">\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 15 }}>\r\n                            {/* Core Modules */}\r\n                            <ModuleStatus name=\"Core System (dss-edge)\" status={true} />\r\n                            <ModuleStatus name=\"Web Interface (UI)\" status={true} />\r\n                            <ModuleStatus name=\"API Gateway\" status={true} />\r\n                            <ModuleStatus name=\"Live Streaming (Go2RTC)\" status={true} />\r\n\r\n                            {/* Dynamic Modules */}\r\n                            <ModuleStatus name=\"AI Detection Engine\" status={info.modules && info.modules['dss-ai']} />\r\n\r\n                            {/* Critical Engines */}\r\n                            <div style={{\r\n                                display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\",\r\n                                padding: \"12px 15px\", background: \"#1e1e1e\", borderRadius: 6,\r\n                                borderLeft: `4px solid ${info.storageMap ? \"#4caf50\" : \"#ff9800\"}`\r\n                            }}>\r\n                                <span style={{ fontWeight: 500, fontSize: 14 }}>Retention Engine</span>\r\n                                <span style={{ color: info.storageMap ? \"#4caf50\" : \"#ff9800\", fontSize: 11, fontWeight: \"bold\" }}>\r\n                                    {info.storageMap ? \"ACTIVE\" : \"NO MAP (DISK FULL?)\"}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </SectionCard>\r\n                </div>\r\n\r\n                {/* Right Column: Network & Logs */}\r\n                <div style={{ display: \"flex\", flexDirection: \"column\", gap: 20 }}>\r\n                    <SectionCard title=\"NETWORK INTERFACES\">\r\n                        {hwInfo?.network?.length > 0 ? (\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\r\n                                {hwInfo.network.map((net, i) => (\r\n                                    <div key={i} style={{ background: \"#1a1a1a\", padding: 15, borderRadius: 6, border: \"1px solid #2a2a2a\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                                        <div>\r\n                                            <div style={{ fontSize: 15, fontWeight: \"bold\", color: \"#fff\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                                                <IconNet /> {net.name}\r\n                                            </div>\r\n                                            <div style={{ fontSize: 12, color: \"#888\", marginTop: 4 }}>{net.brand}</div>\r\n                                        </div>\r\n                                        <div style={{ textAlign: \"right\" }}>\r\n                                            <div style={{ fontFamily: \"monospace\", color: \"#81d4fa\", fontSize: 13, background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>\r\n                                                {net.mac}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                <div style={{ fontSize: 12, color: \"#666\", marginTop: 5, paddingLeft: 5 }}>\r\n                                    DNS: {hwInfo?.dns.join(\", \") || \"Auto\"}\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div style={{ padding: 20, color: \"#666\" }}>Scanning network adapters...</div>\r\n                        )}\r\n                    </SectionCard>\r\n\r\n                    <div style={{ marginTop: 10 }}>\r\n                        <h4 style={{ fontSize: 12, textTransform: \"uppercase\", color: \"#666\", marginBottom: 10 }}>System Logs</h4>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 10 }}>\r\n                            <LogButton label=\"Recorder.log\" href={`${API.defaults.baseURL}/status/recorder-logs`} />\r\n                            <LogButton label=\"CameraMgr.log\" href={`${API.defaults.baseURL}/status/camera-logs`} />\r\n                            <LogButton label=\"AI_Engine.log\" href={`${API.defaults.baseURL}/status/ai-logs`} />\r\n                            <LogButton label=\"Journalctl -u\" href={`${API.defaults.baseURL}/status/journal`} warning />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Sub-components for Cleaner Layout\r\n\r\nconst ModuleStatus = ({ name, status }) => (\r\n    <div style={{\r\n        display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\",\r\n        padding: \"12px 15px\", background: \"#1e1e1e\", borderRadius: 6,\r\n        borderLeft: `4px solid ${status ? \"#4caf50\" : \"#f44336\"}`\r\n    }}>\r\n        <span style={{ fontWeight: 500, fontSize: 14 }}>{name}</span>\r\n        <span style={{\r\n            fontSize: 11, fontWeight: \"bold\",\r\n            padding: \"2px 8px\", borderRadius: 10,\r\n            background: status ? \"rgba(76, 175, 80, 0.1)\" : \"rgba(244, 67, 54, 0.1)\",\r\n            color: status ? \"#4caf50\" : \"#f44336\"\r\n        }}>\r\n            {status ? \"RUNNING\" : \"STOPPED\"}\r\n        </span>\r\n    </div>\r\n);\r\n\r\nconst ActionButton = ({ label, onClick, color }) => (\r\n    <button onClick={onClick} style={{\r\n        background: \"transparent\", border: `1px solid ${color}`, color: color,\r\n        padding: \"6px 14px\", borderRadius: 4, cursor: \"pointer\", fontSize: 12, fontWeight: 600,\r\n        transition: \"all 0.2s\",\r\n        textTransform: \"uppercase\"\r\n    }} onMouseEnter={e => e.target.style.background = `rgba(${parseInt(color.slice(1, 3), 16)},0,0,0.1)`} onMouseLeave={e => e.target.style.background = \"transparent\"}>\r\n        {label}\r\n    </button>\r\n);\r\n\r\nconst KPICard = React.memo(({ title, value, unit, pct, color, icon, sub }) => (\r\n    <div style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, borderTop: `3px solid ${color}`, boxShadow: \"0 4px 10px rgba(0,0,0,0.2)\" }}>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 10 }}>\r\n            <div style={{ fontSize: 11, fontWeight: 700, color: \"#888\", letterSpacing: 1 }}>{title}</div>\r\n            <div style={{ color: color, fontSize: 18 }}>{icon}</div>\r\n        </div>\r\n        <div style={{ fontSize: 32, fontWeight: \"bold\", color: \"#fff\", lineHeight: 1 }}>\r\n            {value}<span style={{ fontSize: 16, color: \"#666\", marginLeft: 4 }}>{unit}</span>\r\n        </div>\r\n\r\n        <div style={{ width: \"100%\", background: \"#333\", height: 4, borderRadius: 2, marginTop: 15, marginBottom: 8 }}>\r\n            <div style={{ height: \"100%\", width: `${Math.min(pct, 100)}%`, background: color, borderRadius: 2 }} />\r\n        </div>\r\n\r\n        <div style={{ fontSize: 11, color: \"#666\", whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" }}>\r\n            {sub}\r\n        </div>\r\n    </div>\r\n));\r\n\r\n\r\nconst SectionCard = React.memo(({ title, children }) => (\r\n    <div style={{ background: \"#1e1e1e\", borderRadius: 8, border: \"1px solid #2a2a2a\", overflow: \"hidden\" }}>\r\n        <div style={{ padding: \"12px 20px\", background: \"#252526\", borderBottom: \"1px solid #2a2a2a\", fontSize: 12, fontWeight: 700, color: \"#aaa\", letterSpacing: 1 }}>\r\n            {title}\r\n        </div>\r\n        <div style={{ padding: 20 }}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n));\r\n\r\nconst TableRow = React.memo(({ label, value, highlight }) => (\r\n    <tr style={{ borderBottom: \"1px solid #2a2a2a\" }}>\r\n        <td style={{ padding: \"10px 0\", color: \"#888\", fontSize: 13 }}>{label}</td>\r\n        <td style={{ padding: \"10px 0\", textAlign: \"right\", color: highlight ? \"#fff\" : \"#ccc\", fontWeight: highlight ? 600 : 400 }}>\r\n            {value || <span style={{ opacity: 0.3 }}>-</span>}\r\n        </td>\r\n    </tr>\r\n));\r\n\r\nconst LogButton = ({ label, href, warning }) => (\r\n    <a href={href} target=\"_blank\" rel=\"noreferrer\" style={{\r\n        display: \"block\", textAlign: \"center\", padding: \"10px\",\r\n        background: warning ? \"rgba(244, 67, 54, 0.1)\" : \"#222\",\r\n        color: warning ? \"#f44336\" : \"#aaa\",\r\n        textDecoration: \"none\", fontSize: 12, borderRadius: 4,\r\n        border: `1px solid ${warning ? \"rgba(244, 67, 54, 0.3)\" : \"#333\"}`\r\n    }}>\r\n        {label}\r\n    </a>\r\n);\r\n","import React from 'react';\r\n\r\n// Common props: size, color\r\nconst IconBase = ({ size = 16, color = \"currentColor\", children, style, ...props }) => (\r\n    <svg\r\n        width={size}\r\n        height={size}\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke={color}\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        style={{ display: \"inline-block\", verticalAlign: \"middle\", ...style }}\r\n        {...props}\r\n    >\r\n        {children}\r\n    </svg>\r\n);\r\n\r\nexport const Trash = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const Edit = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n        <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const SettingsIcon = (props) => (\r\n    <IconBase {...props}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n        <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path>\r\n    </IconBase>\r\n);\r\nexport const Settings = SettingsIcon;\r\n\r\nexport const Lock = (props) => (\r\n    <IconBase {...props}>\r\n        <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\r\n        <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const AlertTriangle = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\r\n        <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\r\n        <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\n    </IconBase>\r\n);\r\n\r\nexport const Save = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\r\n        <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\r\n        <polyline points=\"7 3 7 8 15 8\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Camera = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"></path>\r\n        <circle cx=\"12\" cy=\"13\" r=\"4\"></circle>\r\n    </IconBase>\r\n);\r\n\r\nexport const Video = (props) => (\r\n    <IconBase {...props}>\r\n        <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n        <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n    </IconBase>\r\n);\r\n\r\nexport const Archive = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"21 8 21 21 3 21 3 8\"></polyline>\r\n        <rect x=\"1\" y=\"3\" width=\"22\" height=\"5\"></rect>\r\n        <line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\"></line>\r\n    </IconBase>\r\n);\r\n\r\nexport const RefreshCw = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"23 4 23 10 17 10\"></polyline>\r\n        <polyline points=\"1 20 1 14 7 14\"></polyline>\r\n        <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const ChevronRight = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Maximize = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\" />\r\n    </IconBase>\r\n);\r\n\r\nexport const Minimize = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7\" />\r\n    </IconBase>\r\n);\r\n\r\nexport const Circle = (props) => (\r\n    <IconBase {...props}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n    </IconBase>\r\n);\r\n\r\nexport const Activity = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Shield = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"></path>\r\n    </IconBase>\r\n);\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst DAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\r\n\r\nconst ScheduleEditor = ({ schedules, onSave }) => {\r\n    // Initialize state by converting input array to object map keyed by ID\r\n    // Also converts legacy 'slots' to 'matrix' (48 slots)\r\n    const [localSchedules, setLocalSchedules] = useState({});\r\n    const [selectedId, setSelectedId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const init = {};\r\n        const inputList = Array.isArray(schedules) ? schedules : Object.values(schedules || {});\r\n\r\n        inputList.forEach(s => {\r\n            const id = s.id || \"sch_\" + Math.random().toString(36).substr(2, 9);\r\n\r\n            // Ensure matrix exists (48 slots per day)\r\n            let matrix = s.matrix;\r\n\r\n            // Migration: Slots to Matrix\r\n            if (!matrix && s.slots) {\r\n                matrix = {};\r\n                for (let d = 0; d < 7; d++) {\r\n                    matrix[d] = Array(48).fill(0);\r\n                    if (s.slots[d]) {\r\n                        s.slots[d].forEach(h => {\r\n                            if (h >= 0 && h < 24) {\r\n                                matrix[d][h * 2] = 1;\r\n                                matrix[d][h * 2 + 1] = 1;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Default empty matrix\r\n            if (!matrix) {\r\n                matrix = {};\r\n                for (let d = 0; d < 7; d++) matrix[d] = Array(48).fill(0);\r\n            } else {\r\n                // Ensure all days exist\r\n                for (let d = 0; d < 7; d++) {\r\n                    if (!matrix[d]) matrix[d] = Array(48).fill(0);\r\n                }\r\n            }\r\n\r\n            init[id] = { ...s, id, matrix, slots: undefined }; // Use matrix primarily\r\n        });\r\n\r\n        // If no schedules, create default\r\n        if (Object.keys(init).length === 0) {\r\n            const newId = \"sch_\" + Date.now();\r\n            const mat = {};\r\n            for (let d = 0; d < 7; d++) mat[d] = Array(48).fill(0);\r\n            init[newId] = { id: newId, name: \"Default Schedule\", matrix: mat, enabled: true };\r\n        }\r\n\r\n        setLocalSchedules(init);\r\n        setSelectedId(Object.keys(init)[0]);\r\n    }, [schedules]);\r\n\r\n    const currentSchedule = localSchedules[selectedId];\r\n\r\n    const handleCreate = () => {\r\n        const newId = \"sch_\" + Date.now();\r\n        const mat = {};\r\n        for (let d = 0; d < 7; d++) mat[d] = Array(48).fill(0);\r\n        const newSch = { id: newId, name: \"New Schedule\", matrix: mat, enabled: true };\r\n        setLocalSchedules({ ...localSchedules, [newId]: newSch });\r\n        setSelectedId(newId);\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        if (!window.confirm(\"Delete schedule?\")) return;\r\n        const newS = { ...localSchedules };\r\n        delete newS[selectedId];\r\n        // If empty, create one? Or allow empty.\r\n        setLocalSchedules(newS);\r\n        setSelectedId(Object.keys(newS)[0] || null);\r\n    };\r\n\r\n    const handleSaveAll = () => {\r\n        // Convert map back to array\r\n        const arr = Object.values(localSchedules);\r\n        onSave(arr);\r\n    };\r\n\r\n    const toggleSlot = (dayIndex, slotIndex) => {\r\n        if (!currentSchedule) return;\r\n        const d = dayIndex.toString();\r\n        const currentArr = [...(currentSchedule.matrix[d] || Array(48).fill(0))];\r\n\r\n        currentArr[slotIndex] = currentArr[slotIndex] ? 0 : 1;\r\n\r\n        setLocalSchedules({\r\n            ...localSchedules,\r\n            [selectedId]: {\r\n                ...currentSchedule,\r\n                matrix: { ...currentSchedule.matrix, [d]: currentArr }\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleNameChange = (e) => {\r\n        setLocalSchedules({\r\n            ...localSchedules,\r\n            [selectedId]: { ...currentSchedule, name: e.target.value }\r\n        });\r\n    };\r\n\r\n    // Quick Fill Actions (Full Day)\r\n    const fillDay = (dayIndex, val) => {\r\n        if (!currentSchedule) return;\r\n        const d = dayIndex.toString();\r\n        const arr = Array(48).fill(val ? 1 : 0);\r\n        setLocalSchedules(prev => ({\r\n            ...prev,\r\n            [selectedId]: {\r\n                ...prev[selectedId],\r\n                matrix: { ...prev[selectedId].matrix, [d]: arr }\r\n            }\r\n        }));\r\n    };\r\n\r\n    if (!currentSchedule && Object.keys(localSchedules).length > 0) {\r\n        setSelectedId(Object.keys(localSchedules)[0]);\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\", height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 20 }}>\r\n                <h2>Schedule Editor (30 min intervals)</h2>\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <button onClick={handleDelete} style={{ background: \"#d32f2f\", color: \"white\", border: \"none\", padding: \"5px 15px\", cursor: \"pointer\" }}>Delete</button>\r\n                    <button onClick={handleSaveAll} style={{ background: \"#007acc\", color: \"white\", border: \"none\", padding: \"5px 20px\", fontWeight: \"bold\", cursor: \"pointer\" }}>SAVE ALL Schedules</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", gap: 20, flex: 1, overflow: \"hidden\" }}>\r\n                {/* LIST */}\r\n                <div style={{ width: 200, background: \"#252526\", border: \"1px solid #444\", display: \"flex\", flexDirection: \"column\" }}>\r\n                    <div style={{ padding: 10, borderBottom: \"1px solid #444\", fontWeight: \"bold\", background: \"#333\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        Schedules\r\n                        <button onClick={handleCreate} style={{ fontSize: 16, cursor: \"pointer\", background: \"none\", border: \"none\", color: \"#4caf50\" }}>+</button>\r\n                    </div>\r\n                    <div style={{ flex: 1, overflowY: \"auto\" }}>\r\n                        {Object.values(localSchedules).map((s) => (\r\n                            <div\r\n                                key={s.id}\r\n                                onClick={() => setSelectedId(s.id)}\r\n                                style={{ padding: 10, cursor: \"pointer\", background: s.id === selectedId ? \"#007acc\" : \"transparent\", borderBottom: \"1px solid #333\" }}\r\n                            >\r\n                                {s.name}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* EDITOR */}\r\n                {currentSchedule && (\r\n                    <div style={{ flex: 1, background: \"#252526\", border: \"1px solid #444\", padding: 20, overflowY: \"auto\" }}>\r\n                        <div style={{ marginBottom: 20 }}>\r\n                            <label>Schedule Name: </label>\r\n                            <input value={currentSchedule.name} onChange={handleNameChange} style={{ background: \"#111\", border: \"1px solid #444\", color: \"#fff\", padding: 5, width: 300, marginLeft: 10 }} />\r\n                        </div>\r\n\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 1fr\", gap: 10 }}>\r\n                            {/* Header */}\r\n                            <div></div>\r\n                            <div style={{ display: \"flex\" }}>\r\n                                {Array.from({ length: 24 }, (_, i) => (\r\n                                    <div key={i} style={{ flex: 1, fontSize: 10, textAlign: \"center\", color: \"#888\", borderLeft: i > 0 ? \"1px solid #333\" : \"none\" }}>{i}</div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {DAYS.map((day, dIdx) => (\r\n                                <React.Fragment key={day}>\r\n                                    <div style={{ textAlign: \"right\", paddingRight: 10, fontSize: 13, paddingTop: 5 }}>\r\n                                        <div style={{ fontWeight: \"bold\" }}>{day}</div>\r\n                                        <div style={{ fontSize: 9, color: \"#007acc\", cursor: \"pointer\", textDecoration: \"underline\" }} onClick={() => fillDay(dIdx, true)}>All</div>\r\n                                        <div style={{ fontSize: 9, color: \"#f44336\", cursor: \"pointer\", textDecoration: \"underline\" }} onClick={() => fillDay(dIdx, false)}>None</div>\r\n                                    </div>\r\n                                    <div style={{ display: \"flex\", border: \"1px solid #444\", background: \"#111\", height: 30 }}>\r\n                                        {Array.from({ length: 24 }, (_, h) => {\r\n                                            // 2 slots per hour\r\n                                            const s1 = currentSchedule.matrix[dIdx]?.[h * 2];\r\n                                            const s2 = currentSchedule.matrix[dIdx]?.[h * 2 + 1];\r\n\r\n                                            // Handle mouse events for drag capability (simplified)\r\n                                            return (\r\n                                                <div key={h} style={{ flex: 1, display: \"flex\", borderRight: \"1px solid #333\" }}>\r\n                                                    <div\r\n                                                        style={{ flex: 1, background: s1 ? \"#4caf50\" : \"transparent\", borderRight: \"1px dotted #222\", cursor: \"pointer\" }}\r\n                                                        onMouseDown={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2)}\r\n                                                        onMouseEnter={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2)}\r\n                                                        title={`${day} ${h}:00 - ${h}:30`}\r\n                                                    />\r\n                                                    <div\r\n                                                        style={{ flex: 1, background: s2 ? \"#4caf50\" : \"transparent\", cursor: \"pointer\" }}\r\n                                                        onMouseDown={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2 + 1)}\r\n                                                        onMouseEnter={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2 + 1)}\r\n                                                        title={`${day} ${h}:30 - ${h + 1}:00`}\r\n                                                    />\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ScheduleEditor;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ArmingMatrix = ({ schedules, cams, assignments, modes, labels, onSave, onSaveModes, onSaveLabels, onToggleSchedule }) => {\r\n    const [localAssignments, setLocalAssignments] = useState(assignments || {});\r\n    const [localModes, setLocalModes] = useState(modes || {\r\n        \"ARMED_AWAY\": false,\r\n        \"ARMED_HOME\": false,\r\n        \"ARMED_NIGHT\": false,\r\n        \"DISARMED\": true\r\n    });\r\n    const [localLabels, setLocalLabels] = useState(labels || {\r\n        \"ARMED_AWAY\": \"Away\",\r\n        \"ARMED_HOME\": \"Home\",\r\n        \"ARMED_NIGHT\": \"Night\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        setLocalAssignments(assignments || {});\r\n    }, [assignments]);\r\n\r\n    // Handle Assignment Change with AUTO-SAVE\r\n    const handleAssign = (camId, value) => {\r\n        const updated = { ...localAssignments, [camId]: value };\r\n        setLocalAssignments(updated);\r\n        onSave(updated); // Trigger immediate save\r\n    };\r\n\r\n    // Toggle Mode with AUTO-SAVE\r\n    const toggleMode = (key) => {\r\n        const updated = { ...localModes, [key]: !localModes[key] };\r\n        setLocalModes(updated);\r\n        onSaveModes(updated); // Trigger immediate save\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\", height: \"100%\", overflowY: \"auto\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 20 }}>\r\n                <h2 style={{ margin: 0 }}>Arming Configuration</h2>\r\n                <div style={{ fontSize: 12, color: \"#4caf50\", fontStyle: \"italic\" }}>\r\n                    Changes are saved automatically.\r\n                </div>\r\n            </div>\r\n\r\n            {/* MODES & LABELS */}\r\n            <div style={{ background: \"#252526\", padding: 15, marginBottom: 20, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>System Modes</h3>\r\n                <p style={{ fontSize: 13, color: \"#888\" }}>Define which global modes are currently ACTIVE. Cameras assigned to a mode will only arm if that mode is active.</p>\r\n\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\", gap: 15 }}>\r\n                    {[\"ARMED_AWAY\", \"ARMED_HOME\", \"ARMED_NIGHT\"].map(key => (\r\n                        <div key={key} style={{ background: \"#1e1e1e\", padding: 10, borderLeft: localModes[key] ? \"4px solid #4caf50\" : \"4px solid #f44336\" }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 5 }}>\r\n                                <input\r\n                                    value={localLabels[key] || key}\r\n                                    onChange={(e) => setLocalLabels({ ...localLabels, [key]: e.target.value })}\r\n                                    style={{ background: \"transparent\", border: \"none\", color: \"#fff\", fontWeight: \"bold\", borderBottom: \"1px solid #444\" }}\r\n                                />\r\n                                <div\r\n                                    onClick={() => toggleMode(key)}\r\n                                    style={{\r\n                                        cursor: \"pointer\",\r\n                                        padding: \"2px 8px\",\r\n                                        borderRadius: 4,\r\n                                        background: localModes[key] ? \"rgba(76, 175, 80, 0.2)\" : \"rgba(244, 67, 54, 0.2)\",\r\n                                        color: localModes[key] ? \"#4caf50\" : \"#f44336\",\r\n                                        fontSize: 11, fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    {localModes[key] ? \"ACTIVE\" : \"INACTIVE\"}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/* DEFINED SCHEDULES */}\r\n            <div style={{ background: \"#252526\", padding: 15, marginBottom: 20, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>Active Schedules</h3>\r\n                <p style={{ fontSize: 13, color: \"#888\" }}>Time-based automation schedules. Assign cameras below.</p>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\", gap: 15 }}>\r\n                    {(() => {\r\n                        const scheds = Array.isArray(schedules)\r\n                            ? schedules.map((s, i) => ({ id: i.toString(), ...s }))\r\n                            : Object.entries(schedules || {}).map(([k, v]) => ({ id: k, ...v }));\r\n\r\n                        if (scheds.length === 0) return <div style={{ color: \"#777\" }}>No schedules defined.</div>;\r\n\r\n                        return scheds.map((sch, realIdx) => (\r\n                            <div key={sch.id} style={{ background: \"#1e1e1e\", padding: 10, borderLeft: sch.enabled !== false ? \"4px solid #4caf50\" : \"4px solid #f44336\" }}>\r\n                                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 5 }}>\r\n                                    <div style={{ fontWeight: \"bold\", color: \"#fff\" }}>{sch.name || \"Untitled Schedule\"}</div>\r\n                                    <div\r\n                                        onClick={() => onToggleSchedule && onToggleSchedule(realIdx, sch.enabled !== false)}\r\n                                        style={{ cursor: \"pointer\", fontSize: 11, background: sch.enabled !== false ? \"rgba(76, 175, 80, 0.2)\" : \"rgba(244, 67, 54, 0.2)\", color: sch.enabled !== false ? \"#4caf50\" : \"#f44336\", padding: \"2px 6px\", borderRadius: 4, display: \"flex\", alignItems: \"center\" }}\r\n                                    >\r\n                                        {sch.enabled !== false ? \"ACTIVE\" : \"DISABLED\"}\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ fontSize: 11, color: \"#aaa\" }}>\r\n                                    {(sch.days || []).join(\", \") || \"Every Day\"} <br />\r\n                                    {(sch.intervals || []).map(i => `${i.start}-${i.end}`).join(\", \") || \"24/7\"}\r\n                                </div>\r\n                            </div>\r\n                        ));\r\n                    })()}\r\n                </div>\r\n            </div>\r\n\r\n            {/* ASSIGNMENT MATRIX */}\r\n            <div style={{ background: \"#252526\", padding: 15, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>Camera Assignments</h3>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 13 }}>\r\n                    <thead>\r\n                        <tr style={{ background: \"#333\" }}>\r\n                            <th style={{ padding: 10, textAlign: \"left\" }}>Camera</th>\r\n                            <th style={{ padding: 10, textAlign: \"left\" }}>Arming Strategy</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.map(cam => (\r\n                            <tr key={cam.id} style={{ borderBottom: \"1px solid #333\" }}>\r\n                                <td style={{ padding: 10 }}>\r\n                                    <div style={{ fontWeight: \"bold\" }}>{cam.name || cam.ip}</div>\r\n                                    <div style={{ fontSize: 11, color: \"#777\" }}>{cam.ip}</div>\r\n                                </td>\r\n                                <td style={{ padding: 10 }}>\r\n                                    <select\r\n                                        value={localAssignments[cam.id] || \"DISARMED\"}\r\n                                        onChange={(e) => handleAssign(cam.id, e.target.value)}\r\n                                        style={{ background: \"#1e1e1e\", color: \"#fff\", border: \"1px solid #555\", padding: 6, width: \"100%\", maxWidth: 300 }}\r\n                                    >\r\n                                        <option value=\"DISARMED\"> Disarmed (Never)</option>\r\n                                        <optgroup label=\"Follow Global Mode\">\r\n                                            {[\"ARMED_AWAY\", \"ARMED_HOME\", \"ARMED_NIGHT\"].map(m => (\r\n                                                <option key={m} value={m}>Follow '{localLabels[m] || m}'</option>\r\n                                            ))}\r\n                                        </optgroup>\r\n                                        <optgroup label=\"Schedules\">\r\n                                            {Object.entries(schedules).map(([id, sch]) => (\r\n                                                <option key={id} value={id}> {sch.name}</option>\r\n                                            ))}\r\n                                        </optgroup>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default ArmingMatrix;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { manufacturers as DB_MANUFACTURERS } from \"../data/cameraDB\";\r\nimport { Trash } from \"../components/Icons\"; // Assuming standard icon exist or I use text\r\n\r\nconst theme = {\r\n    bg: \"#121212\",\r\n    panel: \"#1e1e1e\",\r\n    border: \"#333\",\r\n    accent: \"#2196f3\",\r\n    success: \"#4caf50\",\r\n    error: \"#f44336\",\r\n    text: \"#e0e0e0\",\r\n    textDim: \"#aaa\"\r\n};\r\n\r\nexport default function CameraWizard({ onFinish, onUpdate, onOpenSetup }) {\r\n    const [scannedDevices, setScannedDevices] = useState([]);\r\n    const [scanning, setScanning] = useState(false);\r\n    const [savedCameras, setSavedCameras] = useState([]);\r\n\r\n    useEffect(() => { loadSaved(); }, []);\r\n\r\n    const loadSaved = () => {\r\n        API.get(\"cameras/config\").then(res => setSavedCameras(res.data)).catch(console.error);\r\n    };\r\n\r\n    const startScan = async () => {\r\n        setScanning(true);\r\n        setScannedDevices([]);\r\n        try {\r\n            const res = await API.post(\"discovery/scan\", {}, { timeout: 60000 });\r\n            if (Array.isArray(res.data)) setScannedDevices(res.data);\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setScanning(false);\r\n        }\r\n    };\r\n\r\n    const handleSelectDevice = (dev) => {\r\n        if (onOpenSetup) {\r\n            onOpenSetup({\r\n                ip: dev.ip,\r\n                user: \"admin\",\r\n                pass: \"\",\r\n                manufacturer: dev.manufacturer || \"Auto-Detect\"\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleManualAdd = () => {\r\n        if (onOpenSetup) {\r\n            onOpenSetup({\r\n                ip: \"\",\r\n                user: \"admin\",\r\n                pass: \"\",\r\n                manufacturer: \"\"\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id, e) => {\r\n        e.stopPropagation();\r\n        if (!window.confirm(\"Are you sure you want to delete this camera?\")) return;\r\n\r\n        try {\r\n            await API.delete(`cameras/${id}`);\r\n            loadSaved();\r\n            if (onUpdate) onUpdate();\r\n        } catch (e) {\r\n            alert(\"Delete failed: \" + (e.response?.data?.error || e.message));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", height: \"100%\", background: theme.bg, color: theme.text, fontFamily: \"Segoe UI, sans-serif\" }}>\r\n\r\n            {/* SIDEBAR */}\r\n            <div style={{ width: 320, borderRight: `1px solid ${theme.border}`, display: \"flex\", flexDirection: \"column\", background: \"#181818\" }}>\r\n                <div style={{ padding: 15 }}>\r\n                    <div style={{ fontSize: 14, fontWeight: \"bold\", marginBottom: 10, color: theme.accent }}>DISCOVERED DEVICES</div>\r\n                    <button onClick={startScan} disabled={scanning} style={{ width: \"100%\", padding: \"8px\", background: scanning ? \"#333\" : theme.accent, color: \"#fff\", border: \"none\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\" }}>\r\n                        {scanning ? \"SCANNING...\" : \"SCAN NETWORK\"}\r\n                    </button>\r\n                </div>\r\n                <div style={{ flex: 1, overflowY: \"auto\", padding: 10 }}>\r\n                    {scannedDevices.map((dev, i) => {\r\n                        const isAdded = savedCameras.some(c => c.ip === dev.ip);\r\n                        return (\r\n                            <div key={i} onClick={() => !isAdded && handleSelectDevice(dev)}\r\n                                style={{\r\n                                    padding: 10, marginBottom: 5, borderRadius: 4,\r\n                                    background: isAdded ? \"rgba(76, 175, 80, 0.1)\" : \"#252526\",\r\n                                    border: `1px solid ${isAdded ? theme.success : \"#333\"}`,\r\n                                    cursor: isAdded ? \"default\" : \"pointer\", opacity: isAdded ? 0.6 : 1\r\n                                }}\r\n                            >\r\n                                <div style={{ fontWeight: \"bold\" }}>{dev.ip}</div>\r\n                                <div style={{ fontSize: 11, color: theme.textDim }}>{dev.manufacturer} {dev.model}</div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* MAIN FORM */}\r\n            <div style={{ flex: 1, display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\", background: \"#121212\" }}>\r\n                <div style={{ width: \"100%\", maxWidth: 500, background: theme.panel, padding: 40, borderRadius: 8, border: `1px solid ${theme.border}`, boxShadow: \"0 10px 30px rgba(0,0,0,0.5)\", textAlign: \"center\" }}>\r\n                    <h2 style={{ margin: \"0 0 20px 0\", color: \"#fff\" }}>ADD CAMERA</h2>\r\n                    <p style={{ color: \"#aaa\", marginBottom: 30 }}>\r\n                        Select a discovered device from the list on the left<br />\r\n                        or manually configure a new connection.\r\n                    </p>\r\n\r\n                    <button onClick={handleManualAdd} style={{ padding: \"15px 30px\", background: theme.accent, color: \"#fff\", border: \"none\", borderRadius: 4, fontSize: 16, fontWeight: \"bold\", cursor: \"pointer\", width: \"100%\" }}>\r\n                        MANUAL ADD (CONNECTION SETUP)\r\n                    </button>\r\n\r\n                    <div style={{ marginTop: 20, fontSize: 12, color: \"#666\" }}>\r\n                        Opens the Advanced Connection Setup Dialog\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ACTIVE CAMERAS LIST WITH DELETE */}\r\n                <div style={{ marginTop: 40, width: \"100%\", maxWidth: 800 }}>\r\n                    <h3 style={{ color: theme.textDim, fontSize: 13, textTransform: \"uppercase\", borderBottom: `1px solid ${theme.border}`, paddingBottom: 5 }}>Active Cameras ({savedCameras.length})</h3>\r\n                    <div style={{ display: \"flex\", gap: 10, overflowX: \"auto\", padding: \"10px 0\" }}>\r\n                        {savedCameras.map(c => (\r\n                            <div key={c.id} style={{\r\n                                minWidth: 160, padding: 12, background: \"#222\", border: `1px solid ${theme.border}`, borderRadius: 4, fontSize: 12, position: \"relative\"\r\n                            }}>\r\n                                <button\r\n                                    onClick={(e) => handleDelete(c.id, e)}\r\n                                    title=\"Delete Camera\"\r\n                                    style={{\r\n                                        position: \"absolute\", top: 5, right: 5, background: \"transparent\", border: \"none\", color: \"#f44336\", cursor: \"pointer\", fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    \r\n                                </button>\r\n                                <div style={{ fontWeight: \"bold\", color: \"#fff\", marginBottom: 3, paddingRight: 20 }}>{c.ip}</div>\r\n                                <div style={{ color: theme.textDim }}>{c.manufacturer}</div>\r\n                                <div style={{ marginTop: 5, display: \"flex\", alignItems: \"center\", gap: 5 }}>\r\n                                    <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: c.connected ? theme.success : theme.error }}></div>\r\n                                    <span style={{ color: c.connected ? theme.success : theme.error }}>{c.connected ? \"Online\" : \"Offline\"}</span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst labelStyle = { display: \"block\", marginBottom: 5, color: \"#aaa\", fontSize: 12, fontWeight: \"600\" };\r\nconst inputStyle = { width: \"100%\", padding: \"10px\", background: \"#252526\", border: \"1px solid #444\", color: \"#fff\", borderRadius: 4, boxSizing: \"border-box\" };\r\n","export const colors = {\r\n    bg: \"#1e1e1e\",\r\n    panel: \"#252526\",\r\n    accent: \"#007acc\",\r\n    text: \"#cccccc\",\r\n    border: \"#3e3e42\"\r\n};\r\n\r\nexport const styles = {\r\n    sectionHeader: { borderBottom: \"1px solid #444\", paddingBottom: 10, marginBottom: 15, fontSize: 16, fontWeight: \"bold\", color: \"#fff\" },\r\n    formGrid: { display: \"grid\", gridTemplateColumns: \"150px 1fr\", gap: 15, marginBottom: 10, alignItems: \"center\" },\r\n    label: { color: \"#aaa\", fontSize: 13 },\r\n    input: { background: \"#333\", border: \"1px solid #555\", color: \"#fff\", padding: 5, width: \"100%\", maxWidth: 300 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: colors.accent, color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n    table: { width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" },\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n    inputTable: { background: \"#444\", border: \"1px solid #555\", color: \"#fff\", width: \"100%\", padding: 2 },\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { colors, styles } from \"./styles\"; // Shared Styles\r\n\r\nexport function InterfaceSettings({ networkConfig, setNetworkConfig, saveNetwork }) {\r\n    const [ifaceTab, setIfaceTab] = useState(0);\r\n    const isManual = networkConfig.mode === \"manual\";\r\n    const interfaces = networkConfig.availableInterfaces || [];\r\n    const activeIface = interfaces[ifaceTab] || interfaces[0];\r\n\r\n    // Helper to sync state with selected interface\r\n    const syncToInterface = (iface, idx) => {\r\n        setIfaceTab(idx);\r\n        setNetworkConfig(prev => ({\r\n            ...prev,\r\n            interface: iface.interface,\r\n            ip: iface.ip || \"\",\r\n            netmask: iface.netmask || \"255.255.255.0\",\r\n            gateway: iface.gateway || \"\",\r\n            dns1: iface.dns1 || \"\",\r\n            dns2: iface.dns2 || \"\"\r\n        }));\r\n    };\r\n\r\n    // Auto-Select First Interface on Load if not set\r\n    useEffect(() => {\r\n        if (interfaces.length > 0 && !networkConfig.interface) {\r\n            syncToInterface(interfaces[0], 0);\r\n        }\r\n    }, [interfaces]);\r\n\r\n    const handleTabClick = (idx) => {\r\n        const sel = interfaces[idx];\r\n        syncToInterface(sel, idx);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Interface Settings (IPv4/IPv6)</h2>\r\n\r\n            <div style={{ display: \"flex\", gap: 10, marginBottom: 20 }}>\r\n                {Array.isArray(interfaces) && interfaces.map((video, idx) => (\r\n                    <button\r\n                        key={idx}\r\n                        onClick={() => handleTabClick(idx)}\r\n                        style={{\r\n                            padding: \"8px 16px\",\r\n                            background: ifaceTab === idx ? \"#ff9800\" : \"#333\",\r\n                            color: ifaceTab === idx ? \"#000\" : \"#ccc\",\r\n                            border: \"none\", cursor: \"pointer\", fontWeight: \"bold\", borderRadius: 4\r\n                        }}\r\n                    >\r\n                        {video.interface} ({video.ip || \"No IP\"})\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 700 }}>\r\n                <div style={{ marginBottom: 15, borderBottom: \"1px solid #444\", paddingBottom: 10, fontWeight: \"bold\", color: \"#ddd\", display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <span>Configuration for <span style={{ color: \"#ff9800\" }}>{activeIface?.interface}</span></span>\r\n                    <span style={{ fontSize: 12, color: '#aaa', background: '#333', padding: '2px 6px', borderRadius: 4 }}>{activeIface?.family || \"IPv4\"}</span>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 20, display: \"flex\", gap: 20 }}>\r\n                    <label style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\", color: !isManual ? \"#fff\" : \"#aaa\" }}>\r\n                        <input type=\"radio\" name=\"netmode\" checked={!isManual} onChange={() => setNetworkConfig({ ...networkConfig, mode: \"dhcp\" })} style={{ marginRight: 8 }} />\r\n                        DHCP (Automatic)\r\n                    </label>\r\n                    <label style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\", color: isManual ? \"#fff\" : \"#aaa\" }}>\r\n                        <input type=\"radio\" name=\"netmode\" checked={isManual} onChange={() => setNetworkConfig({ ...networkConfig, mode: \"manual\" })} style={{ marginRight: 8 }} />\r\n                        Manual Configuration\r\n                    </label>\r\n                </div>\r\n\r\n                <div style={{ opacity: isManual ? 1 : 0.5, pointerEvents: isManual ? \"auto\" : \"none\", transition: \"0.2s\" }}>\r\n                    <div style={styles.formGrid}><label style={styles.label}>IPv4 Address:</label><input style={styles.input} value={networkConfig.ip || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, ip: e.target.value })} placeholder=\"192.168.1.50\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>Netmask:</label><input style={styles.input} value={networkConfig.netmask || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, netmask: e.target.value })} placeholder=\"255.255.255.0\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>Gateway (Global):</label><input style={styles.input} value={networkConfig.gateway || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, gateway: e.target.value })} placeholder=\"192.168.1.1\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>DNS Server 1:</label><input style={styles.input} value={networkConfig.dns1 || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, dns1: e.target.value })} placeholder=\"8.8.8.8\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>DNS Server 2:</label><input style={styles.input} value={networkConfig.dns2 || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, dns2: e.target.value })} placeholder=\"8.8.4.4\" /></div>\r\n                </div>\r\n                <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <button style={styles.btnPrimary} onClick={saveNetwork}>\r\n                        Save Settings for {activeIface?.interface}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Lock } from \"../../../components/Icons\"; // Adjust path .. .. ..\r\nimport { colors, styles } from \"./styles\";\r\n\r\nexport function VPNSettings({ netConfig, setNetConfig, connectVPN, connectDualVPN, saveImportedVPN }) {\r\n    const [vpnTab, setVpnTab] = useState(\"wg0\");\r\n    const prefix = vpnTab;\r\n    const getConf = (k) => netConfig[`${prefix}_${k}`];\r\n    const setConf = (k, v) => setNetConfig({ ...netConfig, [`${prefix}_${k}`]: v });\r\n\r\n    const status = getConf(\"status\");\r\n    const isConnected = status && status.includes(\"Connected\");\r\n\r\n    const handleImportConfig = (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            try {\r\n                const bundle = JSON.parse(event.target.result);\r\n                if (!bundle.mgmt || !bundle.ai) throw new Error(\"Format fiier invalid (Pachet Dual VPN necesar)\");\r\n\r\n                const newCfg = { ...netConfig };\r\n\r\n                // Map Management (wg0)\r\n                newCfg.wg0_address = bundle.mgmt.interface.address;\r\n                newCfg.wg0_privateKey = bundle.mgmt.interface.privateKey;\r\n                newCfg.wg0_serverPubKey = bundle.mgmt.peer.publicKey;\r\n                newCfg.wg0_endpoint = bundle.mgmt.peer.endpoint;\r\n                newCfg.wg0_allowedIps = bundle.mgmt.peer.allowedIps;\r\n\r\n                // Map AI (wg1)\r\n                newCfg.wg1_address = bundle.ai.interface.address;\r\n                newCfg.wg1_privateKey = bundle.ai.interface.privateKey;\r\n                newCfg.wg1_serverPubKey = bundle.ai.peer.publicKey;\r\n                newCfg.wg1_endpoint = bundle.ai.peer.endpoint;\r\n                newCfg.wg1_allowedIps = bundle.ai.peer.allowedIps;\r\n\r\n                setNetConfig(newCfg);\r\n\r\n                // Auto-Apply if the handler is provided\r\n                if (saveImportedVPN) {\r\n                    if (window.confirm(\"Configuraie valid! Dorii s aplicai setrile pentru AMBELE tuneluri VPN acum?\")) {\r\n                        saveImportedVPN(bundle);\r\n                    }\r\n                } else {\r\n                    alert(\"Configuraie VPN importat n memorie! Apsai 'Update & Connect'.\");\r\n                }\r\n\r\n            } catch (err) {\r\n                alert(\"Eroare la citirea fiierului: \" + err.message);\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>VPN Configuration (Dual WireGuard)</h2>\r\n\r\n            <div style={{ display: \"flex\", gap: 10, marginBottom: 20 }}>\r\n                <button\r\n                    onClick={() => setVpnTab(\"wg0\")}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: vpnTab === \"wg0\" ? \"#007acc\" : \"#333\",\r\n                        color: \"#fff\", border: \"none\", cursor: \"pointer\", fontWeight: \"bold\",\r\n                        borderBottom: vpnTab === \"wg0\" ? \"2px solid #fff\" : \"none\"\r\n                    }}\r\n                >\r\n                    <Lock size={14} style={{ marginRight: 5 }} /> VPN #1 (Management)\r\n                </button>\r\n                <button\r\n                    onClick={() => setVpnTab(\"wg1\")}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: vpnTab === \"wg1\" ? \"#e91e63\" : \"#333\",\r\n                        color: \"#fff\", border: \"none\", cursor: \"pointer\", fontWeight: \"bold\",\r\n                        borderBottom: vpnTab === \"wg1\" ? \"2px solid #fff\" : \"none\"\r\n                    }}\r\n                >\r\n                    [AI] VPN #2 (AI Stream)\r\n                </button>\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ marginBottom: 20, padding: 10, background: isConnected ? \"rgba(76, 175, 80, 0.1)\" : \"rgba(244, 67, 54, 0.1)\", border: \"1px solid #444\", borderRadius: 4 }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        <div style={{ fontWeight: \"bold\", color: isConnected ? \"#4caf50\" : \"#f44336\" }}>\r\n                            Interface: {prefix.toUpperCase()} | Status: {status || \"Not Configured\"}\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"file\"\r\n                                id=\"vpn-import\"\r\n                                accept=\".json\"\r\n                                style={{ display: \"none\" }}\r\n                                onChange={handleImportConfig}\r\n                            />\r\n                            <button\r\n                                onClick={() => document.getElementById('vpn-import').click()}\r\n                                style={{ background: \"#2e7d32\", color: \"#fff\", border: \"1px solid #4caf50\", padding: \"4px 8px\", borderRadius: 4, cursor: \"pointer\", fontSize: 11, fontWeight: \"bold\" }}\r\n                            >\r\n                                 Import VPN (.json)\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {getConf(\"ip\") && <div style={{ fontSize: 13, color: \"#ccc\", marginTop: 5 }}>Internal IP: <b style={{ color: \"#fff\" }}>{getConf(\"ip\")}</b></div>}\r\n                </div>\r\n\r\n                <h3 style={{ fontSize: 14, color: \"#aaa\", borderBottom: \"1px solid #444\", paddingBottom: 5 }}>\r\n                    {vpnTab === \"wg0\" ? \"Management Tunnel Settings\" : \"High-Speed AI Tunnel Settings\"}\r\n                </h3>\r\n\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>IP Address (Client)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"address\") || \"\"}\r\n                        onChange={e => setConf(\"address\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"10.100.0.x/16\" : \"10.100.1.x/16\"}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Private Key (Client)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }} type=\"password\"\r\n                        value={getConf(\"privateKey\") || \"\"}\r\n                        onChange={e => setConf(\"privateKey\", e.target.value)}\r\n                        placeholder=\"Client Private Key\"\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Public Key (Server)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"serverPubKey\") || \"\"}\r\n                        onChange={e => setConf(\"serverPubKey\", e.target.value)}\r\n                        placeholder=\"Server Public Key\"\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Endpoint (Server IP:Port)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"endpoint\") || \"\"}\r\n                        onChange={e => setConf(\"endpoint\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"194.107.163.227:51820\" : \"194.107.163.227:51821\"}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 20 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Allowed IPs</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"allowedIps\") || \"\"}\r\n                        onChange={e => setConf(\"allowedIps\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"10.100.0.0/16\" : \"10.100.1.0/24\"}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <button\r\n                        style={{ ...styles.btnPrimary, flex: 2 }}\r\n                        onClick={() => connectVPN(vpnTab)}\r\n                    >\r\n                        Update & Connect {vpnTab.toUpperCase()}\r\n                    </button>\r\n\r\n                    {netConfig.wg1_privateKey && (\r\n                        <button\r\n                            style={{ ...styles.btnPrimary, flex: 3, background: \"#ff9800\", color: \"#000\" }}\r\n                            onClick={connectDualVPN}\r\n                        >\r\n                             Connect ALL VPN Tunnels (Dual)\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../../api\";\r\nimport { colors, styles } from \"./styles\";\r\n\r\nexport function DispatchSettings({ netConfig, setNetConfig, saveDispatch }) {\r\n    const [syncing, setSyncing] = useState(false);\r\n\r\n    const handleSync = async () => {\r\n        setSyncing(true);\r\n        try {\r\n            const res = await API.post(\"/dispatch/sync\");\r\n            alert(\"Sync Result: \" + res.data.message);\r\n        } catch (e) {\r\n            alert(\"Sync Failed: \" + (e.response?.data?.error || e.message));\r\n        } finally {\r\n            setSyncing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Evenimente Server (Dispatch)</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", color: \"#aaa\", fontSize: 12, marginBottom: 5 }}>Dispatch URL (Primary)</label>\r\n                    <input\r\n                        style={{ ...styles.input, width: \"100%\", maxWidth: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={netConfig.dispatchUrl || \"\"}\r\n                        onChange={e => setNetConfig({ ...netConfig, dispatchUrl: e.target.value })}\r\n                        placeholder=\"http://dispatch.example.com/events\"\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 20 }}>\r\n                    <button style={styles.btnPrimary} onClick={saveDispatch}>Save Dispatch Config</button>\r\n                    <button\r\n                        style={{ ...styles.btnToolbar, background: \"#4caf50\", color: \"#fff\", border: \"none\" }}\r\n                        onClick={handleSync}\r\n                        disabled={syncing}\r\n                    >\r\n                        {syncing ? \"Syncing...\" : \"Sync Now (Manual)\"}\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={{ borderTop: \"1px solid #444\", paddingTop: 15, marginTop: 15 }}>\r\n                    <h4 style={{ margin: \"0 0 10px 0\", color: \"#888\", fontSize: 12 }}>Active Connection Status</h4>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.vpn_status === \"Connected\") ? \"#4caf50\" : \"#f44336\", borderRadius: \"50%\" }}></div>\r\n                        <span>VPN: {netConfig.vpn_status || \"Disconnected\"}</span>\r\n                    </div>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\", marginTop: 5 }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.wg1_status === \"Connected\") ? \"#e91e63\" : \"#555\", borderRadius: \"50%\" }}></div>\r\n                        <span>AI HUB: {netConfig.wg1_status === \"Connected\" ? \"Active (10.200.0.2)\" : \"Searching...\"}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { styles } from \"./styles\";\r\n\r\nexport function SystemPortsSection() {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>System Port Usage</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 800 }}>\r\n                <table style={styles.table}>\r\n                    <thead><tr><th style={styles.th}>Serviciu</th><th style={styles.th}>Port</th><th style={styles.th}>Protocol</th><th style={styles.th}>Descriere</th></tr></thead>\r\n                    <tbody>\r\n                        <tr><td style={styles.td}>Interfata Web</td><td style={styles.td}>80</td><td style={styles.td}>TCP</td><td style={styles.td}>Acces Panou Control</td></tr>\r\n                        <tr><td style={styles.td}>API Local</td><td style={styles.td}>3000</td><td style={styles.td}>TCP</td><td style={styles.td}>Backend Intern</td></tr>\r\n                        <tr><td style={styles.td}>SSH</td><td style={styles.td}>22</td><td style={styles.td}>TCP</td><td style={styles.td}>Administrare</td></tr>\r\n                        <tr><td style={styles.td}>WireGuard</td><td style={styles.td}>51820/51821</td><td style={styles.td}>UDP</td><td style={styles.td}>VPN Tunnels</td></tr>\r\n                        <tr><td style={styles.td}>RTSP</td><td style={styles.td}>554/8554</td><td style={styles.td}>TCP/UDP</td><td style={styles.td}>Video Streams</td></tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { Trash } from \"../../components/Icons\";\r\n\r\nconst styles = {\r\n    input: { background: \"#333\", border: \"1px solid #555\", color: \"#fff\", padding: 5, width: \"100%\", maxWidth: 300 },\r\n    label: { color: \"#aaa\", fontSize: 13 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n};\r\n\r\nexport function AddUserSection({ newUserForm, setNewUserForm, handleAddUser }) {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Add User</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 500 }}>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Login</label>\r\n                    <input style={{ ...styles.input, width: \"100%\" }} value={newUserForm.username} onChange={e => setNewUserForm({ ...newUserForm, username: e.target.value })} />\r\n                </div>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Password</label>\r\n                    <input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={newUserForm.password} onChange={e => setNewUserForm({ ...newUserForm, password: e.target.value })} />\r\n                </div>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Confirm password</label>\r\n                    <input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={newUserForm.confirm} onChange={e => setNewUserForm({ ...newUserForm, confirm: e.target.value })} />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <button style={styles.btnPrimary} onClick={handleAddUser}>Create User</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function UserSettingsSection({ selectedUser, setSelectedUser, currentUser, handleDeleteUser, loadUsers }) {\r\n    const toggleMenu = (menuId) => {\r\n        const current = selectedUser.menus || [];\r\n        const next = current.includes(menuId)\r\n            ? current.filter(m => m !== menuId)\r\n            : [...current, menuId];\r\n        setSelectedUser({ ...selectedUser, menus: next });\r\n    };\r\n\r\n    const savePerms = async () => {\r\n        if (currentUser.role !== 'admin') return;\r\n        try {\r\n            await API.put(`/auth/users/${selectedUser.id}`, { menus: selectedUser.menus });\r\n            alert(\"Permisiuni salvate cu succes!\");\r\n            loadUsers();\r\n        } catch (e) { alert(\"Eroare salvare: \" + e.message); }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>User Settings - {selectedUser.name}</h2>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 30 }}>\r\n                <div>\r\n                    <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 20 }}>\r\n                        <div style={{ fontSize: 40, marginRight: 20 }}>{selectedUser.icon}</div>\r\n                        <div style={{ flex: 1 }}>\r\n                            <label style={styles.label}>User name:</label>\r\n                            <input style={{ ...styles.input, width: \"100%\" }} value={selectedUser.name} readOnly disabled={true} />\r\n                            {currentUser.role === 'admin' && selectedUser.role !== 'admin' && (\r\n                                <button style={{ ...styles.btnToolbar, marginTop: 10, color: \"#f44336\" }} onClick={() => handleDeleteUser(selectedUser.name)}>[Del] Delete user</button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 20, border: \"1px solid #444\", padding: 15, background: \"#222\" }}>\r\n                        <h4 style={{ marginTop: 0, marginBottom: 15, color: \"#ccc\" }}>Acces Meniuri (Vizibilitate)</h4>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr\", gap: 8 }}>\r\n                            {[\r\n                                { id: \"LIVE\", label: \"Monitorizare Live\" },\r\n                                { id: \"ARCHIVE\", label: \"Arhiva Inregistrari\" },\r\n                                { id: \"SETTINGS\", label: \"Setari Sistem\" },\r\n                                { id: \"HARDWARE\", label: \"Gestionare Hardware\" },\r\n                                { id: \"NETWORK\", label: \"Setari Retea\" }\r\n                            ].map(m => (\r\n                                <label key={m.id} style={{ display: \"flex\", alignItems: \"center\", gap: 10, cursor: \"pointer\", color: \"#ddd\" }}>\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedUser.menus?.includes(m.id)}\r\n                                        onChange={() => toggleMenu(m.id)}\r\n                                        disabled={currentUser.role !== 'admin'}\r\n                                    />\r\n                                    {m.label}\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                        {currentUser.role === 'admin' && (\r\n                            <button style={{ ...styles.btnPrimary, width: \"100%\", marginTop: 20 }} onClick={savePerms}>Salveaza Permisiuni</button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\"; // Added\r\nimport { API } from \"../../api\";\r\n\r\nconst styles = {\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n    table: { width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" },\r\n};\r\n\r\nexport function OrphansSection() {\r\n    const [orphans, setOrphans] = useState(null);\r\n    const navigate = useNavigate(); // Hook usage\r\n\r\n    useEffect(() => {\r\n        API.get(\"/cameras/orphans\")\r\n            .then(res => {\r\n                if (Array.isArray(res.data)) {\r\n                    setOrphans(res.data);\r\n                } else {\r\n                    setOrphans([]);\r\n                }\r\n            })\r\n            .catch(() => setOrphans([]));\r\n    }, []);\r\n\r\n    const handleDelete = async (uuid) => {\r\n        if (!window.confirm(\"Sunteti sigur ca doriti sa stergeti aceste inregistrari? Aceasta actiune este ireversibila.\")) return;\r\n        try {\r\n            await API.delete(\"/cameras/orphans\", { data: { uuid } });\r\n            setOrphans(prev => Array.isArray(prev) ? prev.filter(o => o.uuid !== uuid) : []);\r\n        } catch (e) {\r\n            alert(\"Eroare la stergere: \" + e.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Camere Sterse (Arhiva)</h2>\r\n            <p style={{ color: \"#aaa\", fontSize: 13 }}>Aceste directoare contin inregistrari dar nu sunt legate de nicio camera activa.</p>\r\n            <div style={{ background: \"#252526\", padding: 10, border: \"1px solid #444\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" }}>\r\n                    <thead><tr><th style={styles.th}>UUID Folder / Inregistrari</th><th style={styles.th}>Ultima Modificare</th><th style={styles.th}>Actiune</th></tr></thead>\r\n                    <tbody>\r\n                        {!orphans ? <tr><td colSpan=\"3\" style={{ padding: 20, textAlign: \"center\" }}>Loading...</td></tr> :\r\n                            (!Array.isArray(orphans) || orphans.length === 0) ? <tr><td colSpan=\"3\" style={{ padding: 20, textAlign: \"center\", color: \"#666\" }}>No orphaned recordings found.</td></tr> :\r\n                                orphans.map(o => (\r\n                                    <tr key={o.uuid} style={{ background: \"transparent\", transition: \"0.2s\" }}>\r\n                                        <td style={styles.td}>\r\n                                            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n                                                {o.uuid}\r\n                                                <span\r\n                                                    onClick={() => navigate(`/playback?camId=${o.uuid}`)} // Fixed navigation\r\n                                                    style={{ color: \"#81d4fa\", cursor: \"pointer\", textDecoration: \"underline\", background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4, fontSize: 11 }}\r\n                                                >\r\n                                                    Vezi Inregistrari [->]\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td style={styles.td}>{new Date(o.birthtime).toLocaleString()}</td>\r\n                                        <td style={styles.td}>\r\n                                            <button\r\n                                                style={{ marginRight: 10, padding: \"6px 15px\", background: \"#f44336\", color: \"#fff\", border: \"none\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" }}\r\n                                                onClick={() => handleDelete(o.uuid)}\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ArchiveSettingsSection({ cams }) {\r\n    const [stats, setStats] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchStats = () => {\r\n            API.get(\"/recorder/status\")\r\n                .then(res => setStats(res.data))\r\n                .catch(e => console.error(\"Failed to load recorder stats:\", e));\r\n        };\r\n        fetchStats();\r\n        const interval = setInterval(fetchStats, 30000); // Update every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const formatBytes = (bytes) => {\r\n        if (!bytes) return \"0.00 GB\";\r\n        return (bytes / (1024 * 1024 * 1024)).toFixed(2) + \" GB\";\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Archive & Storage Management</h2>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", marginBottom: 20 }}>\r\n                <h3 style={{ marginTop: 0, marginBottom: 15 }}>Recorded Streams Status</h3>\r\n                <table style={styles.table}>\r\n                    <thead>\r\n                        <tr><th style={styles.th}>Camera</th><th style={styles.th}>Main Stream</th><th style={styles.th}>Sub Stream</th><th style={styles.th}>Retention</th><th style={styles.th}>Status</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.map((c, i) => (\r\n                            <tr key={i}>\r\n                                <td style={styles.td}>{c.name || c.ip}</td>\r\n                                <td style={styles.td}>{c.recordStream === 'main' || !c.recordStream ? \"YES\" : \"NO\"}</td>\r\n                                <td style={styles.td}>{c.recordStream === 'sub' ? \"YES\" : \"NO\"}</td>\r\n                                <td style={styles.td}>{c.retention || 7} Days</td>\r\n                                <td style={styles.td}>\r\n                                    <span style={{ color: c.enabled ? \"#4caf50\" : \"#f44336\" }}>{c.enabled ? \"Active\" : \"Disabled\"}</span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20 }}>\r\n                <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\" }}>\r\n                    <h3 style={{ marginTop: 0, marginBottom: 15 }}>Archive Statistics</h3>\r\n                    {stats ? (\r\n                        <div style={{ display: \"grid\", gap: 8, fontSize: 13, color: \"#ddd\" }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Total Cameras:</span>\r\n                                <b>{Object.keys(stats.cameras || {}).length}</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Recording:</span>\r\n                                <b>{Object.values(stats.cameras || {}).filter(c => c.main || c.sub).length}</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Disk Usage:</span>\r\n                                <b>{stats.storage?.usedPercent || 0}% Full</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Available Space:</span>\r\n                                <b>{stats.storage?.avail || \"N/A\"}</b>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ color: \"#666\", textAlign: \"center\", padding: 20 }}>Loading statistics...</div>\r\n                    )}\r\n                </div>\r\n\r\n                <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\" }}>\r\n                    <h3 style={{ marginTop: 0, marginBottom: 15 }}>Camera Recording Status</h3>\r\n                    {stats && stats.cameras ? (\r\n                        <div style={{ display: \"grid\", gap: 8, fontSize: 13, color: \"#ddd\" }}>\r\n                            {Object.entries(stats.cameras).map(([camId, status]) => (\r\n                                <div key={camId} style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"4px 0\", borderBottom: \"1px solid #333\" }}>\r\n                                    <span style={{ color: \"#aaa\" }}>{camId}:</span>\r\n                                    <span>\r\n                                        {status.main && <span style={{ color: \"#4caf50\", marginRight: 8 }}>MAIN</span>}\r\n                                        {status.sub && <span style={{ color: \"#2196f3\" }}>SUB</span>}\r\n                                        {!status.main && !status.sub && <span style={{ color: \"#666\" }}>IDLE</span>}\r\n                                    </span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ color: \"#666\", textAlign: \"center\", padding: 20 }}>No camera data</div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", marginTop: 20 }}>\r\n                <h3 style={{ marginTop: 0, borderBottom: \"1px solid #444\", paddingBottom: 10 }}>Active Camera Storage Mapping</h3>\r\n                <table style={styles.table}>\r\n                    <thead>\r\n                        <tr><th style={styles.th}>Camera Name / IP</th><th style={styles.th}>Storage ID</th><th style={styles.th}>Physical HDD Path</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.filter(c => c.enabled).map((cam, idx) => (\r\n                            <tr key={idx}>\r\n                                <td style={styles.td}>{cam.name || cam.ip}</td>\r\n                                <td style={styles.td}><code style={{ color: \"#aaa\" }}>{cam.storagePath || \"N/A\"}</code></td>\r\n                                <td style={styles.td}>\r\n                                    <input type=\"text\" readOnly value={cam.physicalPath || \"Generating...\"} style={{ width: \"100%\", background: \"#111\", border: \"1px solid #333\", color: \"#007acc\", fontSize: 11, padding: \"4px 8px\", fontFamily: \"monospace\", borderRadius: 3 }} />\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M17 20v2', key: '1rnc9c' }],\n  ['path', { d: 'M17 2v2', key: '11trls' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M2 17h2', key: '7oei6x' }],\n  ['path', { d: 'M2 7h2', key: 'asdhe0' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'M20 17h2', key: '1fpfkl' }],\n  ['path', { d: 'M20 7h2', key: '1o8tra' }],\n  ['path', { d: 'M7 20v2', key: '4gnj0m' }],\n  ['path', { d: 'M7 2v2', key: '1i4yhu' }],\n  ['rect', { x: '4', y: '4', width: '16', height: '16', rx: '2', key: '1vbyd7' }],\n  ['rect', { x: '8', y: '8', width: '8', height: '8', rx: '1', key: 'z9xiuo' }],\n];\n\n/**\n * @component @name Cpu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjB2MiIgLz4KICA8cGF0aCBkPSJNMTIgMnYyIiAvPgogIDxwYXRoIGQ9Ik0xNyAyMHYyIiAvPgogIDxwYXRoIGQ9Ik0xNyAydjIiIC8+CiAgPHBhdGggZD0iTTIgMTJoMiIgLz4KICA8cGF0aCBkPSJNMiAxN2gyIiAvPgogIDxwYXRoIGQ9Ik0yIDdoMiIgLz4KICA8cGF0aCBkPSJNMjAgMTJoMiIgLz4KICA8cGF0aCBkPSJNMjAgMTdoMiIgLz4KICA8cGF0aCBkPSJNMjAgN2gyIiAvPgogIDxwYXRoIGQ9Ik03IDIwdjIiIC8+CiAgPHBhdGggZD0iTTcgMnYyIiAvPgogIDxyZWN0IHg9IjQiIHk9IjQiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgcng9IjIiIC8+CiAgPHJlY3QgeD0iOCIgeT0iOCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/cpu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cpu = createLucideIcon('cpu', __iconNode);\n\nexport default Cpu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n];\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('activity', __iconNode);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { Save, RefreshCw, Cpu, Shield, AlertTriangle, Activity, Clock } from \"lucide-react\";\r\n\r\nexport function AISection() {\r\n    const [activeTab, setActiveTab] = useState(\"antispam\"); // or 'hub'\r\n    const [cameras, setCameras] = useState([]);\r\n    const [selectedCamera, setSelectedCamera] = useState(\"default\");\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\" }}>\r\n            <h3 style={{ display: \"flex\", alignItems: \"center\", gap: 10, borderBottom: \"1px solid #444\", paddingBottom: 10 }}>\r\n                <Cpu size={20} /> AI & Inteligen\r\n            </h3>\r\n\r\n            {/* Tabs */}\r\n            <div style={{ display: \"flex\", gap: 20, marginTop: 20, borderBottom: \"1px solid #333\" }}>\r\n                <TabButton\r\n                    label=\"Anti-Spam Intelligence\"\r\n                    icon={<Shield size={16} />}\r\n                    active={activeTab === \"antispam\"}\r\n                    onClick={() => setActiveTab(\"antispam\")}\r\n                />\r\n                <TabButton\r\n                    label=\"Hub Connection\"\r\n                    icon={<Activity size={16} />}\r\n                    active={activeTab === \"hub\"}\r\n                    onClick={() => setActiveTab(\"hub\")}\r\n                />\r\n            </div>\r\n\r\n            <div style={{ marginTop: 20 }}>\r\n                {activeTab === \"hub\" && <HubSettings />}\r\n                {activeTab === \"antispam\" && <AntiSpamSettings />}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction TabButton({ label, icon, active, onClick }) {\r\n    return (\r\n        <div\r\n            onClick={onClick}\r\n            style={{\r\n                padding: \"10px 0\",\r\n                cursor: \"pointer\",\r\n                borderBottom: active ? \"2px solid #2196f3\" : \"2px solid transparent\",\r\n                color: active ? \"#fff\" : \"#888\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: 8,\r\n                fontWeight: active ? \"bold\" : \"normal\"\r\n            }}\r\n        >\r\n            {icon} {label}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AntiSpamSettings() {\r\n    const [cameras, setCameras] = useState([]);\r\n    const [selectedCam, setSelectedCam] = useState(\"default\");\r\n    const [config, setConfig] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [saving, setSaving] = useState(false);\r\n    const [stats, setStats] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadCameras();\r\n        loadStats();\r\n        // Poll stats\r\n        const interval = setInterval(loadStats, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedCam) loadConfig(selectedCam);\r\n    }, [selectedCam]);\r\n\r\n    const loadCameras = async () => {\r\n        try {\r\n            const res = await API.get(\"/cameras\");\r\n            setCameras(res.data || []);\r\n        } catch (e) { }\r\n    };\r\n\r\n    const loadStats = async () => {\r\n        try {\r\n            // Updated Path via proxy\r\n            const res = await API.get(\"/ai-intelligence/api/stats\");\r\n            setStats(res.data);\r\n        } catch (e) { }\r\n    };\r\n\r\n    const loadConfig = async (camId) => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await API.get(`/ai-intelligence/api/config/${camId}`);\r\n            // If API returns global + camera config combined, great.\r\n            // If specific camera config is empty, we might receive defaults.\r\n            setConfig(res.data?.config || res.data);\r\n        } catch (e) {\r\n            console.error(\"Load Config Error\", e);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setSaving(true);\r\n        try {\r\n            await API.post(`/ai-intelligence/api/config/${selectedCam}`, config);\r\n            alert(\"Setri salvate cu succes!\");\r\n        } catch (e) {\r\n            alert(\"Eroare la salvare: \" + e.message);\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const updateFilter = (key, val) => {\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            false_detection_filter: { ...prev.false_detection_filter, [key]: val }\r\n        }));\r\n    };\r\n\r\n    const updateEvent = (key, val) => {\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            event_manager: { ...prev.event_manager, [key]: val }\r\n        }));\r\n    };\r\n\r\n    if (!config) return <div style={{ padding: 20 }}>Selectai o camer sau ateptai ncrcarea...</div>;\r\n\r\n    return (\r\n        <div>\r\n            {/* Stats Header */}\r\n            {stats && (\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr 1fr\", gap: 10, marginBottom: 20 }}>\r\n                    <StatBox label=\"Tracked Objects\" value={stats.tracked_objects} color=\"#2196f3\" />\r\n                    <StatBox label=\"Events Today\" value={stats.events_today} color=\"#4caf50\" />\r\n                    <StatBox label=\"Ignored Zones\" value={stats.false_zones} color=\"#ff9800\" />\r\n                    <StatBox label=\"Uptime\" value={Math.round(stats.uptime_seconds / 60) + \" min\"} color=\"#9c27b0\" />\r\n                </div>\r\n            )}\r\n\r\n            {/* Camera Selector */}\r\n            <div style={{ marginBottom: 20, background: \"#222\", padding: 15, borderRadius: 6 }}>\r\n                <label style={{ marginRight: 10 }}>Select Camera:</label>\r\n                <select\r\n                    value={selectedCam}\r\n                    onChange={e => setSelectedCam(e.target.value)}\r\n                    style={{ padding: 8, borderRadius: 4, background: \"#333\", color: \"#fff\", border: \"1px solid #444\" }}\r\n                >\r\n                    <option value=\"default\">Global Defaults (All Cameras)</option>\r\n                    {cameras.map(c => (\r\n                        <option key={c.id} value={c.id}>{c.name || c.ip} ({c.id})</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            {loading ? <div>Loading...</div> : (\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20 }}>\r\n\r\n                    {/* FILTER SETTINGS */}\r\n                    <div style={{ background: \"#1a1a1a\", padding: 20, borderRadius: 8, border: \"1px solid #333\" }}>\r\n                        <h4 style={{ margin: \"0 0 15px 0\", color: \"#4caf50\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                            <Shield size={18} /> False Detection Filter\r\n                        </h4>\r\n\r\n                        <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 15 }}>\r\n                            <input type=\"checkbox\" checked={config.false_detection_filter?.enabled} onChange={e => updateFilter(\"enabled\", e.target.checked)} style={{ width: 18, height: 18 }} />\r\n                            <label style={{ marginLeft: 10, fontWeight: \"bold\" }}>Enable Filter</label>\r\n                        </div>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Detect objects only on motion</label>\r\n                            <input type=\"checkbox\" checked={config.false_detection_filter?.motion_only} onChange={e => updateFilter(\"motion_only\", e.target.checked)} />\r\n                        </div>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Ignore repeated detections (Anti-Wind/Rain)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.detection_count_before_ignore} onChange={e => updateFilter(\"detection_count_before_ignore\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                        <p style={{ fontSize: 11, color: \"#666\", marginTop: -5, marginBottom: 10 }}>Ignore area after N detections without motion.</p>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Stability Frames (Confirmation)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.stability_frames} onChange={e => updateFilter(\"stability_frames\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n\r\n                        <div className=\"setting-row\" style={{ borderTop: \"1px dashed #444\", paddingTop: 10, marginTop: 10 }}>\r\n                            <label style={{ color: \"#4caf50\" }}>AI Sensitivity (Threshold)</label>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    step=\"0.05\"\r\n                                    min=\"0.1\"\r\n                                    max=\"1.0\"\r\n                                    value={config.false_detection_filter?.threshold ?? 0.3}\r\n                                    onChange={e => updateFilter(\"threshold\", parseFloat(e.target.value))}\r\n                                    style={{ width: 60, textAlign: 'center', borderColor: '#4caf50' }}\r\n                                />\r\n                                <span style={{ fontSize: 10, color: \"#888\" }}>0.3 Default</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* EVENT MANAGER */}\r\n                    <div style={{ background: \"#1a1a1a\", padding: 20, borderRadius: 8, border: \"1px solid #333\" }}>\r\n                        <h4 style={{ margin: \"0 0 15px 0\", color: \"#2196f3\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                            <AlertTriangle size={18} /> Anti-Spam & Events\r\n                        </h4>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Event Cooldown (seconds)</label>\r\n                            <input type=\"number\" value={config.event_manager?.cooldown_seconds} onChange={e => updateEvent(\"cooldown_seconds\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                        <p style={{ fontSize: 11, color: \"#666\", marginTop: -5, marginBottom: 10 }}>Don't send same event again for X seconds.</p>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Min Displacement (Pixels)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.min_displacement_pixels} onChange={e => updateFilter(\"min_displacement_pixels\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n            }\r\n\r\n            {/* Save Button */}\r\n            <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                <button\r\n                    onClick={handleSave}\r\n                    disabled={saving}\r\n                    style={{ background: \"#2196f3\", color: \"white\", padding: \"10px 25px\", border: \"none\", borderRadius: 4, cursor: \"pointer\", display: \"flex\", alignItems: \"center\", gap: 10, fontSize: 14 }}\r\n                >\r\n                    {saving ? <RefreshCw className=\"spin\" /> : <Save size={18} />} Save Configuration\r\n                </button>\r\n            </div>\r\n\r\n            <style>{`\r\n                .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #2a2a2a; }\r\n                .setting-row label { font-size: 13px; color: #ccc; }\r\n                .setting-row input[type=\"number\"] { background: #222; border: 1px solid #444; color: #fff; padding: 4px; borderRadius: 4px; }\r\n                .stat-box { background: #222; padding: 10px; borderRadius: 4px; text-align: center; border: 1px solid #333; }\r\n                .spin { animation: spin 1s linear infinite; }\r\n                @keyframes spin { 100% { transform: rotate(360deg); } }\r\n            `}</style>\r\n        </div >\r\n    );\r\n}\r\n\r\nfunction StatBox({ label, value, color }) {\r\n    return (\r\n        <div className=\"stat-box\" style={{ borderTop: `2px solid ${color}` }}>\r\n            <div style={{ fontSize: 24, fontWeight: \"bold\", color: \"#fff\" }}>{value}</div>\r\n            <div style={{ fontSize: 11, color: \"#888\", textTransform: \"uppercase\" }}>{label}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction HubSettings() {\r\n    // Re-implementation of original Hub settings (simplified)\r\n    const [config, setConfig] = useState({ hubUrl: \"\", enabled: true });\r\n\r\n    useEffect(() => {\r\n        API.get(\"/api/ai/config\").then(res => setConfig(res.data)).catch(() => { });\r\n    }, []);\r\n\r\n    const save = () => {\r\n        API.post(\"/api/ai/config\", config).then(() => alert(\"Saved!\")).catch(e => alert(e.message));\r\n    };\r\n\r\n    return (\r\n        <div style={{ maxWidth: 500 }}>\r\n            <h4>Hub Connection</h4>\r\n            <div style={{ marginBottom: 15 }}>\r\n                <label style={{ display: \"block\", marginBottom: 5 }}>Hub URL</label>\r\n                <input style={{ width: \"100%\", padding: 8, background: \"#222\", color: \"#fff\", border: \"1px solid #444\" }} value={config.hubUrl || \"\"} onChange={e => setConfig({ ...config, hubUrl: e.target.value })} />\r\n            </div>\r\n            <button onClick={save} style={{ padding: \"8px 16px\", background: \"#4caf50\", color: \"#fff\", border: \"none\", cursor: \"pointer\" }}>Save Hub Settings</button>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\n/**\r\n * GLOBAL STREAM POOL (session-scoped, NU React-scoped)\r\n */\r\nconst streamPool = new Map();\r\n\r\n/**\r\n * CONFIG FIX: Use the unified /rtc proxy on the main API port\r\n */\r\nconst GO2RTC_API = `${window.location.origin}/rtc`;\r\n\r\nasync function acquireStream(camId, type = \"sub\") {\r\n    const key = `${camId}_${type}`;\r\n\r\n    if (streamPool.has(key)) {\r\n        const entry = streamPool.get(key);\r\n        entry.refs++;\r\n        console.log(`[Go2RTCPlayer] Reusing stream for ${key}, refs: ${entry.refs}`);\r\n        return entry;\r\n    }\r\n\r\n    console.log(`[Go2RTCPlayer] Creating new WebRTC connection for ${key}`);\r\n    const pc = new RTCPeerConnection({ iceServers: [] });\r\n    const media = new MediaStream();\r\n\r\n    pc.ontrack = (e) => {\r\n        console.log(`[Go2RTCPlayer] Track received for ${key}`);\r\n        media.addTrack(e.track);\r\n    };\r\n\r\n    pc.addTransceiver(\"video\", { direction: \"recvonly\" });\r\n\r\n    try {\r\n        const offer = await pc.createOffer();\r\n        await pc.setLocalDescription(offer);\r\n\r\n        const res = await fetch(\r\n            `${GO2RTC_API}/api/webrtc?src=${key}`,\r\n            {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/sdp\" },\r\n                body: offer.sdp\r\n            }\r\n        );\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`WebRTC signaling failed: ${res.status}`);\r\n        }\r\n\r\n        const answer = await res.text();\r\n        await pc.setRemoteDescription({ type: \"answer\", sdp: answer });\r\n\r\n        const entry = {\r\n            pc,\r\n            media,\r\n            refs: 1\r\n        };\r\n\r\n        streamPool.set(key, entry);\r\n        return entry;\r\n    } catch (err) {\r\n        pc.close();\r\n        throw err;\r\n    }\r\n}\r\n\r\nfunction releaseStream(camId, type = \"sub\") {\r\n    const key = `${camId}_${type}`;\r\n    const entry = streamPool.get(key);\r\n    if (!entry) return;\r\n\r\n    entry.refs--;\r\n    console.log(`[Go2RTCPlayer] Released stream for ${key}, refs: ${entry.refs}`);\r\n\r\n    // 15s grace period to prevent flickering during tab switches\r\n    if (entry.refs <= 0) {\r\n        setTimeout(() => {\r\n            const currentEntry = streamPool.get(key);\r\n            if (currentEntry && currentEntry.refs <= 0) {\r\n                console.log(`[Go2RTCPlayer] Closing idle connection for ${key}`);\r\n                currentEntry.pc.close();\r\n                streamPool.delete(key);\r\n            }\r\n        }, 15000);\r\n    }\r\n}\r\n\r\n/**\r\n * UI COMPONENT  DOAR ATAARE\r\n */\r\nexport default function Go2RTCPlayer({ camId, streamType = \"sub\", style, isHidden }) {\r\n    const videoRef = useRef(null);\r\n    const type = streamType === 'low' || streamType === 'sub' ? 'sub' : 'hd';\r\n\r\n    useEffect(() => {\r\n        if (isHidden || !camId) return;\r\n\r\n        let active = true;\r\n        let streamEntry;\r\n\r\n        acquireStream(camId, type)\r\n            .then((entry) => {\r\n                if (!active) {\r\n                    releaseStream(camId, type);\r\n                    return;\r\n                }\r\n                streamEntry = entry;\r\n                if (videoRef.current) {\r\n                    videoRef.current.srcObject = entry.media;\r\n                    videoRef.current.play().catch(() => { });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(`[Go2RTCPlayer] Error for ${camId}_${type}:`, err);\r\n            });\r\n\r\n        return () => {\r\n            active = false;\r\n            if (streamEntry) {\r\n                releaseStream(camId, type);\r\n            }\r\n        };\r\n    }, [camId, type, isHidden]);\r\n\r\n    return (\r\n        <div style={{ ...style, position: \"relative\", background: \"#000\", width: \"100%\", height: \"100%\" }}>\r\n            <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    objectFit: \"fill\"\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { colors } from \"../../theme\";\r\nimport { Trash, Edit, SettingsIcon, Lock, AlertTriangle, Save, Camera, Video, Archive, ChevronRight, RefreshCw } from \"../../components/Icons\";\r\nimport Go2RTCPlayer from \"../../components/Go2RTCPlayer\"; // Import optimized player\r\nimport RecorderPlayer from \"../../components/RecorderPlayer\"; // Still used for Channel Setup Large View\r\n\r\nconst videoStyle = { width: \"100%\", height: \"100%\" };\r\n\r\n// Sub-component for auto-refreshing preview (Snapshot Mode for Performance)\r\nexport function LivePreview({ camId, active = true }) {\r\n    if (!active) return <div style={{ width: \"100%\", height: \"100%\", background: \"#000\" }} />;\r\n    return (\r\n        <div style={{ width: \"100%\", height: \"100%\", background: \"#000\", overflow: \"hidden\" }}>\r\n            <Go2RTCPlayer camId={camId} streamType=\"sub\" />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- REWRITTEN ROI COMPONENT ---\r\n// Uses normalized coordinates (0-1) for storage, mapped to dynamic pixel size for display.\r\nexport function CanvasROI({ points = [], onChange, readOnly = false, otherZones = [] }) {\r\n    const containerRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const [dims, setDims] = useState({ w: 0, h: 0 }); // Container dimensions\r\n    const [draggingIdx, setDraggingIdx] = useState(-1);\r\n\r\n    // 1. Measure Container Size\r\n    useEffect(() => {\r\n        const obs = new ResizeObserver(entries => {\r\n            for (const entry of entries) {\r\n                const { width, height } = entry.contentRect;\r\n                setDims({ w: Math.round(width), h: Math.round(height) });\r\n            }\r\n        });\r\n        if (containerRef.current) obs.observe(containerRef.current);\r\n        return () => obs.disconnect();\r\n    }, []);\r\n\r\n    // 2. Draw Loop\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas || dims.w === 0 || dims.h === 0) return;\r\n        const ctx = canvas.getContext(\"2d\");\r\n\r\n        // Clear (using the set Dims)\r\n        ctx.clearRect(0, 0, dims.w, dims.h);\r\n\r\n        // Drawing Helper\r\n        const drawZone = (pts, stroke, fill) => {\r\n            if (!pts || pts.length === 0) return;\r\n            ctx.beginPath();\r\n            // Move to first\r\n            ctx.moveTo(pts[0][0] * dims.w, pts[0][1] * dims.h);\r\n            // Lines to rest\r\n            for (let i = 1; i < pts.length; i++) {\r\n                ctx.lineTo(pts[i][0] * dims.w, pts[i][1] * dims.h);\r\n            }\r\n            ctx.closePath();\r\n            ctx.strokeStyle = stroke;\r\n            ctx.fillStyle = fill;\r\n            ctx.lineWidth = 2;\r\n            ctx.fill();\r\n            ctx.stroke();\r\n\r\n            // Handles (only for active, editable)\r\n            if (!readOnly && stroke === \"#00ff00\") {\r\n                ctx.fillStyle = \"#fff\";\r\n                pts.forEach(p => {\r\n                    ctx.beginPath();\r\n                    ctx.arc(p[0] * dims.w, p[1] * dims.h, 4, 0, Math.PI * 2);\r\n                    ctx.fill();\r\n                });\r\n            }\r\n        };\r\n\r\n        // Draw Inactive Zones\r\n        otherZones.forEach(z => {\r\n            if (z.points) drawZone(z.points, \"rgba(0,122,204,0.5)\", \"rgba(0,122,204,0.2)\");\r\n        });\r\n\r\n        // Draw Active Zone\r\n        // Ensure points are normalized (0-1). If > 1, convert on fly to support legacy.\r\n        const safePoints = points.map(p => [\r\n            p[0] > 1 ? p[0] / dims.w : p[0],\r\n            p[1] > 1 ? p[1] / dims.h : p[1]\r\n        ]);\r\n\r\n        drawZone(safePoints, readOnly ? \"#ff9800\" : \"#00ff00\", readOnly ? \"rgba(255,152,0,0.25)\" : \"rgba(0,255,0,0.15)\");\r\n\r\n    }, [points, dims, readOnly, otherZones]);\r\n\r\n    // 3. Interactions\r\n    const handleMouseDown = (e) => {\r\n        if (readOnly) return;\r\n\r\n        // Use native Offset - much faster and accurate relative to element\r\n        const x = e.nativeEvent.offsetX;\r\n        const y = e.nativeEvent.offsetY;\r\n\r\n        // Normalize\r\n        const nx = Math.max(0, Math.min(1, x / dims.w));\r\n        const ny = Math.max(0, Math.min(1, y / dims.h));\r\n\r\n        // Check hit (distance in pixels)\r\n        // Convert existing points to pixels for check\r\n        const hitIdx = points.findIndex(p => {\r\n            const px = p[0] > 1 ? p[0] : p[0] * dims.w;\r\n            const py = p[1] > 1 ? p[1] : p[1] * dims.h;\r\n            return Math.sqrt((px - x) ** 2 + (py - y) ** 2) < 10;\r\n        });\r\n\r\n        if (hitIdx !== -1) {\r\n            setDraggingIdx(hitIdx);\r\n        } else {\r\n            // Add new point (Normalized)\r\n            onChange([...points, [nx, ny]]);\r\n        }\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (draggingIdx === -1 || readOnly) return;\r\n\r\n        const x = e.nativeEvent.offsetX;\r\n        const y = e.nativeEvent.offsetY;\r\n\r\n        const nx = Math.max(0, Math.min(1, x / dims.w));\r\n        const ny = Math.max(0, Math.min(1, y / dims.h));\r\n\r\n        const newPoints = [...points];\r\n        newPoints[draggingIdx] = [nx, ny];\r\n        onChange(newPoints);\r\n    };\r\n\r\n    const handleMouseUp = () => setDraggingIdx(-1);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\", zIndex: 10 }}>\r\n            <canvas\r\n                ref={canvasRef}\r\n                width={dims.w} // Lock resolution to physical pixels\r\n                height={dims.h}\r\n                style={{ width: \"100%\", height: \"100%\", display: \"block\", cursor: readOnly ? \"default\" : \"crosshair\", background: \"transparent\" }}\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseUp}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    inputTable: { background: \"#444\", border: \"1px solid #555\", color: \"#fff\", width: \"100%\", padding: 2 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n    settingRow: { display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 12, paddingBottom: 8, borderBottom: \"1px solid #2a2a2a\" },\r\n    inputNum: { background: \"#222\", border: \"1px solid #444\", color: \"#fff\", padding: 4, borderRadius: 4, width: 60, textAlign: \"center\" }\r\n};\r\n\r\nexport function IPDevicesRootSection({ cams, statusData = {}, onEditCam, onSelectCam, onDeleteCam }) {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Gestionare Dispozitive IP</h2>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\", gap: 20 }}>\r\n                {cams.map(c => (\r\n                    <div key={c.id} style={{ background: \"#252526\", border: \"1px solid #444\", borderRadius: 4, overflow: \"hidden\" }}>\r\n                        <div style={{ height: 150, background: \"#000\", position: \"relative\" }}>\r\n                            <Go2RTCPlayer camId={c.id} streamType=\"sub\" style={{ width: \"100%\", height: \"100%\", objectFit: \"fill\" }} />\r\n                            <div style={{ position: \"absolute\", bottom: 0, left: 0, right: 0, padding: 10, background: \"rgba(0,0,0,0.7)\", color: \"#fff\", fontSize: 14 }}>\r\n                                {c.name || c.ip}\r\n                            </div>\r\n                        </div>\r\n                        <div style={{ padding: 15 }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 10 }}>\r\n                                <div style={{ fontSize: 13, fontWeight: \"bold\", color: \"#fff\" }}>{c.ip}</div>\r\n                                <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-end\" }}>\r\n                                    {(statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\") ?\r\n                                        <div style={{ fontSize: 11, color: \"#4caf50\", background: \"rgba(76,175,80,0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>Active ({statusData[c.id]?.fps || 0} FPS)</div> :\r\n                                        <div style={{ fontSize: 11, color: \"#f44336\", background: \"rgba(244,67,54,0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>Offline</div>\r\n                                    }\r\n                                    <div style={{ fontSize: 9, color: \"#888\", marginTop: 3 }}>\r\n                                        Check: {new Date().toLocaleTimeString()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{ fontSize: 12, color: \"#aaa\", marginBottom: 10 }}>Model: {c.model || \"Generic\"} | {c.manufacturer}</div>\r\n                            <div style={{ display: \"flex\", gap: 10, marginBottom: 10 }}>\r\n                                <button style={{ ...styles.btnToolbar, flex: 1 }} onClick={() => onEditCam(c)}><Edit size={12} /> Edit</button>\r\n                                <button style={{ ...styles.btnToolbar, flex: 1 }} onClick={() => onSelectCam(c.id)}><SettingsIcon size={12} /> Config</button>\r\n                            </div>\r\n                            <button\r\n                                style={{\r\n                                    width: \"100%\", padding: \"6px 0\", background: \"rgba(244, 67, 54, 0.1)\",\r\n                                    border: \"1px solid #d32f2f\", color: \"#e57373\", borderRadius: 2,\r\n                                    fontSize: 12, cursor: \"pointer\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: 5\r\n                                }}\r\n                                onClick={() => onDeleteCam(c.id)}\r\n                            >\r\n                                <Trash size={12} /> Delete Device\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function CameraSettingsSection({\r\n    cam, statusData, updateCam, saveAll, deleteCam, openEditModal, setSelection\r\n}) {\r\n    const [syncing, setSyncing] = useState(false);\r\n    const [caps, setCaps] = useState(null); // Store dynamic device capabilities\r\n\r\n    const fetchDeviceConfig = async () => {\r\n        if (!cam || !cam.id) return;\r\n        try {\r\n            const res = await API.get(`/device-config/${cam.id}`);\r\n            const { current, capabilities } = res.data;\r\n            if (current) {\r\n                // Update local storage state with real device values\r\n                if (current.codec) updateCam(cam.id, \"codec\", current.codec);\r\n                if (current.fps) updateCam(cam.id, \"fps\", current.fps);\r\n                if (current.gop) updateCam(cam.id, \"gop\", current.gop);\r\n                if (current.resolution) updateCam(cam.id, \"resolution\", current.resolution);\r\n            }\r\n            if (capabilities) {\r\n                setCaps(capabilities);\r\n            }\r\n        } catch (e) {\r\n            console.warn(`[CamSync] Polling failed for ${cam.ip}:`, e.message);\r\n        }\r\n    };\r\n\r\n    // Initial load and periodic polling (every 10s)\r\n    useEffect(() => {\r\n        fetchDeviceConfig();\r\n        const timer = setInterval(fetchDeviceConfig, 10000);\r\n        return () => clearInterval(timer);\r\n    }, [cam?.id]);\r\n\r\n    const handleRemoteChange = async (key, val) => {\r\n        // 1. Optimistic Update (UI)\r\n        updateCam(cam.id, key, val);\r\n\r\n        // 2. Send to Device\r\n        setSyncing(true);\r\n        try {\r\n            console.log(`[CamSync] Updating ${key} to ${val} for ${cam.ip}...`);\r\n            await API.post(`/device-config/${cam.id}`, { [key]: val });\r\n\r\n            // Backend now handles saving to cameras.json, so we don't need saveAll() here.\r\n            // This avoids race conditions with stale frontend state.\r\n\r\n            // Confirm with a fresh fetch\r\n            setTimeout(fetchDeviceConfig, 1500);\r\n        } catch (e) {\r\n            console.error(`[CamSync] Update failed:`, e);\r\n            alert(`Failed to update camera: ${e.response?.data?.error || e.message}`);\r\n            // Revert or sync back on error\r\n            fetchDeviceConfig();\r\n        } finally {\r\n            setSyncing(false);\r\n        }\r\n    };\r\n\r\n    if (!cam) return <div>Camera not found</div>;\r\n    return (\r\n        <div style={{ padding: 20, display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\r\n            <div style={{ marginBottom: 20 }}>\r\n                <h2 style={{ fontSize: 18, marginBottom: 15, color: \"#fff\" }}>Camera {cam.ip}</h2>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"100px 1fr\", gap: 10, maxWidth: 600, marginBottom: 15 }}>\r\n                    <label>Model:</label> <div style={{ fontWeight: \"bold\" }}>{cam.model || \"Autodetect\"}</div>\r\n                    <label>Device Name:</label>\r\n                    <input style={{ background: \"#333\", border: \"1px solid #555\", color: \"#ddd\", padding: 4 }}\r\n                        value={cam.name || `Camera ${cam.ip}`}\r\n                        onChange={e => updateCam(cam.id, \"name\", e.target.value)}\r\n                        onBlur={() => saveAll()}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10, display: \"flex\", alignItems: \"center\", gap: 15 }}>\r\n                    <span>IP Address: <b style={{ color: \"#fff\" }}>{cam.ip}</b></span>\r\n                    <span>Port: <b style={{ color: \"#fff\" }}>{cam.port}</b></span>\r\n                    <span>User: <b style={{ color: \"#fff\" }}>{cam.user}</b></span>\r\n                    <button onClick={() => openEditModal(cam)} style={{ color: \"rgb(66, 165, 245)\", background: \"none\", border: \"none\", cursor: \"pointer\", textDecoration: \"underline\", padding: 0 }}>Setup connection</button>\r\n                </div>\r\n                {cam.storagePath && (\r\n                    <div style={{ marginBottom: 20, fontSize: 13, color: \"#ccc\", display: \"flex\", alignItems: \"center\", gap: 5 }}>\r\n                        Storage Path:\r\n                        <span\r\n                            title=\"Click to view recordings\"\r\n                            onClick={() => window.location.href = `/playback?camId=${cam.id}`}\r\n                            style={{ fontFamily: \"monospace\", color: \"#81d4fa\", cursor: \"pointer\", textDecoration: \"underline\", background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4 }}\r\n                        >\r\n                            {cam.storagePath} [->]\r\n                        </span>\r\n                    </div>\r\n                )}\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(6, auto)\", gap: 10, marginBottom: 20, alignItems: \"center\", justifyContent: \"start\" }}>\r\n                    <button style={{ ...styles.btnToolbar, width: 120, background: (cam.enabled !== false) ? \"#333\" : \"#4caf50\", color: (cam.enabled !== false) ? \"#ddd\" : \"#fff\" }} onClick={() => { const next = (cam.enabled !== false) ? false : true; updateCam(cam.id, \"enabled\", !!next); saveAll(); }}>{(cam.enabled !== false) ? \"Disable\" : \"Enable\"}</button>\r\n                    <button style={{ ...styles.btnToolbar, width: 120 }} onClick={() => deleteCam(cam.id)}><Trash size={12} style={{ marginRight: 5 }} /> Delete...</button>\r\n                    <button\r\n                        style={{ ...styles.btnToolbar, background: \"rgba(0,122,204,0.1)\", border: \"1px solid #007acc\", color: \"#81d4fa\", width: 160 }}\r\n                        onClick={() => setSelection({ type: \"CHANNEL\", id: cam.id })}\r\n                    >\r\n                        <SettingsIcon size={12} style={{ marginRight: 5 }} /> AI / Channel Setup\r\n                    </button>\r\n                    <a href={`http://${cam.ip}`} target=\"_blank\" rel=\"noreferrer\" style={{ color: \"rgb(66, 165, 245)\", textDecoration: \"none\", alignSelf: \"center\", margin: \"0 10px\" }}>Web Interface</a>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 30, display: \"flex\", alignItems: \"center\", gap: 20 }}>\r\n                    {(statusData[cam.id]?.connected || statusData[cam.id]?.status === \"ONLINE\") ?\r\n                        <div>State: <span style={{ color: \"rgb(76, 175, 80)\", fontWeight: \"bold\" }}>Connected</span></div> :\r\n                        <div>State: <span style={{ color: \"#f44336\", fontWeight: \"bold\" }}>Disconnected production</span> <span style={{ fontSize: 11, color: \"#ffa726\", marginLeft: 10 }}>{statusData[cam.id]?.lastError ? <><AlertTriangle size={10} /> {statusData[cam.id].lastError}</> : \"(Retry in 5s...)\"}</span></div>\r\n                    }\r\n\r\n                    <button\r\n                        onClick={fetchDeviceConfig}\r\n                        style={{\r\n                            background: \"rgba(255,255,255,0.05)\",\r\n                            border: \"1px solid #444\",\r\n                            color: \"#fff\",\r\n                            padding: \"4px 10px\",\r\n                            borderRadius: 4,\r\n                            cursor: \"pointer\",\r\n                            fontSize: 12,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            gap: 5\r\n                        }}\r\n                        disabled={syncing}\r\n                    >\r\n                        {syncing ? \"Syncing...\" : \" Refresh State\"}\r\n                    </button>\r\n                    <span style={{ color: \"#666\", fontSize: 11 }}>Auto-sync active (10s)</span>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: 20 }}>\r\n                    <div style={{ width: 160, height: 90, background: \"#000\", border: \"1px solid #444\", position: \"relative\" }}>\r\n                        <LivePreview camId={cam.id} active={true} />\r\n                    </div>\r\n                    <div style={{ flex: 1, position: \"relative\" }}>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 100px 120px 80px 80px\", gap: 10, fontSize: 12, fontWeight: \"bold\", marginBottom: 5, color: \"#aaa\" }}>\r\n                            <div></div><div>Codec</div><div>Resolution</div><div>GOP</div><div>FPS</div>\r\n                        </div>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 100px 120px 80px 80px\", gap: 10, marginBottom: 10, alignItems: \"center\" }}>\r\n                            <div style={{ color: cam.codec === \"H.265\" ? \"#ffa726\" : \"#4caf50\" }}>\r\n                                <input type=\"checkbox\" checked readOnly style={{ marginRight: 5 }} /> Video\r\n                                {cam.codec === \"H.265\" && <span title=\"WebRTC doesn't support H.265 natively\"> </span>}\r\n                            </div>\r\n\r\n                            <select style={styles.inputTable} value={cam.codec || \"H.264\"} onChange={e => handleRemoteChange(\"codec\", e.target.value)}>\r\n                                {caps?.codecs?.map(c => <option key={c} value={c}>{c}</option>) || <option>H.264</option>}\r\n                            </select>\r\n\r\n                            <select style={styles.inputTable} value={cam.resolution} onChange={e => handleRemoteChange(\"resolution\", e.target.value)}>\r\n                                {caps?.resolutions?.map(r => (\r\n                                    <option key={`${r.width}x${r.height}`} value={`${r.width}x${r.height}`}>\r\n                                        {r.label}\r\n                                    </option>\r\n                                )) || <option>{cam.resolution}</option>}\r\n                            </select>\r\n\r\n                            <input style={styles.inputTable}\r\n                                type=\"number\"\r\n                                value={cam.gop || 20}\r\n                                min={caps?.gopRange?.min || 1}\r\n                                max={caps?.gopRange?.max || 400}\r\n                                onChange={e => updateCam(cam.id, \"gop\", e.target.value)}\r\n                                onBlur={e => handleRemoteChange(\"gop\", e.target.value)}\r\n                            />\r\n\r\n                            <select style={styles.inputTable} value={cam.fps || 25} onChange={e => handleRemoteChange(\"fps\", e.target.value)}>\r\n                                {caps?.fps?.map(f => <option key={f} value={f}>{f} fps</option>) || <option>{cam.fps} fps</option>}\r\n                            </select>\r\n                        </div>\r\n                        {cam.codec === \"H.265\" && (\r\n                            <div style={{ color: \"#ffa726\", fontSize: 11, marginTop: 5 }}>\r\n                                <AlertTriangle size={10} /> Camera is in H.265 mode. Switch to H.264 for better grid performance and browser compatibility.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AdvancedAITab({ camId }) {\r\n    const [config, setConfig] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (!camId) return;\r\n        setLoading(true);\r\n        API.get(`/ai-intelligence/api/config/${camId}`)\r\n            .then(res => {\r\n                const data = res.data?.config || res.data || {};\r\n                setConfig(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(e => {\r\n                console.error(\"AI Config Error:\", e);\r\n                setConfig({\r\n                    false_detection_filter: { enabled: false, threshold: 0.3, stability_frames: 3, motion_only: false, detection_count_before_ignore: 5, min_displacement_pixels: 50 },\r\n                    event_manager: { cooldown_seconds: 30 }\r\n                });\r\n                setLoading(false);\r\n            });\r\n    }, [camId]);\r\n\r\n    const updateFilter = (key, val) => {\r\n        if (!config) return;\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            false_detection_filter: { ...(prev?.false_detection_filter || {}), [key]: val }\r\n        }));\r\n    };\r\n\r\n    const updateEvent = (key, val) => {\r\n        if (!config) return;\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            event_manager: { ...(prev?.event_manager || {}), [key]: val }\r\n        }));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        try {\r\n            await API.post(`/ai-intelligence/api/config/${camId}`, config);\r\n            alert(\"Setri salvate!\");\r\n        } catch (e) {\r\n            alert(\"Eroare: \" + e.message);\r\n        }\r\n    };\r\n\r\n    if (loading || !config) return <div style={{ padding: 20, color: \"#ccc\" }}>Se ncarc...</div>;\r\n\r\n    const filter = config.false_detection_filter || {};\r\n    const events = config.event_manager || {};\r\n\r\n    return (\r\n        <div style={{ padding: 20, maxWidth: 1000 }}>\r\n            <div style={{ background: \"#252526\", padding: 20, borderRadius: 8, border: \"1px solid #444\", marginBottom: 20 }}>\r\n                <h4 style={{ margin: \"0 0 15px 0\", color: \"#4caf50\" }}>Filtre Detectare False</h4>\r\n\r\n                <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 15 }}>\r\n                    <input type=\"checkbox\" checked={filter.enabled || false} onChange={e => updateFilter(\"enabled\", e.target.checked)} style={{ width: 18, height: 18 }} />\r\n                    <label style={{ marginLeft: 10, fontWeight: \"bold\", color: \"#fff\" }}>Activeaz Filtrele</label>\r\n                </div>\r\n\r\n                <div style={styles.settingRow}>\r\n                    <label style={{ color: \"#ccc\" }}>Detecteaz doar n timpul micrii</label>\r\n                    <input type=\"checkbox\" checked={filter.motion_only || false} onChange={e => updateFilter(\"motion_only\", e.target.checked)} />\r\n                </div>\r\n\r\n                <div style={styles.settingRow}>\r\n                    <label style={{ color: \"#ccc\" }}>Ignor detectri repetate (Anti-Vnt/Ploaie)</label>\r\n                    <input type=\"number\" value={filter.detection_count_before_ignore || 5} onChange={e => updateFilter(\"detection_count_before_ignore\", parseInt(e.target.value))} style={styles.inputNum} />\r\n                </div>\r\n\r\n                <div style={styles.settingRow}>\r\n                    <label style={{ color: \"#ccc\" }}>Frame-uri de stabilitate (Confirmare)</label>\r\n                    <input type=\"number\" value={filter.stability_frames || 3} onChange={e => updateFilter(\"stability_frames\", parseInt(e.target.value))} style={styles.inputNum} />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 12, paddingTop: 10, borderTop: \"1px dashed #444\" }}>\r\n                    <label style={{ color: \"#4caf50\" }}>Sensibilitate AI (Threshold)</label>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n                        <input type=\"number\" step=\"0.05\" min=\"0.1\" max=\"1.0\"\r\n                            value={filter.threshold ?? 0.3}\r\n                            onChange={e => updateFilter(\"threshold\", parseFloat(e.target.value))}\r\n                            style={{ background: \"#222\", border: \"1px solid #4caf50\", color: \"#fff\", padding: 4, borderRadius: 4, width: 60, textAlign: \"center\" }} />\r\n                        <span style={{ fontSize: 10, color: \"#888\" }}>0.3 Implicit</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, borderRadius: 8, border: \"1px solid #444\" }}>\r\n                <h4 style={{ margin: \"0 0 15px 0\", color: \"#2196f3\" }}>Anti-Spam & Evenimente</h4>\r\n                <div style={styles.settingRow}>\r\n                    <label style={{ color: \"#ccc\" }}>Pauz evenimente (secunde)</label>\r\n                    <input type=\"number\" value={events.cooldown_seconds || 30} onChange={e => updateEvent(\"cooldown_seconds\", parseInt(e.target.value))} style={styles.inputNum} />\r\n                </div>\r\n                <div style={styles.settingRow}>\r\n                    <label style={{ color: \"#ccc\" }}>Deplasare minim (Pixeli)</label>\r\n                    <input type=\"number\" value={filter.min_displacement_pixels || 50} onChange={e => updateFilter(\"min_displacement_pixels\", parseInt(e.target.value))} style={styles.inputNum} />\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                <button onClick={handleSave} style={{ ...styles.btnPrimary, background: \"#2196f3\" }}>\r\n                    Salveaz Configuraia\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ChannelSettingsSection({\r\n    cam, cams, setCams, setSelection, availableModules, updateCam, saveAll\r\n}) {\r\n    const [activeTab, setActiveTab] = useState('zones');\r\n    const [activeZoneIdx, setActiveZoneIdx] = useState(0);\r\n    const [isDrawing, setIsDrawing] = useState(false);\r\n    const [roiPoints, setRoiPoints] = useState([]);\r\n\r\n    const camAI = cam.ai_server || {};\r\n    let zones = camAI.zones || [];\r\n    if (zones.length === 0 && camAI.roi && camAI.roi.length > 0) {\r\n        zones = [{ name: \"Default Zone\", points: camAI.roi, objects: camAI.objects || {} }];\r\n    }\r\n\r\n    const safeIdx = (activeZoneIdx >= zones.length) ? 0 : activeZoneIdx;\r\n    const activeZone = zones[safeIdx] || null;\r\n    const pointsToShow = isDrawing ? roiPoints : (activeZone?.points || []);\r\n\r\n    const silentSave = async (updatedCams) => {\r\n        try {\r\n            await API.post(\"/cameras/config\", updatedCams);\r\n        } catch (e) {\r\n            console.error(\"Silent save failed\", e);\r\n            alert(\"Error saving settings: \" + e.message);\r\n        }\r\n    };\r\n\r\n    const handleSaveZonePoints = () => {\r\n        setIsDrawing(false);\r\n        const newZones = [...zones];\r\n        if (!newZones[safeIdx]) return;\r\n        newZones[safeIdx] = { ...newZones[safeIdx], points: roiPoints };\r\n        const newConf = { ...camAI, zones: newZones, enabled: true };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleAddZone = () => {\r\n        const newName = `Zone ${zones.length + 1}`;\r\n        const newZones = [...zones, { name: newName, points: [], objects: {} }];\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        setActiveZoneIdx(newZones.length - 1);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleDeleteZone = () => {\r\n        if (!activeZone) return;\r\n        if (!window.confirm(`Delete ${activeZone.name}?`)) return;\r\n        const newZones = zones.filter((_, i) => i !== safeIdx);\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        setActiveZoneIdx(0);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleObjectToggle = (objKey) => {\r\n        if (!activeZone) return;\r\n        const newObjs = { ...(activeZone.objects || {}), [objKey]: !activeZone.objects?.[objKey] };\r\n        const newZones = [...zones];\r\n        newZones[safeIdx] = { ...newZones[safeIdx], objects: newObjs };\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", marginBottom: 15 }}>\r\n                <h2 style={{ fontSize: 18, margin: 0, color: \"#fff\" }}>AI Zones: {cam.name || cam.ip}</h2>\r\n                <button onClick={() => setSelection({ type: \"CAMERA\", id: cam.id })} style={{ color: \"rgb(66, 165, 245)\", background: \"none\", border: \"none\", cursor: \"pointer\", fontSize: 13 }}>[Back] Back to Hardware Settings</button>\r\n            </div>\r\n\r\n            {/* Tab Navigation */}\r\n            <div style={{ display: \"flex\", gap: 5, marginBottom: 15, borderBottom: \"1px solid #333\" }}>\r\n                <button\r\n                    onClick={() => setActiveTab('zones')}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: activeTab === 'zones' ? \"#2196f3\" : \"transparent\",\r\n                        color: activeTab === 'zones' ? \"#fff\" : \"#888\",\r\n                        border: \"none\",\r\n                        cursor: \"pointer\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                >\r\n                    Zones & Detection\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('advanced')}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: activeTab === 'advanced' ? \"#2196f3\" : \"transparent\",\r\n                        color: activeTab === 'advanced' ? \"#fff\" : \"#888\",\r\n                        border: \"none\",\r\n                        cursor: \"pointer\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                >\r\n                    Advanced AI\r\n                </button>\r\n            </div>\r\n\r\n            {activeTab === 'zones' ? (\r\n                <div style={{ display: \"flex\", gap: 20, height: 500 }}>\r\n                    <div style={{ flex: 3, display: \"flex\", flexDirection: \"column\" }}>\r\n                        {/* FIXED ASPECT RATIO 16:9 container */}\r\n                        <div style={{ width: \"100%\", aspectRatio: \"16/9\", border: \"2px solid #444\", borderRadius: 4, overflow: \"hidden\", background: \"#000\", position: \"relative\" }}>\r\n                            {/* THE VIDEO - Forced to fill the 16:9 box exactly */}\r\n                            <div style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}>\r\n                                <Go2RTCPlayer\r\n                                    camId={cam.id}\r\n                                    streamType=\"hd\"\r\n                                    style={{ width: \"100%\", height: \"100%\", objectFit: \"fill\" }}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* THE DRAWING LAYER - Exact same size as video */}\r\n                            <div style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0, zIndex: 10 }}>\r\n                                {activeZone ? (\r\n                                    <CanvasROI\r\n                                        points={pointsToShow}\r\n                                        onChange={isDrawing ? setRoiPoints : undefined}\r\n                                        readOnly={!isDrawing}\r\n                                        otherZones={zones.filter((_, i) => i !== safeIdx)}\r\n                                    />\r\n                                ) : (\r\n                                    <div style={{ color: \"#fff\", position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%,-50%)\", pointerEvents: \"none\" }}>\r\n                                        Select or Add a Zone\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {activeZone && (\r\n                            <div style={{ marginTop: 10, display: \"flex\", gap: 10, padding: 8, background: \"#252526\", borderRadius: 4, border: \"1px solid #333\", alignItems: \"center\" }}>\r\n                                <span style={{ fontSize: 12, color: \"#aaa\", fontWeight: \"bold\", marginRight: 10 }}>Zone Actions:</span>\r\n                                {isDrawing ? (\r\n                                    <>\r\n                                        <button style={{ ...styles.btnPrimary, background: \"#4caf50\" }} onClick={handleSaveZonePoints}>[SAVE] Save Area</button>\r\n                                        <button style={styles.btnToolbar} onClick={() => { setIsDrawing(false); setRoiPoints([]); }}>Cancel</button>\r\n                                    </>\r\n                                ) : (\r\n                                    <button style={{ ...styles.btnPrimary, background: \"#2196f3\" }} onClick={() => { setRoiPoints(activeZone.points || []); setIsDrawing(true); }}>[EDIT] Edit Area</button>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div style={{ flex: 1, background: \"#1e1e1e\", border: \"1px solid #444\", padding: 15, display: \"flex\", flexDirection: \"column\" }}>\r\n                        <div style={{ marginBottom: 20, flex: 1, overflowY: \"auto\" }}>\r\n                            <div style={{ borderBottom: \"1px solid #444\", marginBottom: 15, paddingBottom: 15 }}>\r\n                                <h4 style={{ margin: \"0 0 10px 0\", color: colors.accent, fontSize: 13 }}>AI Configuration</h4>\r\n                                <div style={{ marginBottom: 15 }}>\r\n                                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 5 }}>\r\n                                        <label style={{ fontSize: 12, color: \"#aaa\" }}>Sensitivity: {(cam.ai_server?.sensitivity * 100 || 50).toFixed(0)}%</label>\r\n                                    </div>\r\n                                    <input\r\n                                        type=\"range\" min=\"0\" max=\"1\" step=\"0.05\"\r\n                                        value={cam.ai_server?.sensitivity || 0.5}\r\n                                        onChange={e => {\r\n                                            const next = { ...cam.ai_server, sensitivity: parseFloat(e.target.value) };\r\n                                            const updated = cams.map(c => c.id === cam.id ? { ...c, ai_server: next } : c);\r\n                                            setCams(updated); silentSave(updated);\r\n                                        }}\r\n                                        style={{ width: \"100%\", cursor: \"pointer\" }}\r\n                                    />\r\n                                    <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 10, color: \"#666\", marginTop: 4 }}>\r\n                                        <span>0% (Filtrare Maxim)</span>\r\n                                        <span>100% (Alert Maxim)</span>\r\n                                    </div>\r\n                                    <p style={{ fontSize: 11, color: \"#888\", marginTop: 8, lineHeight: \"1.4\" }}>\r\n                                        <b>0%:</b> Doar obiecte foarte clare. Reduce alarmele false (umbre, insecte).<br />\r\n                                        <b>100%:</b> Detecteaz orice micare suspect. Risc ridicat de alarme false.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 10 }}>\r\n                                <h4 style={{ margin: 0, color: \"#ddd\" }}>Detection Zones</h4>\r\n                                <button style={{ background: \"#4caf50\", color: \"#fff\", border: \"none\", borderRadius: 2, cursor: \"pointer\", padding: \"2px 8px\", fontSize: 16 }} onClick={handleAddZone}>+</button>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 5 }}>\r\n                                {zones.map((z, idx) => (\r\n                                    <div key={idx} onClick={() => { setActiveZoneIdx(idx); setIsDrawing(false); }}\r\n                                        style={{ padding: \"8px 10px\", background: idx === safeIdx ? \"#2196f3\" : \"#333\", color: \"#fff\", borderRadius: 3, cursor: \"pointer\", fontSize: 13, display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                        <span>{z.name}</span>\r\n                                        {idx === safeIdx && <button onClick={(e) => { e.stopPropagation(); handleDeleteZone(); }} style={{ background: \"transparent\", border: \"none\", color: \"#fff\", cursor: \"pointer\" }}></button>}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {activeZone && (\r\n                            <div style={{ borderTop: \"1px solid #444\", paddingTop: 15 }}>\r\n                                <h4 style={{ marginTop: 0, color: \"#ddd\", fontSize: 13 }}>Search Objects ({activeZone.name})</h4>\r\n                                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 8, marginTop: 10 }}>\r\n                                    {(() => {\r\n                                        const currentModName = cam.ai_server?.module || \"ai_small\";\r\n                                        const modulesList = Array.isArray(availableModules) ? availableModules : [];\r\n                                        const currentMod = modulesList.find(m => m.name === currentModName);\r\n                                        const displayClasses = currentMod?.classes?.length > 0 ? currentMod.classes : [\"person\", \"car\", \"truck\"];\r\n                                        return displayClasses.map(obj => (\r\n                                            <label key={obj} style={{ display: \"flex\", alignItems: \"center\", color: \"#ccc\", fontSize: 13, cursor: \"pointer\" }}>\r\n                                                <input type=\"checkbox\" checked={activeZone.objects?.[obj] || false} onChange={() => handleObjectToggle(obj)} style={{ marginRight: 8 }} />\r\n                                                {obj}\r\n                                            </label>\r\n                                        ));\r\n                                    })()}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div style={{ borderTop: \"1px solid #444\", marginTop: 15, paddingTop: 15 }}>\r\n                            <h4 style={{ margin: \"0 0 10px 0\", color: \"#ddd\", fontSize: 13 }}>Recording Setup</h4>\r\n                            <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: 10, cursor: \"pointer\", color: \"#ccc\", fontSize: 13 }}>\r\n                                <input type=\"checkbox\" checked={cam.record !== false} onChange={e => {\r\n                                    const updatedCams = cams.map(c => c.id === cam.id ? { ...c, record: e.target.checked } : c);\r\n                                    setCams(updatedCams); silentSave(updatedCams);\r\n                                }} style={{ marginRight: 8 }} />\r\n                                Enable Recording\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <AdvancedAITab camId={cam.id} />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { RefreshCw, SettingsIcon, Trash } from \"../../components/Icons\";\r\n\r\nconst styles = {\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n};\r\n\r\nexport function SystemLogsSection() {\r\n    const [logs, setLogs] = useState([]);\r\n\r\n    const parseLogs = (data) => {\r\n        if (!data) return [];\r\n        let parsed = data;\r\n        if (typeof data === 'string') {\r\n            try { parsed = JSON.parse(data); } catch (e) { return []; }\r\n        }\r\n        if (!Array.isArray(parsed)) return [];\r\n\r\n        return parsed.map((evt, i) => {\r\n            let name = evt?.type || \"Unknown Event\";\r\n            if (evt?.detections?.length > 0) {\r\n                const classes = [...new Set(evt.detections.map(d => d.class || d.label))];\r\n                name = classes.join(\", \").toUpperCase();\r\n            }\r\n            return {\r\n                id: i + 1,\r\n                rawId: evt.id || i,\r\n                name,\r\n                camera: evt.camera_name || evt.cameraId || \"N/A\",\r\n                date: evt.timestamp ? new Date(evt.timestamp).toLocaleString() : \"Unknown\"\r\n            };\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchLogs = () => {\r\n            API.get(\"/status/logs\").then(res => setLogs(parseLogs(res.data))).catch(e => console.error(e));\r\n        };\r\n        fetchLogs();\r\n        const interval = setInterval(fetchLogs, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ padding: 20, height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <h2 style={{ fontSize: 18, color: \"#fff\", marginBottom: 20 }}>System Logs</h2>\r\n            <div style={{ flex: 1, background: \"#1e1e1e\", border: \"1px solid #444\", overflowY: \"auto\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 13 }}>\r\n                    <thead>\r\n                        <tr style={{ background: \"#252526\", position: \"sticky\", top: 0 }}>\r\n                            <th style={{ ...styles.th, width: 60 }}>#</th>\r\n                            <th style={styles.th}>Event Name</th>\r\n                            <th style={styles.th}>Camera</th>\r\n                            <th style={{ ...styles.th, width: 180 }}>Date & Time</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {logs.map(log => (\r\n                            <tr key={log.rawId} style={{ borderBottom: \"1px solid #333\" }}>\r\n                                <td style={{ ...styles.td, color: \"#888\", textAlign: \"center\" }}>{log.id}</td>\r\n                                <td style={{ ...styles.td, fontWeight: \"bold\", color: \"#4caf50\" }}>{log.name}</td>\r\n                                <td style={{ ...styles.td, color: \"#ddd\" }}>{log.camera}</td>\r\n                                <td style={{ ...styles.td, color: \"#aaa\" }}>{log.date}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ServiceMaintenanceSection({ services, onRestartStack }) {\r\n    return (\r\n        <div style={{ padding: 30, background: \"#141414\", minHeight: \"100%\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 30, background: \"#252526\", padding: \"15px 25px\", borderRadius: 8, border: \"1px solid #333\" }}>\r\n                <h2 style={{ fontSize: 22, margin: 0, color: \"#fff\" }}>Service Maintenance</h2>\r\n                <button onClick={onRestartStack} style={{ background: \"#ff9800\", color: \"#111\", border: \"none\", padding: \"8px 20px\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                    RESTART STACK\r\n                </button>\r\n            </div>\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 30 }}>\r\n                <div>\r\n                    <div style={{ fontSize: 12, fontWeight: 700, color: \"#888\", marginBottom: 15, textTransform: \"uppercase\" }}>Critical Services</div>\r\n                    {services.map(s => (\r\n                        <div key={s.name} style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, marginBottom: 15, borderLeft: `4px solid ${s.status === \"Running\" ? \"#4caf50\" : \"#f44336\"}` }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                                <div>\r\n                                    <div style={{ fontSize: 15, fontWeight: \"bold\", color: \"#ddd\" }}>{s.label}</div>\r\n                                    <div style={{ fontSize: 12, color: \"#777\" }}>{s.details}</div>\r\n                                </div>\r\n                                <div style={{ background: s.status === \"Running\" ? \"rgba(76,175,80,0.1)\" : \"rgba(244,67,54,0.1)\", color: s.status === \"Running\" ? \"#4caf50\" : \"#f44336\", padding: \"4px 10px\", borderRadius: 20, fontSize: 11 }}>{s.status}</div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div>\r\n                    <div style={{ fontSize: 12, fontWeight: 700, color: \"#888\", marginBottom: 15, textTransform: \"uppercase\" }}>Diagnostics</div>\r\n                    <div style={{ display: \"grid\", gap: 15 }}>\r\n                        <div onClick={() => window.open(`http://${window.location.hostname}:1984/`, '_blank')} style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, border: \"1px solid #333\", cursor: \"pointer\" }}>\r\n                            <div style={{ fontWeight: \"bold\", color: \"#eee\" }}>Go2RTC Dashboard</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function RebootSection() {\r\n    const handleReboot = async () => {\r\n        if (!window.confirm(\"ATENTIUNE! Sigur reporniti serverul?\")) return;\r\n        try {\r\n            await API.post(\"/status/reboot\");\r\n            alert(\"Comanda executata.\");\r\n        } catch (e) { alert(\"Eroare: \" + e.message); }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Mentenanta - Server</h2>\r\n            <div style={{ background: \"#252526\", padding: 25, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <h3 style={{ color: \"#f44336\" }}>Reboot Server</h3>\r\n                <p style={{ color: \"#aaa\" }}>Aceasta actiune va reporni complet sistemul hardware.</p>\r\n                <button style={{ ...styles.btnPrimary, background: \"#f44336\" }} onClick={handleReboot}>Reboot Complet Server</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function TimeSettingsSection() {\r\n    const [timeData, setTimeData] = useState(null);\r\n    const [zones, setZones] = useState([]);\r\n    const [selectedZone, setSelectedZone] = useState(\"\");\r\n\r\n    const refresh = () => API.get('/system/time').then(res => {\r\n        setTimeData(res.data);\r\n        if (res.data?.raw?.['Time zone']) {\r\n            // format: \"Europe/Bucharest (EET, +0200)\"\r\n            const simple = res.data.raw['Time zone'].split(' ')[0];\r\n            setSelectedZone(prev => prev || simple);\r\n        }\r\n    }).catch(console.error);\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        API.get('/system/timezones')\r\n            .then(res => {\r\n                if (Array.isArray(res.data)) setZones(res.data);\r\n            })\r\n            .catch(() => {\r\n                // Fallback if backend API is older\r\n                setZones([\"Europe/Bucharest\", \"Europe/London\", \"Europe/Paris\", \"Europe/Berlin\", \"UTC\", \"America/New_York\", \"Asia/Tokyo\"]);\r\n            });\r\n    }, []);\r\n\r\n    const setZone = async (z) => {\r\n        if (!window.confirm(`Set timezone to ${z}?`)) return;\r\n        try {\r\n            await API.post('/system/timezone', { timezone: z });\r\n            alert(\"Timezone updated! Refreshing system info...\");\r\n            setTimeout(refresh, 2000);\r\n        } catch (e) { alert(\"Error: \" + (e.response?.data || e.message)); }\r\n    };\r\n\r\n    if (!timeData) return <div style={{ padding: 20, color: \"#aaa\" }}>Loading time data...</div>;\r\n\r\n    const { raw } = timeData;\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Setari Data si Ora Sistem</h2>\r\n            <div style={{ background: \"#252526\", padding: 25, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ color: \"#ccc\", marginBottom: 15, fontSize: 13, lineHeight: \"1.6\" }}>\r\n                    <div>Timezone Server: <span style={{ color: \"#fff\", fontWeight: \"bold\" }}>{raw?.['Time zone'] || 'Unknown'}</span></div>\r\n                    <div style={{ marginTop: 5 }}>Ora Locala Server: <span style={{ color: \"#00e676\", fontWeight: \"bold\" }}>{raw?.['Local time'] || 'Unknown'}</span></div>\r\n                    <div style={{ marginTop: 5 }}>Ora UTC: {raw?.['Universal time']}</div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 25, borderTop: \"1px solid #333\", paddingTop: 20 }}>\r\n                    <h3 style={{ color: \"#007acc\", fontSize: 14, textTransform: \"uppercase\", marginBottom: 10 }}>Selectare Fus Orar</h3>\r\n                    <div style={{ display: \"flex\", gap: 10 }}>\r\n                        <select\r\n                            value={selectedZone}\r\n                            onChange={e => setSelectedZone(e.target.value)}\r\n                            style={{ padding: \"8px\", borderRadius: 4, background: \"#333\", color: \"#fff\", border: \"1px solid #555\", flex: 1 }}\r\n                        >\r\n                            <option value=\"\">-- Select Timezone --</option>\r\n                            {zones.map(z => <option key={z} value={z}>{z}</option>)}\r\n                        </select>\r\n                        <button\r\n                            onClick={() => setZone(selectedZone)}\r\n                            disabled={!selectedZone}\r\n                            style={{ padding: \"8px 16px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 4, cursor: \"pointer\", opacity: selectedZone ? 1 : 0.5 }}\r\n                        >\r\n                            Salveaza\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 20 }}>\r\n                        <button onClick={() => setZone('Europe/Bucharest')} style={{ background: \"transparent\", border: \"1px solid #4caf50\", color: \"#4caf50\", padding: \"6px 12px\", borderRadius: 4, cursor: \"pointer\", fontSize: 12 }}>\r\n                            Setare Rapida: Romania (Europe/Bucharest)\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { styles, colors } from \"../../theme\";\r\n\r\nexport default function CameraEditModal({\r\n    editCam, setEditCam, manufacturers, models, caps, onClose, onSave\r\n}) {\r\n    const [probing, setProbing] = useState(false);\r\n    const [probeResults, setProbeResults] = useState(null);\r\n\r\n    const handleProbe = async () => {\r\n        setProbing(true);\r\n        try {\r\n            const res = await API.post(\"cameras/probe\", editCam);\r\n            setProbeResults(res.data);\r\n            if (res.data.manufacturer) setEditCam(prev => ({ ...prev, manufacturer: res.data.manufacturer }));\r\n            if (res.data.model) setEditCam(prev => ({ ...prev, model: res.data.model }));\r\n        } catch (e) {\r\n            alert(\"Probe Failed: \" + (e.response?.data?.error || e.message));\r\n        } finally {\r\n            setProbing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ position: \"fixed\", top: 0, left: 0, right: 0, bottom: 0, background: \"rgba(0,0,0,0.8)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 1000 }}>\r\n            <div style={{ background: \"#252526\", width: 600, borderRadius: 6, border: \"1px solid #444\", overflow: \"hidden\", display: \"flex\", flexDirection: \"column\", maxHeight: \"90vh\" }}>\r\n                <div style={{ background: \"#333\", padding: \"15px 20px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", borderBottom: \"1px solid #444\" }}>\r\n                    <h3 style={{ margin: 0, color: \"#fff\", fontSize: 16 }}>Connection Setup: {editCam.ip}</h3>\r\n                    <button onClick={onClose} style={{ background: \"none\", border: \"none\", color: \"#aaa\", cursor: \"pointer\", fontSize: 20 }}>&times;</button>\r\n                </div>\r\n\r\n                <div style={{ padding: 25, overflowY: \"auto\" }}>\r\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20, marginBottom: 20 }}>\r\n                        <div><label style={styles.label}>IP Address</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.ip} onChange={e => setEditCam({ ...editCam, ip: e.target.value })} /></div>\r\n                        <div><label style={styles.label}>Control Port</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.port} onChange={e => setEditCam({ ...editCam, port: e.target.value })} /></div>\r\n                    </div>\r\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20, marginBottom: 20 }}>\r\n                        <div><label style={styles.label}>User</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.user} onChange={e => setEditCam({ ...editCam, user: e.target.value })} /></div>\r\n                        <div><label style={styles.label}>Password</label><input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={editCam.pass} onChange={e => setEditCam({ ...editCam, pass: e.target.value })} /></div>\r\n                    </div>\r\n                    <div style={{ marginBottom: 20 }}>\r\n                        <label style={styles.label}>Manufacturer</label>\r\n                        <select style={{ ...styles.input, width: \"100%\", maxWidth: \"100%\" }} value={editCam.manufacturer} onChange={e => setEditCam({ ...editCam, manufacturer: e.target.value })}>\r\n                            <option value=\"\">Select...</option>\r\n                            {manufacturers.map(m => <option key={m} value={m}>{m}</option>)}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* AI Configuration Section */}\r\n                    <div style={{ marginBottom: 20, padding: 10, background: \"rgba(0,0,0,0.2)\", borderRadius: 4, border: \"1px dashed #444\" }}>\r\n                        <label style={{ ...styles.label, color: \"#4caf50\" }}>AI Sensitivity (Threshold)</label>\r\n                        <div style={{ display: \"flex\", alignItems: \"center\", gap: 10 }}>\r\n                            <input\r\n                                type=\"number\"\r\n                                step=\"0.05\"\r\n                                min=\"0.1\"\r\n                                max=\"1.0\"\r\n                                style={{ ...styles.input, width: 80, textAlign: \"center\" }}\r\n                                value={editCam.ai_server?.threshold !== undefined ? editCam.ai_server.threshold : 0.3}\r\n                                onChange={e => {\r\n                                    const val = parseFloat(e.target.value);\r\n                                    setEditCam(prev => ({\r\n                                        ...prev,\r\n                                        ai_server: {\r\n                                            ...(prev.ai_server || {}),\r\n                                            threshold: val\r\n                                        }\r\n                                    }));\r\n                                }}\r\n                            />\r\n                            <div style={{ fontSize: 11, color: \"#aaa\" }}>\r\n                                0.3 = Default (Standard)<br />\r\n                                0.15 = Max Sensitivity (Distant)<br />\r\n                                0.6 = Strict (Clear Only)\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ border: \"1px solid #444\", padding: 15, borderRadius: 4, background: \"#1e1e1e\" }}>\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 10 }}>\r\n                            <span style={{ fontWeight: \"bold\", fontSize: 13, color: \"#ddd\" }}>Auto-Discovery & Probing</span>\r\n                            <button onClick={handleProbe} disabled={probing} style={{ background: colors.info, color: \"#fff\", border: \"none\", padding: \"4px 12px\", borderRadius: 2, cursor: \"pointer\", fontSize: 12 }}>\r\n                                {probing ? \"Probing...\" : \"Test Connection & Find Streams\"}\r\n                            </button>\r\n                        </div>\r\n                        {probeResults && (\r\n                            <div style={{ fontSize: 12, color: \"#4caf50\", background: \"rgba(76,175,80,0.1)\", padding: 8, borderRadius: 2 }}>\r\n                                <b>Probe Success!</b> Camera detected as {probeResults.model}. Found {probeResults.channels?.length} potential channel(s).\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ background: \"#333\", padding: \"15px 20px\", display: \"flex\", justifyContent: \"flex-end\", borderTop: \"1px solid #444\" }}>\r\n                    <button style={styles.btnToolbar} onClick={onClose}>Anuleaza</button>\r\n                    <button style={styles.btnPrimary} onClick={onSave}>Salveaza Configuraia</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { API } from \"../api\";\r\n\r\n// Design System & Components\r\nimport { colors, styles } from \"../theme\";\r\nimport ScheduleEditor from \"../components/ScheduleInput\";\r\nimport ArmingMatrix from \"../components/ArmingMatrix\";\r\nimport Status from \"./Status\";\r\nimport CameraWizard from \"./CameraWizard\";\r\n\r\n// Icons\r\nimport {\r\n    Trash, Edit, SettingsIcon, Lock, AlertTriangle, Save,\r\n    Camera, Video, Archive, ChevronRight, RefreshCw\r\n} from \"../components/Icons\";\r\n\r\n// Modularized Sections\r\nimport {\r\n    NetworkInterfaceSection,\r\n    VPNSettingsSection,\r\n    DispatchFailoverSection,\r\n    SystemPortsSection\r\n} from \"../sections/settings/NetworkSection\";\r\n\r\nimport {\r\n    AddUserSection,\r\n    UserSettingsSection\r\n} from \"../sections/settings/SecuritySection\";\r\n\r\nimport {\r\n    OrphansSection,\r\n    ArchiveSettingsSection\r\n} from \"../sections/settings/StorageSection\";\r\n\r\nimport { AISection } from \"../sections/settings/AISection\";\r\n\r\nimport {\r\n    IPDevicesRootSection,\r\n    CameraSettingsSection,\r\n    ChannelSettingsSection\r\n} from \"../sections/settings/HardwareSection\";\r\n\r\nimport {\r\n    SystemLogsSection,\r\n    ServiceMaintenanceSection,\r\n    RebootSection,\r\n    TimeSettingsSection\r\n} from \"../sections/settings/MaintenanceSection\";\r\n\r\nimport CameraEditModal from \"../sections/settings/CameraEditModal\";\r\n\r\n// Hook for fetching models (Shared)\r\nfunction useModels() {\r\n    const [data, setData] = useState({ manufacturers: [], models: {}, capabilities: {} });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        API.get(\"/models\")\r\n            .then(res => {\r\n                const mfgList = res.data.manufacturers.map(m => m.name).sort();\r\n                const modelMap = res.data.manufacturers.reduce((acc, m) => {\r\n                    acc[m.name] = m.models;\r\n                    return acc;\r\n                }, {});\r\n\r\n                API.get(\"/models/capabilities\").then(capRes => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: capRes.data || {} });\r\n                    setLoading(false);\r\n                }).catch(() => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: {} });\r\n                    setLoading(false);\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(\"Failed to load models\", e);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return { ...data, loading };\r\n}\r\n\r\nexport default function Settings() {\r\n    const location = useLocation();\r\n    // --- STATE ---\r\n    const [selection, setSelection] = useState({ type: \"SYSTEM\", id: null, subTab: \"SERVER\" });\r\n    const [expanded, setExpanded] = useState({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n\r\n    // Core Data\r\n    const [cams, setCams] = useState([]);\r\n    const [statusData, setStatusData] = useState({});\r\n    const [services, setServices] = useState([]);\r\n    const { manufacturers: MANUFACTURERS, models: MODELS, capabilities: CAPABILITIES } = useModels();\r\n    const [availableModules, setAvailableModules] = useState([]);\r\n\r\n    // Network & Environment\r\n    const [networkConfig, setNetworkConfig] = useState({ mode: \"dhcp\", ip: \"\", netmask: \"\", gateway: \"\", dns1: \"\", dns2: \"\", edgeName: \"DSS-SMART GUARD\" });\r\n    const [netConfig, setNetConfig] = useState({});\r\n\r\n    // User Management\r\n    const [mockUsers, setMockUsers] = useState([]);\r\n    const [currentUser, setCurrentUser] = useState(() => {\r\n        const saved = localStorage.getItem(\"edge_user\");\r\n        if (saved) {\r\n            try { return JSON.parse(saved); } catch (e) { }\r\n        }\r\n        return { name: \"Guest\", role: \"operator\", id: -1 };\r\n    });\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [newUserForm, setNewUserForm] = useState({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n    const [isEditingTitle, setIsEditingTitle] = useState(false);\r\n\r\n    // Arming State\r\n    const [armingSchedules, setArmingSchedules] = useState([]);\r\n    const [armingAssignments, setArmingAssignments] = useState({});\r\n    const [armingModes, setArmingModes] = useState({});\r\n    const [armingLabels, setArmingLabels] = useState({});\r\n\r\n    // Modal State\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [editCam, setEditCam] = useState({});\r\n\r\n    // --- DATA LOADING ---\r\n    const loadCams = useCallback(() => {\r\n        API.get(\"/cameras/config\").then(res => setCams(res.data)).catch(e => console.error(e));\r\n        API.get(\"/cameras/config\").then(res => {\r\n            const map = {};\r\n            if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n            setStatusData(map);\r\n        }).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadServices = useCallback(() => {\r\n        API.get(\"status/services\").then(res => setServices(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadUsers = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"auth/users\");\r\n            if (Array.isArray(res.data)) {\r\n                setMockUsers(res.data.map(u => ({\r\n                    id: u.id || u.username,\r\n                    name: u.username,\r\n                    icon: u.role === 'admin' ? \"[A]\" : \"[O]\",\r\n                    role: u.role,\r\n                    menus: u.menus || []\r\n                })));\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    }, []);\r\n\r\n    const loadNetwork = useCallback(() => {\r\n        API.get(\"/network/config\").then(res => setNetworkConfig(prev => ({ ...prev, ...res.data }))).catch(e => console.error(e));\r\n        API.get(\"/network/all\").then(res => setNetConfig(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadArming = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"/arming/data\");\r\n            setArmingSchedules(res.data.schedules || []);\r\n            setArmingAssignments(res.data.assignments || {});\r\n            setArmingModes(res.data.modes || {});\r\n            setArmingLabels(res.data.labels || {});\r\n        } catch (e) { console.error(\"Failed to load arming data\", e); }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadCams();\r\n        loadServices();\r\n        loadUsers();\r\n        loadNetwork();\r\n        loadArming();\r\n\r\n        API.get(\"/ai/modules\").then(res => setAvailableModules(Array.isArray(res.data) ? res.data : [])).catch(() => setAvailableModules([]));\r\n\r\n        const user = localStorage.getItem(\"edge_user\");\r\n        if (user) {\r\n            try { setCurrentUser(JSON.parse(user)); } catch (e) { }\r\n        }\r\n\r\n        // --- DEEP LINKING LOGIC ---\r\n        const params = new URLSearchParams(location.search);\r\n        const tab = params.get(\"tab\");\r\n        const camId = params.get(\"camId\");\r\n\r\n        if (tab === \"hardware\" && camId) {\r\n            setSelection({ type: \"CAMERA\", id: camId });\r\n            setExpanded(prev => ({ ...prev, HARDWARE: true, IP_DEVICES: true }));\r\n        } else if (tab === \"channels\" && camId) {\r\n            setSelection({ type: \"CHANNEL\", id: camId });\r\n            setExpanded(prev => ({ ...prev, CHANNELS: true }));\r\n        } else if (tab === \"arming\") {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n            setSelection({ type: \"ARMING_MATRIX\" });\r\n        } else if (tab === \"vpn\") {\r\n            setSelection({ type: \"NETWORK_VPN\" });\r\n            setExpanded(prev => ({ ...prev, SETTINGS: true, NETWORK: true }));\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            API.get(\"/cameras/config\").then(res => {\r\n                const map = {};\r\n                if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n                setStatusData(map);\r\n            }).catch(e => console.error(e));\r\n            loadServices();\r\n            loadNetwork();\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, [loadCams, loadServices, loadUsers, loadNetwork, loadArming, location.search]);\r\n\r\n    // --- AUTO-EXPAND SIDEBAR & SCROLL ---\r\n    useEffect(() => {\r\n        if (!selection) return;\r\n\r\n        // 1. Expand relevant parent menus (Clean and enforce single-open rule)\r\n        if (selection.type === \"CAMERA\" || selection.type === \"IP_DEVICES_ROOT\" || selection.type === \"ARCHIVE\" || selection.type === \"WIZARD\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: true, IP_DEVICES: selection.type === \"CAMERA\", NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n        } else if (selection.type === \"CHANNEL\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: true, ARMING: false });\r\n        } else if (selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"SYSTEM\" || selection.type === \"AI_HUB\" || selection.type === \"ORPHANS\" || selection.type === \"SYSTEM_LOGS\") {\r\n            const isSettingsSub = selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\" || selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\";\r\n\r\n            setExpanded({\r\n                SETTINGS: true,\r\n                HARDWARE: false,\r\n                USERS: (selection.type === \"USER\" || selection.type === \"ADD_USER\"),\r\n                MAINTENANCE: (selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\"),\r\n                NETWORK: (selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\"),\r\n                IP_DEVICES: false, CHANNELS: false, ARMING: false\r\n            });\r\n        }\r\n        else if (selection.type.startsWith(\"ARMING\")) {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n        } else if ([\"SYSTEM\", \"AI_HUB\", \"ADD_USER\", \"USER\", \"ORPHANS\", \"MAINTENANCE_SERVICES\", \"MAINTENANCE_REBOOT\", \"SYSTEM_LOGS\", \"NETWORK_INTERFACE\", \"NETWORK_VPN\", \"NETWORK_SERVER\", \"NETWORK_PORTS\"].includes(selection.type)) {\r\n            setExpanded(prev => ({ ...prev, SETTINGS: true }));\r\n            if (selection.type === \"ADD_USER\" || selection.type === \"USER\") setExpanded(prev => ({ ...prev, USERS: true }));\r\n            if (selection.type.startsWith(\"MAINTENANCE\")) setExpanded(prev => ({ ...prev, MAINTENANCE: true }));\r\n            if (selection.type.startsWith(\"NETWORK\")) setExpanded(prev => ({ ...prev, NETWORK: true }));\r\n        }\r\n\r\n        // 2. Scroll into view (defer and slightly wait for render)\r\n        setTimeout(() => {\r\n            const activeId = selection.type === \"CHANNEL\" ? `sidebar_ch_${selection.id}` :\r\n                selection.type === \"CAMERA\" ? `sidebar_hw_${selection.id}` :\r\n                    selection.type === \"USER\" ? `sidebar_user_${selection.id}` : null;\r\n\r\n            if (activeId) {\r\n                const el = document.getElementById(activeId);\r\n                if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\r\n            }\r\n        }, 150);\r\n    }, [selection.type, selection.id]);\r\n\r\n\r\n    // --- HANDLERS ---\r\n    const saveAllCams = async (updated) => {\r\n        try { await API.post(\"/cameras/config\", updated || cams); loadCams(); }\r\n        catch (e) { alert(\"Error saving: \" + e.message); }\r\n    };\r\n\r\n    const updateCam = (id, field, value) => {\r\n        const next = cams.map(c => c.id === id ? { ...c, [field]: value } : c);\r\n        setCams(next);\r\n    };\r\n\r\n    const deleteCam = async (id) => {\r\n        if (!window.confirm(\"Delete camera?\")) return;\r\n        try { await API.delete(`/cameras/${id}`); setSelection({ type: \"IP_DEVICES_ROOT\" }); loadCams(); }\r\n        catch (e) { alert(\"Error deleting: \" + e.message); }\r\n    };\r\n\r\n    const handleAddUser = async () => {\r\n        if (newUserForm.password !== newUserForm.confirm) return alert(\"Nu corespund parolele!\");\r\n        try {\r\n            await API.post(\"/auth/users\", newUserForm);\r\n            alert(\"Utilizator creat!\");\r\n            setNewUserForm({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare: \" + e.message); }\r\n    };\r\n\r\n    const handleDeleteUser = async (username) => {\r\n        if (!window.confirm(`Sunteti sigur ca stergeti utilizatorul ${username}?`)) return;\r\n        try {\r\n            await API.delete(`/auth/users/${username}`);\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare stergere: \" + e.message); }\r\n    };\r\n\r\n    const handleRestartStack = async () => {\r\n        if (!window.confirm(\"Restart critical services?\")) return;\r\n        try { await API.post(\"/status/restart-stack\"); alert(\"Command sent.\"); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // Arming Handlers\r\n    const handleSaveSchedules = async (newSchedules) => {\r\n        try { await API.post(\"/arming/schedules\", newSchedules); setArmingSchedules(newSchedules); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleToggleSchedule = async (idx, isEnabled) => {\r\n        const updated = [...armingSchedules];\r\n        if (updated[idx]) { updated[idx] = { ...updated[idx], enabled: !isEnabled }; await handleSaveSchedules(updated); }\r\n    };\r\n    const handleSaveAssignments = async (newAssignments) => {\r\n        try { await API.post(\"/arming/assignments\", newAssignments); setArmingAssignments(newAssignments); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveModes = async (newModes) => {\r\n        try { await API.post(\"/arming/modes\", newModes); setArmingModes(prev => ({ ...prev, ...newModes })); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveLabels = async (newLabels) => {\r\n        try { await API.post(\"/arming/labels\", newLabels); setArmingLabels(prev => ({ ...prev, ...newLabels })); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // --- RENDER HELPERS ---\r\n    const toggleExpand = (key) => setExpanded(prev => {\r\n        const isCurrentlyOpen = prev[key];\r\n        // Reset all\r\n        const next = { SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false };\r\n\r\n        const settingsSub = [\"USERS\", \"NETWORK\", \"MAINTENANCE\"];\r\n\r\n        if (settingsSub.includes(key)) {\r\n            next.SETTINGS = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"IP_DEVICES\") {\r\n            next.HARDWARE = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"SETTINGS\" || key === \"HARDWARE\" || key === \"CHANNELS\" || key === \"ARMING\") {\r\n            // Main groups\r\n            next[key] = !isCurrentlyOpen;\r\n        } else {\r\n            next[key] = !isCurrentlyOpen;\r\n        }\r\n        return next;\r\n    });\r\n    const hasAccess = (menuId) => currentUser.role === 'admin' || (currentUser.menus && currentUser.menus.includes(menuId));\r\n\r\n    const renderContent = () => {\r\n        switch (selection.type) {\r\n            case \"SYSTEM\": return <Status />;\r\n            case \"AI_HUB\": return <AISection />;\r\n            case \"NETWORK_INTERFACE\": return <NetworkInterfaceSection networkConfig={networkConfig} setNetworkConfig={setNetworkConfig} saveNetwork={() => API.post(\"/network/config\", networkConfig).then(() => alert(\"Saved\"))} />;\r\n            case \"NETWORK_VPN\": return (\r\n                <VPNSettingsSection\r\n                    netConfig={netConfig}\r\n                    setNetConfig={setNetConfig}\r\n                    connectVPN={async (iface) => {\r\n                        const prefix = iface;\r\n                        const payload = {\r\n                            interface: iface,\r\n                            address: netConfig[`${prefix}_address`],\r\n                            privateKey: netConfig[`${prefix}_privateKey`],\r\n                            publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                            endpoint: netConfig[`${prefix}_endpoint`],\r\n                            allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                            persistentKeepalive: 25\r\n                        };\r\n                        try {\r\n                            const res = await API.post(\"/vpn/setup-wireguard\", payload);\r\n                            alert(res.data.message || \"VPN Command Sent!\");\r\n                            loadNetwork();\r\n                        } catch (e) { alert(\"VPN Error: \" + (e.response?.data?.error || e.message)); }\r\n                    }}\r\n                    saveImportedVPN={async (bundle) => {\r\n                        try {\r\n                            // Save Management (WG0)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg0\",\r\n                                address: bundle.mgmt.interface.address,\r\n                                privateKey: bundle.mgmt.interface.privateKey,\r\n                                publicKey: bundle.mgmt.peer.publicKey,\r\n                                endpoint: bundle.mgmt.peer.endpoint,\r\n                                allowedIps: bundle.mgmt.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Save AI (WG1)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg1\",\r\n                                address: bundle.ai.interface.address,\r\n                                privateKey: bundle.ai.interface.privateKey,\r\n                                publicKey: bundle.ai.peer.publicKey,\r\n                                endpoint: bundle.ai.peer.endpoint,\r\n                                allowedIps: bundle.ai.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Update Dispatch URL for events\r\n                            // Check if we have a way to save dispatch URL from import? \r\n                            // Usually it's just the VPN endpoint IP, but let's stick to VPN for now.\r\n\r\n                            alert(\"Configuraia VPN Dual a fost aplicat cu succes! Sistemul se conecteaz...\");\r\n                            loadNetwork();\r\n                        } catch (e) {\r\n                            alert(\"Eroare la salvarea VPN: \" + e.message);\r\n                        }\r\n                    }}\r\n                    connectDualVPN={async () => {\r\n                        const interfaces = [\"wg0\", \"wg1\"];\r\n                        let successCount = 0;\r\n                        for (const iface of interfaces) {\r\n                            const prefix = iface;\r\n                            const payload = {\r\n                                interface: iface,\r\n                                address: netConfig[`${prefix}_address`],\r\n                                privateKey: netConfig[`${prefix}_privateKey`],\r\n                                publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                                endpoint: netConfig[`${prefix}_endpoint`],\r\n                                allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                                persistentKeepalive: 25\r\n                            };\r\n                            if (!payload.privateKey || !payload.publicKey) continue;\r\n                            try {\r\n                                await API.post(\"/vpn/setup-wireguard\", payload);\r\n                                successCount++;\r\n                            } catch (e) { console.error(`Failed to start ${iface}`, e); }\r\n                        }\r\n                        if (successCount > 0) {\r\n                            alert(`Comand trimis pentru ${successCount} interfee.`);\r\n                            loadNetwork();\r\n                        } else {\r\n                            alert(\"Nu s-au gsit date complete pentru ambele interfee.\");\r\n                        }\r\n                    }}\r\n                />\r\n            );\r\n            case \"NETWORK_SERVER\": return <DispatchFailoverSection netConfig={netConfig} setNetConfig={setNetConfig} saveDispatch={() => API.post(\"/dispatch\", { url: netConfig.dispatchUrl }).then(() => alert(\"Dispatch URL saved! Events will now be sent to this server.\"))} />;\r\n            case \"NETWORK_PORTS\": return <SystemPortsSection />;\r\n            case \"ADD_USER\": return <AddUserSection newUserForm={newUserForm} setNewUserForm={setNewUserForm} handleAddUser={handleAddUser} />;\r\n            case \"USER\": {\r\n                const u = selectedUser || mockUsers.find(x => x.id === selection.id);\r\n                return u ? <UserSettingsSection selectedUser={u} setSelectedUser={(updated) => { setMockUsers(prev => prev.map(x => x.id === updated.id ? updated : x)); setSelectedUser(updated); }} currentUser={currentUser} handleDeleteUser={handleDeleteUser} loadUsers={loadUsers} /> : null;\r\n            }\r\n            case \"ORPHANS\": return <OrphansSection />;\r\n            case \"ARCHIVE\": return <ArchiveSettingsSection cams={cams} />;\r\n            case \"IP_DEVICES_ROOT\": return <IPDevicesRootSection cams={cams} statusData={statusData} onSelectCam={(id) => setSelection({ type: \"CAMERA\", id })} onEditCam={(c) => { setEditCam(c); setIsEditModalOpen(true); }} onDeleteCam={deleteCam} />;\r\n            case \"CAMERA\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                return <CameraSettingsSection cam={cam} statusData={statusData} updateCam={updateCam} saveAll={saveAllCams} deleteCam={deleteCam} openEditModal={(c) => { setEditCam(c); setIsEditModalOpen(true); }} setSelection={setSelection} />;\r\n            }\r\n            case \"CHANNEL\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                if (!cam) return <div style={{ padding: 20, color: \"#aaa\" }}>Se ncarc datele canalului...</div>;\r\n                return <ChannelSettingsSection cam={cam} cams={cams} setCams={setCams} setSelection={setSelection} availableModules={availableModules} updateCam={updateCam} saveAll={saveAllCams} />;\r\n            }\r\n            case \"SYSTEM_LOGS\": return <SystemLogsSection />;\r\n            case \"MAINTENANCE_SERVICES\": return <ServiceMaintenanceSection services={services} onRestartStack={handleRestartStack} />;\r\n            case \"MAINTENANCE_REBOOT\": return <RebootSection />;\r\n            case \"TIME_SETTINGS\": return <TimeSettingsSection />;\r\n            case \"WIZARD\": return <CameraWizard\r\n                onUpdate={loadCams}\r\n                onFinish={() => { loadCams(); setSelection({ type: \"IP_DEVICES_ROOT\" }); }}\r\n                onOpenSetup={(newCam) => { setEditCam(newCam || {}); setIsEditModalOpen(true); }}\r\n            />;\r\n            case \"ARMING_SCHEDULES\": return <ScheduleEditor schedules={armingSchedules} onSave={handleSaveSchedules} />;\r\n            case \"ARMING_MATRIX\": return <ArmingMatrix schedules={armingSchedules} cams={cams} assignments={armingAssignments} modes={armingModes} labels={armingLabels} onSave={handleSaveAssignments} onSaveModes={handleSaveModes} onSaveLabels={handleSaveLabels} onToggleSchedule={handleToggleSchedule} />;\r\n            default: return <div style={{ padding: 20 }}>Select an item from the sidebar</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.main}>\r\n                {/* SIDEBAR */}\r\n                <div style={styles.sidebar}>\r\n                    <div style={{ padding: 10, borderBottom: `1px solid ${colors.border}`, fontWeight: \"bold\", cursor: \"pointer\" }} onDoubleClick={() => setIsEditingTitle(true)}>\r\n                        {isEditingTitle ? (\r\n                            <input\r\n                                autoFocus\r\n                                value={networkConfig.edgeName}\r\n                                onChange={(e) => setNetworkConfig({ ...networkConfig, edgeName: e.target.value })}\r\n                                onBlur={() => { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); }}\r\n                                onKeyDown={(e) => { if (e.key === 'Enter') { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); } }}\r\n                                style={{ width: \"100%\", background: \"#333\", color: \"#fff\", border: \"1px solid #007acc\", padding: \"2px 5px\", borderRadius: 2 }}\r\n                            />\r\n                        ) : (networkConfig.edgeName || \"DSS-SMART GUARD\")}\r\n                    </div>\r\n\r\n                    {/* SETARI SISTEM GROUP */}\r\n                    <div onClick={() => toggleExpand(\"SETTINGS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#222\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5, borderTop: \"1px solid #444\", color: \"#aaa\" }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.SETTINGS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> SETARI SISTEM\r\n                    </div>\r\n                    {expanded.SETTINGS && (\r\n                        <div style={{ background: \"#1a1a1a\", borderBottom: \"1px solid #333\" }}>\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"SYSTEM\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM\" ? \"#094771\" : \"transparent\" }}>Status Sistem</div>}\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"TIME_SETTINGS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"TIME_SETTINGS\" ? \"#094771\" : \"transparent\" }}>Data si Ora</div>}\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"AI_HUB\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"AI_HUB\" ? \"#094771\" : \"transparent\" }}>AI Engine Hub</div>}\r\n\r\n                            {hasAccess(\"USERS\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"USERS\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.USERS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Utilizatori\r\n                                    </div>\r\n                                    {expanded.USERS && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"ADD_USER\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, background: selection.type === \"ADD_USER\" ? \"#333\" : \"transparent\" }}>+ Adauga Utilizator</div>\r\n                                            {mockUsers.map(u => (\r\n                                                <div key={u.id} id={`sidebar_user_${u.id}`} onClick={() => { setSelection({ type: \"USER\", id: u.id }); setSelectedUser(u); }} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"USER\" && selection.id === u.id) ? \"#333\" : \"transparent\" }}>{u.name}</div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"ORPHANS\") && <div onClick={() => setSelection({ type: \"ORPHANS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"ORPHANS\" ? \"#094771\" : \"transparent\", display: \"flex\", alignItems: \"center\" }}><Trash size={14} style={{ marginRight: 5 }} /> Camere Sterse</div>}\r\n\r\n                            {hasAccess(\"MAINTENANCE\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"MAINTENANCE\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.MAINTENANCE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Mentenanta\r\n                                    </div>\r\n                                    {expanded.MAINTENANCE && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_SERVICES\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_SERVICES\" ? \"#333\" : \"transparent\" }}>Stare Servicii</div>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_REBOOT\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_REBOOT\" ? \"#333\" : \"transparent\" }}>Repornire</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"SYSTEM_LOGS\") && <div onClick={() => setSelection({ type: \"SYSTEM_LOGS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM_LOGS\" ? \"#094771\" : \"transparent\" }}>LOGS</div>}\r\n\r\n                            {hasAccess(\"NETWORK\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"NETWORK\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.NETWORK ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Retea\r\n                                    </div>\r\n                                    {expanded.NETWORK && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_INTERFACE\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_INTERFACE\" ? \"#333\" : \"transparent\" }}>Interfata</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_VPN\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_VPN\" ? \"#333\" : \"transparent\" }}>VPN</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_SERVER\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_SERVER\" ? \"#333\" : \"transparent\" }}>Evenimente Server</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_PORTS\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_PORTS\" ? \"#333\" : \"transparent\" }}>Porturi Sistem</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* HARDWARE GROUP */}\r\n                    {(hasAccess(\"HARDWARE\") || hasAccess(\"ARCHIVE\")) && (\r\n                        <div onClick={() => toggleExpand(\"HARDWARE\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                            <ChevronRight size={14} style={{ transform: expanded.HARDWARE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Hardware\r\n                        </div>\r\n                    )}\r\n                    {expanded.HARDWARE && (\r\n                        <>\r\n                            {hasAccess(\"HARDWARE\") && (\r\n                                <>\r\n                                    <div onClick={() => { toggleExpand(\"IP_DEVICES\"); setSelection({ type: \"IP_DEVICES_ROOT\" }); }} style={{ ...styles.subItem, background: selection.type === \"IP_DEVICES_ROOT\" ? \"#094771\" : \"transparent\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.IP_DEVICES ? \"rotate(90deg)\" : \"rotate(0deg)\", marginRight: 5 }} /> Dispozitive IP\r\n                                    </div>\r\n                                    <div onClick={() => setSelection({ type: \"WIZARD\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, fontWeight: \"bold\", background: selection.type === \"WIZARD\" ? \"#094771\" : \"transparent\" }}>+ Adauga Camera (WIZARD)</div>\r\n                                    {expanded.IP_DEVICES && cams.map(c => {\r\n                                        const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                        return (\r\n                                            <div key={\"hw_\" + c.id} id={`sidebar_hw_${c.id}`} onClick={() => setSelection({ type: \"CAMERA\", id: c.id })} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"CAMERA\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                                <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                                <Camera size={14} style={{ marginRight: 5 }} /> {c.name || c.ip}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </>\r\n                            )}\r\n                            {hasAccess(\"ARCHIVE\") && <div onClick={() => setSelection({ type: \"ARCHIVE\" })} style={{ ...styles.subItem, background: selection.type === \"ARCHIVE\" ? \"#094771\" : \"transparent\" }}><Archive size={14} style={{ marginRight: 5 }} /> Arhiva</div>}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* CANALE GROUP */}\r\n                    {hasAccess(\"HARDWARE\") && (\r\n                        <>\r\n                            <div onClick={() => toggleExpand(\"CHANNELS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                                <ChevronRight size={14} style={{ transform: expanded.CHANNELS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Canale\r\n                            </div>\r\n                            {expanded.CHANNELS && cams.map(c => {\r\n                                const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                return (\r\n                                    <div key={\"ch_\" + c.id} id={`sidebar_ch_${c.id}`} onClick={() => setSelection({ type: \"CHANNEL\", id: c.id })} style={{ ...styles.subItem, background: (selection.type === \"CHANNEL\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                        <Video size={14} style={{ marginRight: 5 }} /> {c.name || c.ip} - D1\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* ARMARE GROUP */}\r\n                    <div onClick={() => toggleExpand(\"ARMING\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.ARMING ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Armare\r\n                    </div>\r\n                    {expanded.ARMING && (\r\n                        <div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_SCHEDULES\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_SCHEDULES\" ? \"#094771\" : \"transparent\" }}>Definire Orar</div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_MATRIX\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_MATRIX\" ? \"#094771\" : \"transparent\" }}>Matrice Armare</div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: \"auto\", padding: 20 }}>\r\n                        <div style={{ fontSize: 10, color: \"#666\", textAlign: \"center\", marginBottom: 10, fontFamily: \"monospace\" }}>\r\n                            UI REVISION: 2026.01.15.1800<br />\r\n                            (NATIVE CHANNEL)\r\n                        </div>\r\n                        <button style={{ ...styles.btnPrimary, background: colors.danger, width: \"100%\", marginRight: 0 }} onClick={() => { localStorage.removeItem(\"edge_user\"); window.location.reload(); }}>LOGOUT</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CONTENT AREA */}\r\n                <div style={styles.content}>\r\n                    {renderContent()}\r\n                </div>\r\n            </div>\r\n\r\n            {isEditModalOpen && (\r\n                <CameraEditModal\r\n                    editCam={editCam}\r\n                    setEditCam={setEditCam}\r\n                    manufacturers={MANUFACTURERS}\r\n                    onClose={() => setIsEditModalOpen(false)}\r\n                    onSave={async () => {\r\n                        try {\r\n                            if (editCam.id && cams.some(c => c.id === editCam.id)) {\r\n                                const updated = cams.map(c => c.id === editCam.id ? editCam : c);\r\n                                await API.post(\"/cameras/config\", updated);\r\n                            } else {\r\n                                await API.post(\"/cameras/add\", editCam);\r\n                                setSelection({ type: \"IP_DEVICES_ROOT\" }); // Redirect to list after add\r\n                            }\r\n                            setIsEditModalOpen(false);\r\n                            loadCams();\r\n                        } catch (e) {\r\n                            alert(\"Save Error: \" + (e.response?.data?.error || e.message));\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}","import axios from \"axios\";\r\n\r\n// Use relative path or detect Proxy base\r\nlet baseURL = \"\";\r\nif (typeof window !== 'undefined') {\r\n    // Check for proxy in full URL (HashRouter compatibility)\r\n    const match = window.location.href.match(/(\\/api\\/proxy\\/[^\\/]+)/);\r\n    if (match) {\r\n        baseURL = match[1];\r\n    } else if (window.location.hash.includes(\"#/\")) {\r\n        // Fallback for local dev or direct access\r\n        baseURL = \"\";\r\n    }\r\n}\r\n\r\nconst API = axios.create({\r\n    baseURL: baseURL\r\n});\r\n\r\nexport { API, baseURL };\r\nexport default API;\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["IconCpu","_jsx","style","marginRight","children","IconGpu","IconRam","IconNet","IconHdd","Status","_info$disk","_info$disk2","_hwInfo$network","info","setInfo","useState","hwInfo","setHwInfo","loadingHw","setLoadingHw","useEffect","async","res","API","get","data","err","console","error","load","interval","setInterval","then","catch","clearInterval","padding","textAlign","color","className","width","height","background","borderRadius","animation","ram","total","free","ramUsed","ramTotalGB","toFixed","ramUsedGB","ramPct","Math","round","cpuVal","cpu","Array","isArray","gpuVal","gpuLoad","diskPct","disk","usedPercent","_jsxs","minHeight","fontFamily","display","justifyContent","alignItems","marginBottom","borderBottom","paddingBottom","gap","fontSize","margin","fontWeight","letterSpacing","marginTop","floor","uptime","ActionButton","label","onClick","window","confirm","post","alert","gridTemplateColumns","KPICard","title","value","unit","pct","icon","sub","concat","split","trim","gpu","avail","flexDirection","SectionCard","borderCollapse","TableRow","motherboard","highlight","kernel","os","hwRes","border","cursor","ModuleStatus","name","status","modules","borderLeft","storageMap","network","length","map","net","i","brand","mac","paddingLeft","dns","join","textTransform","LogButton","href","defaults","baseURL","warning","_ref","_ref2","transition","onMouseEnter","e","target","parseInt","slice","onMouseLeave","React","_ref3","borderTop","boxShadow","lineHeight","marginLeft","min","whiteSpace","overflow","textOverflow","_ref4","_ref5","opacity","_ref6","rel","textDecoration","IconBase","size","props","_objectWithoutProperties","_excluded","_objectSpread","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","verticalAlign","Trash","points","d","Edit","SettingsIcon","cx","cy","r","Lock","x","y","rx","ry","AlertTriangle","x1","y1","x2","y2","Camera","Video","Archive","ChevronRight","Maximize","Minimize","Shield","DAYS","schedules","onSave","localSchedules","setLocalSchedules","selectedId","setSelectedId","init","Object","values","forEach","s","id","random","toString","substr","matrix","slots","h","undefined","keys","newId","Date","now","mat","enabled","currentSchedule","toggleSlot","dayIndex","slotIndex","currentArr","fillDay","val","arr","prev","handleDelete","newS","handleSaveAll","flex","handleCreate","newSch","overflowY","onChange","from","_","day","dIdx","paddingRight","paddingTop","_currentSchedule$matr","_currentSchedule$matr2","s1","s2","borderRight","onMouseDown","buttons","cams","assignments","modes","labels","onSaveModes","onSaveLabels","onToggleSchedule","localAssignments","setLocalAssignments","localModes","setLocalModes","localLabels","setLocalLabels","fontStyle","key","updated","toggleMode","scheds","entries","k","v","sch","realIdx","days","intervals","start","end","cam","ip","handleAssign","camId","maxWidth","m","theme","CameraWizard","onFinish","onUpdate","onOpenSetup","scannedDevices","setScannedDevices","scanning","setScanning","savedCameras","setSavedCameras","loadSaved","timeout","disabled","dev","isAdded","some","c","user","pass","manufacturer","handleSelectDevice","model","handleManualAdd","overflowX","minWidth","position","stopPropagation","delete","_e$response","_e$response$data","response","message","top","right","connected","styles","sectionHeader","formGrid","input","btnPrimary","btnToolbar","table","th","td","inputTable","InterfaceSettings","networkConfig","setNetworkConfig","saveNetwork","ifaceTab","setIfaceTab","isManual","mode","interfaces","availableInterfaces","activeIface","syncToInterface","iface","idx","interface","netmask","gateway","dns1","dns2","video","sel","handleTabClick","family","type","checked","pointerEvents","placeholder","VPNSettings","netConfig","setNetConfig","connectVPN","connectDualVPN","saveImportedVPN","vpnTab","setVpnTab","prefix","getConf","setConf","isConnected","includes","toUpperCase","accept","file","files","reader","FileReader","onload","event","bundle","JSON","parse","result","mgmt","ai","Error","newCfg","wg0_address","address","wg0_privateKey","privateKey","wg0_serverPubKey","peer","publicKey","wg0_endpoint","endpoint","wg0_allowedIps","allowedIps","wg1_address","wg1_privateKey","wg1_serverPubKey","wg1_endpoint","wg1_allowedIps","readAsText","document","getElementById","click","DispatchSettings","saveDispatch","syncing","setSyncing","dispatchUrl","vpn_status","wg1_status","SystemPortsSection","AddUserSection","newUserForm","setNewUserForm","handleAddUser","username","password","UserSettingsSection","selectedUser","setSelectedUser","currentUser","handleDeleteUser","loadUsers","readOnly","role","_selectedUser$menus","menus","menuId","current","next","filter","toggleMenu","put","OrphansSection","orphans","setOrphans","navigate","useNavigate","o","uuid","birthtime","toLocaleString","colSpan","ArchiveSettingsSection","_stats$storage","_stats$storage2","stats","setStats","fetchStats","recordStream","retention","cameras","main","storage","storagePath","physicalPath","toPascalCase","string","camelCase","replace","match","p1","p2","toLowerCase","toCamelCase","charAt","mergeClasses","_len","arguments","classes","_key","index","array","Boolean","indexOf","defaultAttributes","xmlns","Icon","forwardRef","ref","absoluteStrokeWidth","iconNode","rest","createElement","Number","prop","startsWith","hasA11yProp","tag","attrs","createLucideIcon","iconName","Component","displayName","Cpu","Activity","TriangleAlert","RefreshCw","Save","AISection","activeTab","setActiveTab","setCameras","selectedCamera","setSelectedCamera","TabButton","active","HubSettings","AntiSpamSettings","_config$false_detecti","_config$false_detecti2","_config$false_detecti3","_config$false_detecti4","_config$false_detecti5","_config$false_detecti6","_config$event_manager","_config$false_detecti7","selectedCam","setSelectedCam","config","setConfig","loading","setLoading","saving","setSaving","loadCameras","loadStats","loadConfig","_res$data","updateFilter","false_detection_filter","StatBox","tracked_objects","events_today","false_zones","uptime_seconds","motion_only","detection_count_before_ignore","stability_frames","step","max","threshold","parseFloat","borderColor","event_manager","cooldown_seconds","updateEvent","min_displacement_pixels","hubUrl","save","streamPool","Map","GO2RTC_API","location","origin","releaseStream","entry","refs","log","setTimeout","currentEntry","pc","close","Go2RTCPlayer","streamType","isHidden","videoRef","useRef","streamEntry","has","RTCPeerConnection","iceServers","media","MediaStream","ontrack","addTrack","track","addTransceiver","direction","offer","createOffer","setLocalDescription","fetch","method","headers","body","sdp","ok","answer","text","setRemoteDescription","set","acquireStream","srcObject","play","autoPlay","muted","playsInline","objectFit","LivePreview","CanvasROI","otherZones","containerRef","canvasRef","dims","setDims","w","draggingIdx","setDraggingIdx","obs","ResizeObserver","contentRect","observe","disconnect","canvas","ctx","getContext","clearRect","drawZone","pts","beginPath","moveTo","lineTo","closePath","strokeStyle","fillStyle","lineWidth","p","arc","PI","z","safePoints","handleMouseUp","left","zIndex","nativeEvent","offsetX","offsetY","nx","ny","hitIdx","findIndex","px","py","sqrt","onMouseMove","newPoints","onMouseUp","settingRow","inputNum","IPDevicesRootSection","statusData","onEditCam","onSelectCam","onDeleteCam","_statusData$c$id","_statusData$c$id2","_statusData$c$id3","bottom","fps","toLocaleTimeString","CameraSettingsSection","_statusData$cam$id","_statusData$cam$id2","_statusData$cam$id3","_caps$codecs","_caps$resolutions","_caps$gopRange","_caps$gopRange2","_caps$fps","updateCam","saveAll","deleteCam","openEditModal","setSelection","caps","setCaps","fetchDeviceConfig","capabilities","codec","gop","resolution","warn","timer","handleRemoteChange","onBlur","port","alignSelf","lastError","_Fragment","codecs","resolutions","gopRange","f","AdvancedAITab","_filter$threshold","events","ChannelSettingsSection","_cam$ai_server","_cam$ai_server2","setCams","availableModules","activeZoneIdx","setActiveZoneIdx","isDrawing","setIsDrawing","roiPoints","setRoiPoints","camAI","ai_server","zones","roi","objects","safeIdx","activeZone","pointsToShow","silentSave","updatedCams","aspectRatio","transform","handleSaveZonePoints","newZones","newConf","colors","accent","sensitivity","handleAddZone","newName","handleDeleteZone","_cam$ai_server3","_currentMod$classes","currentModName","module","currentMod","find","obj","_activeZone$objects2","objKey","_activeZone$objects","newObjs","handleObjectToggle","record","SystemLogsSection","logs","setLogs","fetchLogs","parsed","evt","_evt$detections","detections","Set","class","rawId","camera","camera_name","cameraId","date","timestamp","parseLogs","ServiceMaintenanceSection","services","onRestartStack","details","open","hostname","RebootSection","TimeSettingsSection","timeData","setTimeData","setZones","selectedZone","setSelectedZone","refresh","_res$data$raw","raw","simple","setZone","timezone","CameraEditModal","_editCam$ai_server","_probeResults$channel","editCam","setEditCam","manufacturers","models","onClose","probing","setProbing","probeResults","setProbeResults","maxHeight","channels","Settings","useLocation","selection","subTab","expanded","setExpanded","SETTINGS","HARDWARE","IP_DEVICES","NETWORK","USERS","MAINTENANCE","CHANNELS","ARMING","setStatusData","setServices","MANUFACTURERS","MODELS","CAPABILITIES","setData","mfgList","sort","modelMap","reduce","acc","capRes","useModels","setAvailableModules","edgeName","mockUsers","setMockUsers","setCurrentUser","saved","localStorage","getItem","isEditingTitle","setIsEditingTitle","armingSchedules","setArmingSchedules","armingAssignments","setArmingAssignments","armingModes","setArmingModes","armingLabels","setArmingLabels","isEditModalOpen","setIsEditModalOpen","loadCams","useCallback","loadServices","u","loadNetwork","loadArming","params","URLSearchParams","search","tab","activeId","el","scrollIntoView","behavior","block","saveAllCams","field","handleRestartStack","handleSaveSchedules","newSchedules","handleToggleSchedule","isEnabled","handleSaveAssignments","newAssignments","handleSaveModes","newModes","handleSaveLabels","newLabels","toggleExpand","isCurrentlyOpen","hasAccess","container","sidebar","onDoubleClick","autoFocus","onKeyDown","subItem","success","isOnline","_statusData$c$id4","danger","removeItem","reload","content","renderContent","NetworkInterfaceSection","VPNSettingsSection","payload","persistentKeepalive","successCount","DispatchFailoverSection","url","newCam","ScheduleEditor","ArmingMatrix","_e$response2","_e$response2$data","hash","axios","create","t","n","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable"],"ignoreList":[],"sourceRoot":""}