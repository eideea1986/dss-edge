{"version":3,"file":"static/js/510.8a4a4fdb.chunk.js","mappings":"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","sources":["pages/Status.js","components/RecorderPlayer.js","components/ScheduleInput.js","components/ArmingMatrix.js","pages/CameraWizard.js","sections/settings/network/styles.js","sections/settings/network/InterfaceSettings.js","sections/settings/network/VPNSettings.js","sections/settings/network/DispatchSettings.js","sections/settings/network/PortSettings.js","sections/settings/SecuritySection.js","sections/settings/StorageSection.js","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/cpu.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/activity.ts","../node_modules/lucide-react/src/icons/triangle-alert.ts","../node_modules/lucide-react/src/icons/refresh-cw.ts","../node_modules/lucide-react/src/icons/save.ts","sections/settings/AISection.js","sections/settings/HardwareSection.js","sections/settings/MaintenanceSection.js","sections/settings/CameraEditModal.js","pages/Settings.js","components/Icons.js","api.js","components/Go2RTCPlayer.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api\";\r\n// Lucide-react not available, using text fallbacks or simple SVGs if needed.\r\n\r\n// Helper Icons (Text-based for maximum compatibility with encoding)\r\nconst IconCpu = () => <span style={{ marginRight: 8 }}>[CPU]</span>;\r\nconst IconGpu = () => <span style={{ marginRight: 8 }}>[GPU]</span>;\r\nconst IconRam = () => <span style={{ marginRight: 8 }}>[RAM]</span>;\r\nconst IconNet = () => <span style={{ marginRight: 8 }}>[NET]</span>;\r\nconst IconHdd = () => <span style={{ marginRight: 8 }}>[HDD]</span>;\r\n\r\nexport default function Status() {\r\n    const [info, setInfo] = useState(null);\r\n    const [hwInfo, setHwInfo] = useState(null);\r\n    const [loadingHw, setLoadingHw] = useState(true);\r\n\r\n    const load = async () => {\r\n        try {\r\n            const res = await API.get(\"status\");\r\n            setInfo(res.data);\r\n            setLoadingHw(false);\r\n        } catch (err) {\r\n            console.error(\"Status fetch error\", err);\r\n        }\r\n    };\r\n\r\n    const scanHardware = async () => {\r\n        setLoadingHw(true);\r\n        try {\r\n            const hwRes = await API.get(\"status/hardware\");\r\n            setHwInfo(hwRes.data);\r\n        } catch (err) {\r\n            console.error(\"Hardware scan error\", err);\r\n        }\r\n        setLoadingHw(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        load();\r\n        const interval = setInterval(() => {\r\n            API.get(\"status\").then(res => setInfo(res.data)).catch(() => { });\r\n        }, 5000); // 5s interval is better responsiveness than 10s\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    if (!info) return (\r\n        <div style={{ padding: 40, textAlign: \"center\", color: \"#888\" }}>\r\n            <div className=\"skeleton\" style={{ width: 200, height: 20, background: \"#444\", borderRadius: 4, animation: \"pulse 1.5s infinite\" }} />\r\n        </div>\r\n    );\r\n\r\n    // Derived Stats (with defensive checks)\r\n    const ram = info.ram || { total: 0, free: 0 };\r\n    const ramUsed = ram.total - ram.free;\r\n    const ramTotalGB = (ram.total / 1024 / 1024 / 1024).toFixed(1);\r\n    const ramUsedGB = (ramUsed / 1024 / 1024 / 1024).toFixed(1);\r\n    const ramPct = ram.total > 0 ? Math.round((ramUsed / ram.total) * 100) : 0;\r\n\r\n    const cpuVal = (info.cpu && Array.isArray(info.cpu)) ? (info.cpu[0] || 0) : 0;\r\n    const gpuVal = hwInfo?.gpuLoad || 0;\r\n    const diskPct = info.disk?.usedPercent || 0;\r\n\r\n    return (\r\n        <div style={{ padding: \"20px 30px\", background: \"#121212\", minHeight: \"100%\", color: \"#e0e0e0\", fontFamily: \"'Segoe UI', 'Roboto', sans-serif\" }}>\r\n\r\n            {/* Header Area */}\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 25, borderBottom: \"1px solid #333\", paddingBottom: 15 }}>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 15 }}>\r\n                    <div style={{ fontSize: 24, padding: \"5px 10px\", background: \"#333\", borderRadius: 4 }}>SYS</div>\r\n                    <div>\r\n                        <h1 style={{ margin: 0, fontSize: 22, color: \"#fff\", fontWeight: 600, letterSpacing: 0.5 }}>SYSTEM STATUS</h1>\r\n                        <div style={{ fontSize: 13, color: \"#666\", display: \"flex\", gap: 15, marginTop: 4 }}>\r\n                            <span><b>v2.1 PRO</b> Display</span>\r\n                            <span></span>\r\n                            <span>Uptime: <b style={{ color: \"#4caf50\" }}>{Math.floor(info.uptime / 3600)}h {Math.floor((info.uptime % 3600) / 60)}m</b></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <ActionButton\r\n                        color=\"#f44336\"\r\n                        label=\"Restart Services\"\r\n                        onClick={async () => {\r\n                            if (window.confirm(\"ATENTIE: Serviciile de inregistrare si live view se vor opri temporar. Continuati?\")) {\r\n                                await API.post(\"status/restart-service\");\r\n                            }\r\n                        }}\r\n                    />\r\n                    <ActionButton\r\n                        color=\"#2196f3\"\r\n                        label=\"Quick Diagnose\"\r\n                        onClick={async () => {\r\n                            await API.post(\"status/fix-deps\");\r\n                            alert(\"Diagnosticare pornita in background.\");\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* KPI Row - High Level Metrics */}\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\", gap: 20, marginBottom: 25 }}>\r\n                <KPICard\r\n                    title=\"CPU LOAD (1m)\"\r\n                    value={cpuVal}\r\n                    unit=\"%\"\r\n                    pct={cpuVal}\r\n                    color={cpuVal > 80 ? \"#f44336\" : (cpuVal > 50 ? \"#ff9800\" : \"#4caf50\")}\r\n                    icon={<IconCpu />}\r\n                    sub={`Model: ${hwInfo?.cpu ? hwInfo.cpu.split('@')[0].trim() : \"...\"}`}\r\n                />\r\n                <KPICard\r\n                    title=\"GPU DECODE\"\r\n                    value={gpuVal}\r\n                    unit=\"%\"\r\n                    pct={gpuVal}\r\n                    color={gpuVal > 80 ? \"#f44336\" : \"#e91e63\"}\r\n                    icon={<IconGpu />}\r\n                    sub={hwInfo?.gpu || \"Integrated\"}\r\n                />\r\n                <KPICard\r\n                    title=\"MEMORY RAM\"\r\n                    value={ramPct}\r\n                    unit=\"%\"\r\n                    pct={ramPct}\r\n                    color=\"#2196f3\"\r\n                    icon={<IconRam />}\r\n                    sub={`${ramUsedGB} / ${ramTotalGB} GB Active`}\r\n                />\r\n                <KPICard\r\n                    title=\"STORAGE (ROOT)\"\r\n                    value={diskPct}\r\n                    unit=\"%\"\r\n                    pct={diskPct}\r\n                    color={diskPct > 90 ? \"#f44336\" : \"#9c27b0\"}\r\n                    icon={<IconHdd />}\r\n                    sub={`Free: ${info.disk?.avail || \"?\"}`}\r\n                />\r\n            </div>\r\n\r\n            {/* Main Dashboard Grid */}\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"2fr 1.5fr\", gap: 20 }}>\r\n\r\n                {/* Left Column: Detailed Hardware & OS */}\r\n                <div style={{ display: \"flex\", flexDirection: \"column\", gap: 20 }}>\r\n                    <SectionCard title=\"HARDWARE COMPOSITION\">\r\n                        {!hwInfo && !loadingHw ? (\r\n                            <div style={{ padding: 20, textAlign: \"center\" }}>\r\n                                <div style={{ color: \"#666\", marginBottom: 15, fontSize: 13 }}>Hardware details are collected on demand to save resources.</div>\r\n                                <button\r\n                                    onClick={scanHardware}\r\n                                    style={{\r\n                                        padding: \"8px 20px\", background: \"#2196f3\", color: \"white\",\r\n                                        border: \"none\", borderRadius: 4, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    Scan System Hardware\r\n                                </button>\r\n                            </div>\r\n                        ) : loadingHw ? (\r\n                            <div style={{ padding: 20, color: \"#666\", textAlign: \"center\" }}>\r\n                                <div className=\"spinner\" style={{ marginBottom: 10 }}>[WAIT]</div>\r\n                                Scanning hardware layer...\r\n                            </div>\r\n                        ) : (\r\n                            <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 14 }}>\r\n                                <tbody>\r\n                                    <TableRow label=\"Motherboard\" value={hwInfo?.motherboard} />\r\n                                    <TableRow label=\"Processor SKU\" value={hwInfo?.cpu} highlight />\r\n                                    <TableRow label=\"Graphics Unit\" value={hwInfo?.gpu || \"N/A\"} />\r\n                                    <TableRow label=\"Total Memory\" value={hwInfo?.ram} />\r\n                                    <TableRow label=\"Kernel Version\" value={hwInfo?.kernel} />\r\n                                    <TableRow label=\"OS Distro\" value={hwInfo?.os} />\r\n                                </tbody>\r\n                            </table>\r\n                        )}\r\n                    </SectionCard>\r\n\r\n                    <SectionCard title=\"MODULE HEALTH\">\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 15 }}>\r\n                            {info.modules && Object.entries(info.modules).map(([name, installed]) => (\r\n                                <div key={name} style={{\r\n                                    display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\",\r\n                                    padding: \"12px 15px\", background: \"#1e1e1e\", borderRadius: 6,\r\n                                    borderLeft: `4px solid ${installed ? \"#4caf50\" : \"#f44336\"}`\r\n                                }}>\r\n                                    <span style={{ fontWeight: 500, textTransform: \"capitalize\", fontSize: 14 }}>{name.replace(\"-\", \" \")}</span>\r\n                                    <span style={{\r\n                                        fontSize: 11, fontWeight: \"bold\",\r\n                                        padding: \"2px 8px\", borderRadius: 10,\r\n                                        background: installed ? \"rgba(76, 175, 80, 0.1)\" : \"rgba(244, 67, 54, 0.1)\",\r\n                                        color: installed ? \"#4caf50\" : \"#f44336\"\r\n                                    }}>\r\n                                        {installed ? \"RUNNING\" : \"STOPPED\"}\r\n                                    </span>\r\n                                </div>\r\n                            ))}\r\n                            <div style={{\r\n                                display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\",\r\n                                padding: \"12px 15px\", background: \"#1e1e1e\", borderRadius: 6,\r\n                                borderLeft: `4px solid ${info.storageMap ? \"#4caf50\" : \"#ffa726\"}`\r\n                            }}>\r\n                                <span style={{ fontWeight: 500, fontSize: 14 }}>Retention Engine</span>\r\n                                <span style={{ color: info.storageMap ? \"#4caf50\" : \"#ffa726\", fontSize: 11, fontWeight: \"bold\" }}>\r\n                                    {info.storageMap ? \"ACTIVE\" : \"NO MAP\"}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </SectionCard>\r\n                </div>\r\n\r\n                {/* Right Column: Network & Logs */}\r\n                <div style={{ display: \"flex\", flexDirection: \"column\", gap: 20 }}>\r\n                    <SectionCard title=\"NETWORK INTERFACES\">\r\n                        {hwInfo?.network?.length > 0 ? (\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\r\n                                {hwInfo.network.map((net, i) => (\r\n                                    <div key={i} style={{ background: \"#1a1a1a\", padding: 15, borderRadius: 6, border: \"1px solid #2a2a2a\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                                        <div>\r\n                                            <div style={{ fontSize: 15, fontWeight: \"bold\", color: \"#fff\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                                                <IconNet /> {net.name}\r\n                                            </div>\r\n                                            <div style={{ fontSize: 12, color: \"#888\", marginTop: 4 }}>{net.brand}</div>\r\n                                        </div>\r\n                                        <div style={{ textAlign: \"right\" }}>\r\n                                            <div style={{ fontFamily: \"monospace\", color: \"#81d4fa\", fontSize: 13, background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>\r\n                                                {net.mac}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                <div style={{ fontSize: 12, color: \"#666\", marginTop: 5, paddingLeft: 5 }}>\r\n                                    DNS: {hwInfo?.dns.join(\", \") || \"Auto\"}\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div style={{ padding: 20, color: \"#666\" }}>Scanning network adapters...</div>\r\n                        )}\r\n                    </SectionCard>\r\n\r\n                    <div style={{ marginTop: 10 }}>\r\n                        <h4 style={{ fontSize: 12, textTransform: \"uppercase\", color: \"#666\", marginBottom: 10 }}>System Logs</h4>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 10 }}>\r\n                            <LogButton label=\"Recorder.log\" href={`${API.defaults.baseURL}/status/recorder-logs`} />\r\n                            <LogButton label=\"CameraMgr.log\" href={`${API.defaults.baseURL}/status/camera-logs`} />\r\n                            <LogButton label=\"AI_Engine.log\" href={`${API.defaults.baseURL}/status/ai-logs`} />\r\n                            <LogButton label=\"Journalctl -u\" href={`${API.defaults.baseURL}/status/journal`} warning />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Sub-components for Cleaner Layout\r\n\r\nconst ActionButton = ({ label, onClick, color }) => (\r\n    <button onClick={onClick} style={{\r\n        background: \"transparent\", border: `1px solid ${color}`, color: color,\r\n        padding: \"6px 14px\", borderRadius: 4, cursor: \"pointer\", fontSize: 12, fontWeight: 600,\r\n        transition: \"all 0.2s\",\r\n        textTransform: \"uppercase\"\r\n    }} onMouseEnter={e => e.target.style.background = `rgba(${parseInt(color.slice(1, 3), 16)},0,0,0.1)`} onMouseLeave={e => e.target.style.background = \"transparent\"}>\r\n        {label}\r\n    </button>\r\n);\r\n\r\nconst KPICard = React.memo(({ title, value, unit, pct, color, icon, sub }) => (\r\n    <div style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, borderTop: `3px solid ${color}`, boxShadow: \"0 4px 10px rgba(0,0,0,0.2)\" }}>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 10 }}>\r\n            <div style={{ fontSize: 11, fontWeight: 700, color: \"#888\", letterSpacing: 1 }}>{title}</div>\r\n            <div style={{ color: color, fontSize: 18 }}>{icon}</div>\r\n        </div>\r\n        <div style={{ fontSize: 32, fontWeight: \"bold\", color: \"#fff\", lineHeight: 1 }}>\r\n            {value}<span style={{ fontSize: 16, color: \"#666\", marginLeft: 4 }}>{unit}</span>\r\n        </div>\r\n\r\n        <div style={{ width: \"100%\", background: \"#333\", height: 4, borderRadius: 2, marginTop: 15, marginBottom: 8 }}>\r\n            <div style={{ height: \"100%\", width: `${Math.min(pct, 100)}%`, background: color, borderRadius: 2 }} />\r\n        </div>\r\n\r\n        <div style={{ fontSize: 11, color: \"#666\", whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" }}>\r\n            {sub}\r\n        </div>\r\n    </div>\r\n));\r\n\r\n\r\nconst SectionCard = React.memo(({ title, children }) => (\r\n    <div style={{ background: \"#1e1e1e\", borderRadius: 8, border: \"1px solid #2a2a2a\", overflow: \"hidden\" }}>\r\n        <div style={{ padding: \"12px 20px\", background: \"#252526\", borderBottom: \"1px solid #2a2a2a\", fontSize: 12, fontWeight: 700, color: \"#aaa\", letterSpacing: 1 }}>\r\n            {title}\r\n        </div>\r\n        <div style={{ padding: 20 }}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n));\r\n\r\nconst TableRow = React.memo(({ label, value, highlight }) => (\r\n    <tr style={{ borderBottom: \"1px solid #2a2a2a\" }}>\r\n        <td style={{ padding: \"10px 0\", color: \"#888\", fontSize: 13 }}>{label}</td>\r\n        <td style={{ padding: \"10px 0\", textAlign: \"right\", color: highlight ? \"#fff\" : \"#ccc\", fontWeight: highlight ? 600 : 400 }}>\r\n            {value || <span style={{ opacity: 0.3 }}>-</span>}\r\n        </td>\r\n    </tr>\r\n));\r\n\r\nconst LogButton = ({ label, href, warning }) => (\r\n    <a href={href} target=\"_blank\" rel=\"noreferrer\" style={{\r\n        display: \"block\", textAlign: \"center\", padding: \"10px\",\r\n        background: warning ? \"rgba(244, 67, 54, 0.1)\" : \"#222\",\r\n        color: warning ? \"#f44336\" : \"#aaa\",\r\n        textDecoration: \"none\", fontSize: 12, borderRadius: 4,\r\n        border: `1px solid ${warning ? \"rgba(244, 67, 54, 0.3)\" : \"#333\"}`\r\n    }}>\r\n        {label}\r\n    </a>\r\n);\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { API } from '../api';\r\n// We assume Hls is available via window.Hls or installed. \r\n// Since we don't have package.json control easily, we'll try to use window.Hls if loaded from CDN, \r\n// or import it if the environment supports it. The previous code used a CDN script injection fallback.\r\n// Let's stick to the previous robust pattern but simpler.\r\n\r\nexport default function RecorderPlayer({ camId, streamType, style }) {\r\n    const videoRef = useRef(null);\r\n    const hlsRef = useRef(null);\r\n    const [hlsUrl, setHlsUrl] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // 1. Fetch HLS URL\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        const mode = streamType === 'hd' ? 'main' : 'sub';\r\n\r\n        API.get(`/recorder/live-url/${camId}/${mode}`)\r\n            .then(res => {\r\n                // Determine full URL\r\n                let url = res.data.url;\r\n                if (url.startsWith(\"/\")) url = API.defaults.baseURL + url;\r\n                setHlsUrl(url);\r\n            })\r\n            .catch(e => {\r\n                setError(\"Nu exist flux live.\");\r\n                setLoading(false);\r\n            });\r\n    }, [camId, streamType]);\r\n\r\n    // 2. Init Player\r\n    useEffect(() => {\r\n        if (!hlsUrl) return;\r\n\r\n        const video = videoRef.current;\r\n\r\n        const initHls = () => {\r\n            if (window.Hls && window.Hls.isSupported()) {\r\n                if (hlsRef.current) hlsRef.current.destroy();\r\n\r\n                const hls = new window.Hls({\r\n                    enableWorker: true,\r\n                    lowLatencyMode: true,\r\n                    backBufferLength: 90\r\n                });\r\n\r\n                hls.loadSource(hlsUrl);\r\n                hls.attachMedia(video);\r\n\r\n                hls.on(window.Hls.Events.MANIFEST_PARSED, () => {\r\n                    video.play().catch(e => console.warn(\"Autoplay block\", e));\r\n                    setLoading(false);\r\n                });\r\n\r\n                hls.on(window.Hls.Events.ERROR, (event, data) => {\r\n                    if (data.fatal) {\r\n                        switch (data.type) {\r\n                            case window.Hls.ErrorTypes.NETWORK_ERROR:\r\n                                hls.startLoad();\r\n                                break;\r\n                            case window.Hls.ErrorTypes.MEDIA_ERROR:\r\n                                hls.recoverMediaError();\r\n                                break;\r\n                            default:\r\n                                hls.destroy();\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                hlsRef.current = hls;\r\n            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\r\n                // iOS / Safari\r\n                video.src = hlsUrl;\r\n                video.addEventListener('loadedmetadata', () => {\r\n                    video.play();\r\n                    setLoading(false);\r\n                });\r\n            }\r\n        };\r\n\r\n        // Load Lib if missing\r\n        if (!window.Hls && typeof Hls === 'undefined') {\r\n            const script = document.createElement('script');\r\n            script.src = \"https://cdn.jsdelivr.net/npm/hls.js@1.4.0/dist/hls.min.js\";\r\n            script.onload = initHls;\r\n            document.head.appendChild(script);\r\n        } else {\r\n            initHls();\r\n        }\r\n\r\n        return () => {\r\n            if (hlsRef.current) hlsRef.current.destroy();\r\n        };\r\n    }, [hlsUrl]);\r\n\r\n    return (\r\n        <div style={{ ...style, position: 'relative', background: '#000', overflow: 'hidden' }}>\r\n            <video\r\n                ref={videoRef}\r\n                style={{ width: '100%', height: '100%', objectFit: 'contain' }}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n            />\r\n            {(loading || !hlsUrl) && !error && (\r\n                <div style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#fff', background: 'rgba(0,0,0,0.5)' }}>\r\n                    <div className=\"spinner\">Live Buffer...</div>\r\n                </div>\r\n            )}\r\n            {error && (\r\n                <div style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#ff5555' }}>\r\n                    {error}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst DAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\r\n\r\nconst ScheduleEditor = ({ schedules, onSave }) => {\r\n    // Initialize state by converting input array to object map keyed by ID\r\n    // Also converts legacy 'slots' to 'matrix' (48 slots)\r\n    const [localSchedules, setLocalSchedules] = useState({});\r\n    const [selectedId, setSelectedId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const init = {};\r\n        const inputList = Array.isArray(schedules) ? schedules : Object.values(schedules || {});\r\n\r\n        inputList.forEach(s => {\r\n            const id = s.id || \"sch_\" + Math.random().toString(36).substr(2, 9);\r\n\r\n            // Ensure matrix exists (48 slots per day)\r\n            let matrix = s.matrix;\r\n\r\n            // Migration: Slots to Matrix\r\n            if (!matrix && s.slots) {\r\n                matrix = {};\r\n                for (let d = 0; d < 7; d++) {\r\n                    matrix[d] = Array(48).fill(0);\r\n                    if (s.slots[d]) {\r\n                        s.slots[d].forEach(h => {\r\n                            if (h >= 0 && h < 24) {\r\n                                matrix[d][h * 2] = 1;\r\n                                matrix[d][h * 2 + 1] = 1;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Default empty matrix\r\n            if (!matrix) {\r\n                matrix = {};\r\n                for (let d = 0; d < 7; d++) matrix[d] = Array(48).fill(0);\r\n            } else {\r\n                // Ensure all days exist\r\n                for (let d = 0; d < 7; d++) {\r\n                    if (!matrix[d]) matrix[d] = Array(48).fill(0);\r\n                }\r\n            }\r\n\r\n            init[id] = { ...s, id, matrix, slots: undefined }; // Use matrix primarily\r\n        });\r\n\r\n        // If no schedules, create default\r\n        if (Object.keys(init).length === 0) {\r\n            const newId = \"sch_\" + Date.now();\r\n            const mat = {};\r\n            for (let d = 0; d < 7; d++) mat[d] = Array(48).fill(0);\r\n            init[newId] = { id: newId, name: \"Default Schedule\", matrix: mat, enabled: true };\r\n        }\r\n\r\n        setLocalSchedules(init);\r\n        setSelectedId(Object.keys(init)[0]);\r\n    }, [schedules]);\r\n\r\n    const currentSchedule = localSchedules[selectedId];\r\n\r\n    const handleCreate = () => {\r\n        const newId = \"sch_\" + Date.now();\r\n        const mat = {};\r\n        for (let d = 0; d < 7; d++) mat[d] = Array(48).fill(0);\r\n        const newSch = { id: newId, name: \"New Schedule\", matrix: mat, enabled: true };\r\n        setLocalSchedules({ ...localSchedules, [newId]: newSch });\r\n        setSelectedId(newId);\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        if (!window.confirm(\"Delete schedule?\")) return;\r\n        const newS = { ...localSchedules };\r\n        delete newS[selectedId];\r\n        // If empty, create one? Or allow empty.\r\n        setLocalSchedules(newS);\r\n        setSelectedId(Object.keys(newS)[0] || null);\r\n    };\r\n\r\n    const handleSaveAll = () => {\r\n        // Convert map back to array\r\n        const arr = Object.values(localSchedules);\r\n        onSave(arr);\r\n    };\r\n\r\n    const toggleSlot = (dayIndex, slotIndex) => {\r\n        if (!currentSchedule) return;\r\n        const d = dayIndex.toString();\r\n        const currentArr = [...(currentSchedule.matrix[d] || Array(48).fill(0))];\r\n\r\n        currentArr[slotIndex] = currentArr[slotIndex] ? 0 : 1;\r\n\r\n        setLocalSchedules({\r\n            ...localSchedules,\r\n            [selectedId]: {\r\n                ...currentSchedule,\r\n                matrix: { ...currentSchedule.matrix, [d]: currentArr }\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleNameChange = (e) => {\r\n        setLocalSchedules({\r\n            ...localSchedules,\r\n            [selectedId]: { ...currentSchedule, name: e.target.value }\r\n        });\r\n    };\r\n\r\n    // Quick Fill Actions (Full Day)\r\n    const fillDay = (dayIndex, val) => {\r\n        if (!currentSchedule) return;\r\n        const d = dayIndex.toString();\r\n        const arr = Array(48).fill(val ? 1 : 0);\r\n        setLocalSchedules(prev => ({\r\n            ...prev,\r\n            [selectedId]: {\r\n                ...prev[selectedId],\r\n                matrix: { ...prev[selectedId].matrix, [d]: arr }\r\n            }\r\n        }));\r\n    };\r\n\r\n    if (!currentSchedule && Object.keys(localSchedules).length > 0) {\r\n        setSelectedId(Object.keys(localSchedules)[0]);\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\", height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 20 }}>\r\n                <h2>Schedule Editor (30 min intervals)</h2>\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <button onClick={handleDelete} style={{ background: \"#d32f2f\", color: \"white\", border: \"none\", padding: \"5px 15px\", cursor: \"pointer\" }}>Delete</button>\r\n                    <button onClick={handleSaveAll} style={{ background: \"#007acc\", color: \"white\", border: \"none\", padding: \"5px 20px\", fontWeight: \"bold\", cursor: \"pointer\" }}>SAVE ALL Schedules</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", gap: 20, flex: 1, overflow: \"hidden\" }}>\r\n                {/* LIST */}\r\n                <div style={{ width: 200, background: \"#252526\", border: \"1px solid #444\", display: \"flex\", flexDirection: \"column\" }}>\r\n                    <div style={{ padding: 10, borderBottom: \"1px solid #444\", fontWeight: \"bold\", background: \"#333\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        Schedules\r\n                        <button onClick={handleCreate} style={{ fontSize: 16, cursor: \"pointer\", background: \"none\", border: \"none\", color: \"#4caf50\" }}>+</button>\r\n                    </div>\r\n                    <div style={{ flex: 1, overflowY: \"auto\" }}>\r\n                        {Object.values(localSchedules).map((s) => (\r\n                            <div\r\n                                key={s.id}\r\n                                onClick={() => setSelectedId(s.id)}\r\n                                style={{ padding: 10, cursor: \"pointer\", background: s.id === selectedId ? \"#007acc\" : \"transparent\", borderBottom: \"1px solid #333\" }}\r\n                            >\r\n                                {s.name}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* EDITOR */}\r\n                {currentSchedule && (\r\n                    <div style={{ flex: 1, background: \"#252526\", border: \"1px solid #444\", padding: 20, overflowY: \"auto\" }}>\r\n                        <div style={{ marginBottom: 20 }}>\r\n                            <label>Schedule Name: </label>\r\n                            <input value={currentSchedule.name} onChange={handleNameChange} style={{ background: \"#111\", border: \"1px solid #444\", color: \"#fff\", padding: 5, width: 300, marginLeft: 10 }} />\r\n                        </div>\r\n\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 1fr\", gap: 10 }}>\r\n                            {/* Header */}\r\n                            <div></div>\r\n                            <div style={{ display: \"flex\" }}>\r\n                                {Array.from({ length: 24 }, (_, i) => (\r\n                                    <div key={i} style={{ flex: 1, fontSize: 10, textAlign: \"center\", color: \"#888\", borderLeft: i > 0 ? \"1px solid #333\" : \"none\" }}>{i}</div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {DAYS.map((day, dIdx) => (\r\n                                <React.Fragment key={day}>\r\n                                    <div style={{ textAlign: \"right\", paddingRight: 10, fontSize: 13, paddingTop: 5 }}>\r\n                                        <div style={{ fontWeight: \"bold\" }}>{day}</div>\r\n                                        <div style={{ fontSize: 9, color: \"#007acc\", cursor: \"pointer\", textDecoration: \"underline\" }} onClick={() => fillDay(dIdx, true)}>All</div>\r\n                                        <div style={{ fontSize: 9, color: \"#f44336\", cursor: \"pointer\", textDecoration: \"underline\" }} onClick={() => fillDay(dIdx, false)}>None</div>\r\n                                    </div>\r\n                                    <div style={{ display: \"flex\", border: \"1px solid #444\", background: \"#111\", height: 30 }}>\r\n                                        {Array.from({ length: 24 }, (_, h) => {\r\n                                            // 2 slots per hour\r\n                                            const s1 = currentSchedule.matrix[dIdx]?.[h * 2];\r\n                                            const s2 = currentSchedule.matrix[dIdx]?.[h * 2 + 1];\r\n\r\n                                            // Handle mouse events for drag capability (simplified)\r\n                                            return (\r\n                                                <div key={h} style={{ flex: 1, display: \"flex\", borderRight: \"1px solid #333\" }}>\r\n                                                    <div\r\n                                                        style={{ flex: 1, background: s1 ? \"#4caf50\" : \"transparent\", borderRight: \"1px dotted #222\", cursor: \"pointer\" }}\r\n                                                        onMouseDown={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2)}\r\n                                                        onMouseEnter={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2)}\r\n                                                        title={`${day} ${h}:00 - ${h}:30`}\r\n                                                    />\r\n                                                    <div\r\n                                                        style={{ flex: 1, background: s2 ? \"#4caf50\" : \"transparent\", cursor: \"pointer\" }}\r\n                                                        onMouseDown={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2 + 1)}\r\n                                                        onMouseEnter={(e) => e.buttons === 1 && toggleSlot(dIdx, h * 2 + 1)}\r\n                                                        title={`${day} ${h}:30 - ${h + 1}:00`}\r\n                                                    />\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ScheduleEditor;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ArmingMatrix = ({ schedules, cams, assignments, modes, labels, onSave, onSaveModes, onSaveLabels, onToggleSchedule }) => {\r\n    const [localAssignments, setLocalAssignments] = useState(assignments || {});\r\n    const [localModes, setLocalModes] = useState(modes || {\r\n        \"ARMED_AWAY\": false,\r\n        \"ARMED_HOME\": false,\r\n        \"ARMED_NIGHT\": false,\r\n        \"DISARMED\": true\r\n    });\r\n    const [localLabels, setLocalLabels] = useState(labels || {\r\n        \"ARMED_AWAY\": \"Away\",\r\n        \"ARMED_HOME\": \"Home\",\r\n        \"ARMED_NIGHT\": \"Night\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        setLocalAssignments(assignments || {});\r\n    }, [assignments]);\r\n\r\n    // Handle Assignment Change with AUTO-SAVE\r\n    const handleAssign = (camId, value) => {\r\n        const updated = { ...localAssignments, [camId]: value };\r\n        setLocalAssignments(updated);\r\n        onSave(updated); // Trigger immediate save\r\n    };\r\n\r\n    // Toggle Mode with AUTO-SAVE\r\n    const toggleMode = (key) => {\r\n        const updated = { ...localModes, [key]: !localModes[key] };\r\n        setLocalModes(updated);\r\n        onSaveModes(updated); // Trigger immediate save\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\", height: \"100%\", overflowY: \"auto\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 20 }}>\r\n                <h2 style={{ margin: 0 }}>Arming Configuration</h2>\r\n                <div style={{ fontSize: 12, color: \"#4caf50\", fontStyle: \"italic\" }}>\r\n                    Changes are saved automatically.\r\n                </div>\r\n            </div>\r\n\r\n            {/* MODES & LABELS */}\r\n            <div style={{ background: \"#252526\", padding: 15, marginBottom: 20, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>System Modes</h3>\r\n                <p style={{ fontSize: 13, color: \"#888\" }}>Define which global modes are currently ACTIVE. Cameras assigned to a mode will only arm if that mode is active.</p>\r\n\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\", gap: 15 }}>\r\n                    {[\"ARMED_AWAY\", \"ARMED_HOME\", \"ARMED_NIGHT\"].map(key => (\r\n                        <div key={key} style={{ background: \"#1e1e1e\", padding: 10, borderLeft: localModes[key] ? \"4px solid #4caf50\" : \"4px solid #f44336\" }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 5 }}>\r\n                                <input\r\n                                    value={localLabels[key] || key}\r\n                                    onChange={(e) => setLocalLabels({ ...localLabels, [key]: e.target.value })}\r\n                                    style={{ background: \"transparent\", border: \"none\", color: \"#fff\", fontWeight: \"bold\", borderBottom: \"1px solid #444\" }}\r\n                                />\r\n                                <div\r\n                                    onClick={() => toggleMode(key)}\r\n                                    style={{\r\n                                        cursor: \"pointer\",\r\n                                        padding: \"2px 8px\",\r\n                                        borderRadius: 4,\r\n                                        background: localModes[key] ? \"rgba(76, 175, 80, 0.2)\" : \"rgba(244, 67, 54, 0.2)\",\r\n                                        color: localModes[key] ? \"#4caf50\" : \"#f44336\",\r\n                                        fontSize: 11, fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    {localModes[key] ? \"ACTIVE\" : \"INACTIVE\"}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/* DEFINED SCHEDULES */}\r\n            <div style={{ background: \"#252526\", padding: 15, marginBottom: 20, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>Active Schedules</h3>\r\n                <p style={{ fontSize: 13, color: \"#888\" }}>Time-based automation schedules. Assign cameras below.</p>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\", gap: 15 }}>\r\n                    {(() => {\r\n                        const scheds = Array.isArray(schedules)\r\n                            ? schedules.map((s, i) => ({ id: i.toString(), ...s }))\r\n                            : Object.entries(schedules || {}).map(([k, v]) => ({ id: k, ...v }));\r\n\r\n                        if (scheds.length === 0) return <div style={{ color: \"#777\" }}>No schedules defined.</div>;\r\n\r\n                        return scheds.map((sch, realIdx) => (\r\n                            <div key={sch.id} style={{ background: \"#1e1e1e\", padding: 10, borderLeft: sch.enabled !== false ? \"4px solid #4caf50\" : \"4px solid #f44336\" }}>\r\n                                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 5 }}>\r\n                                    <div style={{ fontWeight: \"bold\", color: \"#fff\" }}>{sch.name || \"Untitled Schedule\"}</div>\r\n                                    <div\r\n                                        onClick={() => onToggleSchedule && onToggleSchedule(realIdx, sch.enabled !== false)}\r\n                                        style={{ cursor: \"pointer\", fontSize: 11, background: sch.enabled !== false ? \"rgba(76, 175, 80, 0.2)\" : \"rgba(244, 67, 54, 0.2)\", color: sch.enabled !== false ? \"#4caf50\" : \"#f44336\", padding: \"2px 6px\", borderRadius: 4, display: \"flex\", alignItems: \"center\" }}\r\n                                    >\r\n                                        {sch.enabled !== false ? \"ACTIVE\" : \"DISABLED\"}\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ fontSize: 11, color: \"#aaa\" }}>\r\n                                    {(sch.days || []).join(\", \") || \"Every Day\"} <br />\r\n                                    {(sch.intervals || []).map(i => `${i.start}-${i.end}`).join(\", \") || \"24/7\"}\r\n                                </div>\r\n                            </div>\r\n                        ));\r\n                    })()}\r\n                </div>\r\n            </div>\r\n\r\n            {/* ASSIGNMENT MATRIX */}\r\n            <div style={{ background: \"#252526\", padding: 15, border: \"1px solid #444\" }}>\r\n                <h3 style={{ marginTop: 0 }}>Camera Assignments</h3>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 13 }}>\r\n                    <thead>\r\n                        <tr style={{ background: \"#333\" }}>\r\n                            <th style={{ padding: 10, textAlign: \"left\" }}>Camera</th>\r\n                            <th style={{ padding: 10, textAlign: \"left\" }}>Arming Strategy</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.map(cam => (\r\n                            <tr key={cam.id} style={{ borderBottom: \"1px solid #333\" }}>\r\n                                <td style={{ padding: 10 }}>\r\n                                    <div style={{ fontWeight: \"bold\" }}>{cam.name || cam.ip}</div>\r\n                                    <div style={{ fontSize: 11, color: \"#777\" }}>{cam.ip}</div>\r\n                                </td>\r\n                                <td style={{ padding: 10 }}>\r\n                                    <select\r\n                                        value={localAssignments[cam.id] || \"DISARMED\"}\r\n                                        onChange={(e) => handleAssign(cam.id, e.target.value)}\r\n                                        style={{ background: \"#1e1e1e\", color: \"#fff\", border: \"1px solid #555\", padding: 6, width: \"100%\", maxWidth: 300 }}\r\n                                    >\r\n                                        <option value=\"DISARMED\"> Disarmed (Never)</option>\r\n                                        <optgroup label=\"Follow Global Mode\">\r\n                                            {[\"ARMED_AWAY\", \"ARMED_HOME\", \"ARMED_NIGHT\"].map(m => (\r\n                                                <option key={m} value={m}>Follow '{localLabels[m] || m}'</option>\r\n                                            ))}\r\n                                        </optgroup>\r\n                                        <optgroup label=\"Schedules\">\r\n                                            {Object.entries(schedules).map(([id, sch]) => (\r\n                                                <option key={id} value={id}> {sch.name}</option>\r\n                                            ))}\r\n                                        </optgroup>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default ArmingMatrix;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { manufacturers as DB_MANUFACTURERS } from \"../data/cameraDB\";\r\nimport { Trash } from \"../components/Icons\"; // Assuming standard icon exist or I use text\r\n\r\nconst theme = {\r\n    bg: \"#121212\",\r\n    panel: \"#1e1e1e\",\r\n    border: \"#333\",\r\n    accent: \"#2196f3\",\r\n    success: \"#4caf50\",\r\n    error: \"#f44336\",\r\n    text: \"#e0e0e0\",\r\n    textDim: \"#aaa\"\r\n};\r\n\r\nexport default function CameraWizard({ onFinish, onUpdate, onOpenSetup }) {\r\n    const [scannedDevices, setScannedDevices] = useState([]);\r\n    const [scanning, setScanning] = useState(false);\r\n    const [savedCameras, setSavedCameras] = useState([]);\r\n\r\n    useEffect(() => { loadSaved(); }, []);\r\n\r\n    const loadSaved = () => {\r\n        API.get(\"cameras/config\").then(res => setSavedCameras(res.data)).catch(console.error);\r\n    };\r\n\r\n    const startScan = async () => {\r\n        setScanning(true);\r\n        setScannedDevices([]);\r\n        try {\r\n            const res = await API.post(\"discovery/scan\", {}, { timeout: 60000 });\r\n            if (Array.isArray(res.data)) setScannedDevices(res.data);\r\n        } catch (e) {\r\n            console.error(e);\r\n        } finally {\r\n            setScanning(false);\r\n        }\r\n    };\r\n\r\n    const handleSelectDevice = (dev) => {\r\n        if (onOpenSetup) {\r\n            onOpenSetup({\r\n                ip: dev.ip,\r\n                user: \"admin\",\r\n                pass: \"\",\r\n                manufacturer: dev.manufacturer || \"Auto-Detect\"\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleManualAdd = () => {\r\n        if (onOpenSetup) {\r\n            onOpenSetup({\r\n                ip: \"\",\r\n                user: \"admin\",\r\n                pass: \"\",\r\n                manufacturer: \"\"\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id, e) => {\r\n        e.stopPropagation();\r\n        if (!window.confirm(\"Are you sure you want to delete this camera?\")) return;\r\n\r\n        try {\r\n            await API.delete(`cameras/${id}`);\r\n            loadSaved();\r\n            if (onUpdate) onUpdate();\r\n        } catch (e) {\r\n            alert(\"Delete failed: \" + (e.response?.data?.error || e.message));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", height: \"100%\", background: theme.bg, color: theme.text, fontFamily: \"Segoe UI, sans-serif\" }}>\r\n\r\n            {/* SIDEBAR */}\r\n            <div style={{ width: 320, borderRight: `1px solid ${theme.border}`, display: \"flex\", flexDirection: \"column\", background: \"#181818\" }}>\r\n                <div style={{ padding: 15 }}>\r\n                    <div style={{ fontSize: 14, fontWeight: \"bold\", marginBottom: 10, color: theme.accent }}>DISCOVERED DEVICES</div>\r\n                    <button onClick={startScan} disabled={scanning} style={{ width: \"100%\", padding: \"8px\", background: scanning ? \"#333\" : theme.accent, color: \"#fff\", border: \"none\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\" }}>\r\n                        {scanning ? \"SCANNING...\" : \"SCAN NETWORK\"}\r\n                    </button>\r\n                </div>\r\n                <div style={{ flex: 1, overflowY: \"auto\", padding: 10 }}>\r\n                    {scannedDevices.map((dev, i) => {\r\n                        const isAdded = savedCameras.some(c => c.ip === dev.ip);\r\n                        return (\r\n                            <div key={i} onClick={() => !isAdded && handleSelectDevice(dev)}\r\n                                style={{\r\n                                    padding: 10, marginBottom: 5, borderRadius: 4,\r\n                                    background: isAdded ? \"rgba(76, 175, 80, 0.1)\" : \"#252526\",\r\n                                    border: `1px solid ${isAdded ? theme.success : \"#333\"}`,\r\n                                    cursor: isAdded ? \"default\" : \"pointer\", opacity: isAdded ? 0.6 : 1\r\n                                }}\r\n                            >\r\n                                <div style={{ fontWeight: \"bold\" }}>{dev.ip}</div>\r\n                                <div style={{ fontSize: 11, color: theme.textDim }}>{dev.manufacturer} {dev.model}</div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* MAIN FORM */}\r\n            <div style={{ flex: 1, display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\", background: \"#121212\" }}>\r\n                <div style={{ width: \"100%\", maxWidth: 500, background: theme.panel, padding: 40, borderRadius: 8, border: `1px solid ${theme.border}`, boxShadow: \"0 10px 30px rgba(0,0,0,0.5)\", textAlign: \"center\" }}>\r\n                    <h2 style={{ margin: \"0 0 20px 0\", color: \"#fff\" }}>ADD CAMERA</h2>\r\n                    <p style={{ color: \"#aaa\", marginBottom: 30 }}>\r\n                        Select a discovered device from the list on the left<br />\r\n                        or manually configure a new connection.\r\n                    </p>\r\n\r\n                    <button onClick={handleManualAdd} style={{ padding: \"15px 30px\", background: theme.accent, color: \"#fff\", border: \"none\", borderRadius: 4, fontSize: 16, fontWeight: \"bold\", cursor: \"pointer\", width: \"100%\" }}>\r\n                        MANUAL ADD (CONNECTION SETUP)\r\n                    </button>\r\n\r\n                    <div style={{ marginTop: 20, fontSize: 12, color: \"#666\" }}>\r\n                        Opens the Advanced Connection Setup Dialog\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ACTIVE CAMERAS LIST WITH DELETE */}\r\n                <div style={{ marginTop: 40, width: \"100%\", maxWidth: 800 }}>\r\n                    <h3 style={{ color: theme.textDim, fontSize: 13, textTransform: \"uppercase\", borderBottom: `1px solid ${theme.border}`, paddingBottom: 5 }}>Active Cameras ({savedCameras.length})</h3>\r\n                    <div style={{ display: \"flex\", gap: 10, overflowX: \"auto\", padding: \"10px 0\" }}>\r\n                        {savedCameras.map(c => (\r\n                            <div key={c.id} style={{\r\n                                minWidth: 160, padding: 12, background: \"#222\", border: `1px solid ${theme.border}`, borderRadius: 4, fontSize: 12, position: \"relative\"\r\n                            }}>\r\n                                <button\r\n                                    onClick={(e) => handleDelete(c.id, e)}\r\n                                    title=\"Delete Camera\"\r\n                                    style={{\r\n                                        position: \"absolute\", top: 5, right: 5, background: \"transparent\", border: \"none\", color: \"#f44336\", cursor: \"pointer\", fontWeight: \"bold\"\r\n                                    }}\r\n                                >\r\n                                    \r\n                                </button>\r\n                                <div style={{ fontWeight: \"bold\", color: \"#fff\", marginBottom: 3, paddingRight: 20 }}>{c.ip}</div>\r\n                                <div style={{ color: theme.textDim }}>{c.manufacturer}</div>\r\n                                <div style={{ marginTop: 5, display: \"flex\", alignItems: \"center\", gap: 5 }}>\r\n                                    <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: c.connected ? theme.success : theme.error }}></div>\r\n                                    <span style={{ color: c.connected ? theme.success : theme.error }}>{c.connected ? \"Online\" : \"Offline\"}</span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst labelStyle = { display: \"block\", marginBottom: 5, color: \"#aaa\", fontSize: 12, fontWeight: \"600\" };\r\nconst inputStyle = { width: \"100%\", padding: \"10px\", background: \"#252526\", border: \"1px solid #444\", color: \"#fff\", borderRadius: 4, boxSizing: \"border-box\" };\r\n","export const colors = {\r\n    bg: \"#1e1e1e\",\r\n    panel: \"#252526\",\r\n    accent: \"#007acc\",\r\n    text: \"#cccccc\",\r\n    border: \"#3e3e42\"\r\n};\r\n\r\nexport const styles = {\r\n    sectionHeader: { borderBottom: \"1px solid #444\", paddingBottom: 10, marginBottom: 15, fontSize: 16, fontWeight: \"bold\", color: \"#fff\" },\r\n    formGrid: { display: \"grid\", gridTemplateColumns: \"150px 1fr\", gap: 15, marginBottom: 10, alignItems: \"center\" },\r\n    label: { color: \"#aaa\", fontSize: 13 },\r\n    input: { background: \"#333\", border: \"1px solid #555\", color: \"#fff\", padding: 5, width: \"100%\", maxWidth: 300 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: colors.accent, color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n    table: { width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" },\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n    inputTable: { background: \"#444\", border: \"1px solid #555\", color: \"#fff\", width: \"100%\", padding: 2 },\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { colors, styles } from \"./styles\"; // Shared Styles\r\n\r\nexport function InterfaceSettings({ networkConfig, setNetworkConfig, saveNetwork }) {\r\n    const [ifaceTab, setIfaceTab] = useState(0);\r\n    const isManual = networkConfig.mode === \"manual\";\r\n    const interfaces = networkConfig.availableInterfaces || [];\r\n    const activeIface = interfaces[ifaceTab] || interfaces[0];\r\n\r\n    // Helper to sync state with selected interface\r\n    const syncToInterface = (iface, idx) => {\r\n        setIfaceTab(idx);\r\n        setNetworkConfig(prev => ({\r\n            ...prev,\r\n            interface: iface.interface,\r\n            ip: iface.ip || \"\",\r\n            netmask: iface.netmask || \"255.255.255.0\",\r\n            gateway: iface.gateway || \"\",\r\n            dns1: iface.dns1 || \"\",\r\n            dns2: iface.dns2 || \"\"\r\n        }));\r\n    };\r\n\r\n    // Auto-Select First Interface on Load if not set\r\n    useEffect(() => {\r\n        if (interfaces.length > 0 && !networkConfig.interface) {\r\n            syncToInterface(interfaces[0], 0);\r\n        }\r\n    }, [interfaces]);\r\n\r\n    const handleTabClick = (idx) => {\r\n        const sel = interfaces[idx];\r\n        syncToInterface(sel, idx);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Interface Settings (IPv4/IPv6)</h2>\r\n\r\n            <div style={{ display: \"flex\", gap: 10, marginBottom: 20 }}>\r\n                {Array.isArray(interfaces) && interfaces.map((video, idx) => (\r\n                    <button\r\n                        key={idx}\r\n                        onClick={() => handleTabClick(idx)}\r\n                        style={{\r\n                            padding: \"8px 16px\",\r\n                            background: ifaceTab === idx ? \"#ff9800\" : \"#333\",\r\n                            color: ifaceTab === idx ? \"#000\" : \"#ccc\",\r\n                            border: \"none\", cursor: \"pointer\", fontWeight: \"bold\", borderRadius: 4\r\n                        }}\r\n                    >\r\n                        {video.interface} ({video.ip || \"No IP\"})\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 700 }}>\r\n                <div style={{ marginBottom: 15, borderBottom: \"1px solid #444\", paddingBottom: 10, fontWeight: \"bold\", color: \"#ddd\", display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <span>Configuration for <span style={{ color: \"#ff9800\" }}>{activeIface?.interface}</span></span>\r\n                    <span style={{ fontSize: 12, color: '#aaa', background: '#333', padding: '2px 6px', borderRadius: 4 }}>{activeIface?.family || \"IPv4\"}</span>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 20, display: \"flex\", gap: 20 }}>\r\n                    <label style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\", color: !isManual ? \"#fff\" : \"#aaa\" }}>\r\n                        <input type=\"radio\" name=\"netmode\" checked={!isManual} onChange={() => setNetworkConfig({ ...networkConfig, mode: \"dhcp\" })} style={{ marginRight: 8 }} />\r\n                        DHCP (Automatic)\r\n                    </label>\r\n                    <label style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\", color: isManual ? \"#fff\" : \"#aaa\" }}>\r\n                        <input type=\"radio\" name=\"netmode\" checked={isManual} onChange={() => setNetworkConfig({ ...networkConfig, mode: \"manual\" })} style={{ marginRight: 8 }} />\r\n                        Manual Configuration\r\n                    </label>\r\n                </div>\r\n\r\n                <div style={{ opacity: isManual ? 1 : 0.5, pointerEvents: isManual ? \"auto\" : \"none\", transition: \"0.2s\" }}>\r\n                    <div style={styles.formGrid}><label style={styles.label}>IPv4 Address:</label><input style={styles.input} value={networkConfig.ip || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, ip: e.target.value })} placeholder=\"192.168.1.50\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>Netmask:</label><input style={styles.input} value={networkConfig.netmask || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, netmask: e.target.value })} placeholder=\"255.255.255.0\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>Gateway (Global):</label><input style={styles.input} value={networkConfig.gateway || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, gateway: e.target.value })} placeholder=\"192.168.1.1\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>DNS Server 1:</label><input style={styles.input} value={networkConfig.dns1 || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, dns1: e.target.value })} placeholder=\"8.8.8.8\" /></div>\r\n                    <div style={styles.formGrid}><label style={styles.label}>DNS Server 2:</label><input style={styles.input} value={networkConfig.dns2 || \"\"} onChange={e => setNetworkConfig({ ...networkConfig, dns2: e.target.value })} placeholder=\"8.8.4.4\" /></div>\r\n                </div>\r\n                <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <button style={styles.btnPrimary} onClick={saveNetwork}>\r\n                        Save Settings for {activeIface?.interface}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Lock } from \"../../../components/Icons\"; // Adjust path .. .. ..\r\nimport { colors, styles } from \"./styles\";\r\n\r\nexport function VPNSettings({ netConfig, setNetConfig, connectVPN, connectDualVPN, saveImportedVPN }) {\r\n    const [vpnTab, setVpnTab] = useState(\"wg0\");\r\n    const prefix = vpnTab;\r\n    const getConf = (k) => netConfig[`${prefix}_${k}`];\r\n    const setConf = (k, v) => setNetConfig({ ...netConfig, [`${prefix}_${k}`]: v });\r\n\r\n    const status = getConf(\"status\");\r\n    const isConnected = status && status.includes(\"Connected\");\r\n\r\n    const handleImportConfig = (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            try {\r\n                const bundle = JSON.parse(event.target.result);\r\n                if (!bundle.mgmt || !bundle.ai) throw new Error(\"Format fiier invalid (Pachet Dual VPN necesar)\");\r\n\r\n                const newCfg = { ...netConfig };\r\n\r\n                // Map Management (wg0)\r\n                newCfg.wg0_address = bundle.mgmt.interface.address;\r\n                newCfg.wg0_privateKey = bundle.mgmt.interface.privateKey;\r\n                newCfg.wg0_serverPubKey = bundle.mgmt.peer.publicKey;\r\n                newCfg.wg0_endpoint = bundle.mgmt.peer.endpoint;\r\n                newCfg.wg0_allowedIps = bundle.mgmt.peer.allowedIps;\r\n\r\n                // Map AI (wg1)\r\n                newCfg.wg1_address = bundle.ai.interface.address;\r\n                newCfg.wg1_privateKey = bundle.ai.interface.privateKey;\r\n                newCfg.wg1_serverPubKey = bundle.ai.peer.publicKey;\r\n                newCfg.wg1_endpoint = bundle.ai.peer.endpoint;\r\n                newCfg.wg1_allowedIps = bundle.ai.peer.allowedIps;\r\n\r\n                setNetConfig(newCfg);\r\n\r\n                // Auto-Apply if the handler is provided\r\n                if (saveImportedVPN) {\r\n                    if (window.confirm(\"Configuraie valid! Dorii s aplicai setrile pentru AMBELE tuneluri VPN acum?\")) {\r\n                        saveImportedVPN(bundle);\r\n                    }\r\n                } else {\r\n                    alert(\"Configuraie VPN importat n memorie! Apsai 'Update & Connect'.\");\r\n                }\r\n\r\n            } catch (err) {\r\n                alert(\"Eroare la citirea fiierului: \" + err.message);\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>VPN Configuration (Dual WireGuard)</h2>\r\n\r\n            <div style={{ display: \"flex\", gap: 10, marginBottom: 20 }}>\r\n                <button\r\n                    onClick={() => setVpnTab(\"wg0\")}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: vpnTab === \"wg0\" ? \"#007acc\" : \"#333\",\r\n                        color: \"#fff\", border: \"none\", cursor: \"pointer\", fontWeight: \"bold\",\r\n                        borderBottom: vpnTab === \"wg0\" ? \"2px solid #fff\" : \"none\"\r\n                    }}\r\n                >\r\n                    <Lock size={14} style={{ marginRight: 5 }} /> VPN #1 (Management)\r\n                </button>\r\n                <button\r\n                    onClick={() => setVpnTab(\"wg1\")}\r\n                    style={{\r\n                        padding: \"10px 20px\",\r\n                        background: vpnTab === \"wg1\" ? \"#e91e63\" : \"#333\",\r\n                        color: \"#fff\", border: \"none\", cursor: \"pointer\", fontWeight: \"bold\",\r\n                        borderBottom: vpnTab === \"wg1\" ? \"2px solid #fff\" : \"none\"\r\n                    }}\r\n                >\r\n                    [AI] VPN #2 (AI Stream)\r\n                </button>\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ marginBottom: 20, padding: 10, background: isConnected ? \"rgba(76, 175, 80, 0.1)\" : \"rgba(244, 67, 54, 0.1)\", border: \"1px solid #444\", borderRadius: 4 }}>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        <div style={{ fontWeight: \"bold\", color: isConnected ? \"#4caf50\" : \"#f44336\" }}>\r\n                            Interface: {prefix.toUpperCase()} | Status: {status || \"Not Configured\"}\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"file\"\r\n                                id=\"vpn-import\"\r\n                                accept=\".json\"\r\n                                style={{ display: \"none\" }}\r\n                                onChange={handleImportConfig}\r\n                            />\r\n                            <button\r\n                                onClick={() => document.getElementById('vpn-import').click()}\r\n                                style={{ background: \"#2e7d32\", color: \"#fff\", border: \"1px solid #4caf50\", padding: \"4px 8px\", borderRadius: 4, cursor: \"pointer\", fontSize: 11, fontWeight: \"bold\" }}\r\n                            >\r\n                                 Import VPN (.json)\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {getConf(\"ip\") && <div style={{ fontSize: 13, color: \"#ccc\", marginTop: 5 }}>Internal IP: <b style={{ color: \"#fff\" }}>{getConf(\"ip\")}</b></div>}\r\n                </div>\r\n\r\n                <h3 style={{ fontSize: 14, color: \"#aaa\", borderBottom: \"1px solid #444\", paddingBottom: 5 }}>\r\n                    {vpnTab === \"wg0\" ? \"Management Tunnel Settings\" : \"High-Speed AI Tunnel Settings\"}\r\n                </h3>\r\n\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>IP Address (Client)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"address\") || \"\"}\r\n                        onChange={e => setConf(\"address\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"10.100.0.x/16\" : \"10.100.1.x/16\"}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Private Key (Client)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }} type=\"password\"\r\n                        value={getConf(\"privateKey\") || \"\"}\r\n                        onChange={e => setConf(\"privateKey\", e.target.value)}\r\n                        placeholder=\"Client Private Key\"\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Public Key (Server)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"serverPubKey\") || \"\"}\r\n                        onChange={e => setConf(\"serverPubKey\", e.target.value)}\r\n                        placeholder=\"Server Public Key\"\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Endpoint (Server IP:Port)</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"endpoint\") || \"\"}\r\n                        onChange={e => setConf(\"endpoint\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"194.107.163.227:51820\" : \"194.107.163.227:51821\"}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 20 }}>\r\n                    <label style={{ display: \"block\", color: \"#ccc\", fontSize: 12 }}>Allowed IPs</label>\r\n                    <input style={{ ...styles.input, width: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={getConf(\"allowedIps\") || \"\"}\r\n                        onChange={e => setConf(\"allowedIps\", e.target.value)}\r\n                        placeholder={vpnTab === \"wg0\" ? \"10.100.0.0/16\" : \"10.100.1.0/24\"}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: 10 }}>\r\n                    <button\r\n                        style={{ ...styles.btnPrimary, flex: 2 }}\r\n                        onClick={() => connectVPN(vpnTab)}\r\n                    >\r\n                        Update & Connect {vpnTab.toUpperCase()}\r\n                    </button>\r\n\r\n                    {netConfig.wg1_privateKey && (\r\n                        <button\r\n                            style={{ ...styles.btnPrimary, flex: 3, background: \"#ff9800\", color: \"#000\" }}\r\n                            onClick={connectDualVPN}\r\n                        >\r\n                             Connect ALL VPN Tunnels (Dual)\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../../api\";\r\nimport { colors, styles } from \"./styles\";\r\n\r\nexport function DispatchSettings({ netConfig, setNetConfig, saveDispatch }) {\r\n    const [syncing, setSyncing] = useState(false);\r\n\r\n    const handleSync = async () => {\r\n        setSyncing(true);\r\n        try {\r\n            const res = await API.post(\"/dispatch/sync\");\r\n            alert(\"Sync Result: \" + res.data.message);\r\n        } catch (e) {\r\n            alert(\"Sync Failed: \" + (e.response?.data?.error || e.message));\r\n        } finally {\r\n            setSyncing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Evenimente Server (Dispatch)</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", color: \"#aaa\", fontSize: 12, marginBottom: 5 }}>Dispatch URL (Primary)</label>\r\n                    <input\r\n                        style={{ ...styles.input, width: \"100%\", maxWidth: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={netConfig.dispatchUrl || \"\"}\r\n                        onChange={e => setNetConfig({ ...netConfig, dispatchUrl: e.target.value })}\r\n                        placeholder=\"http://dispatch.example.com/events\"\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 20 }}>\r\n                    <button style={styles.btnPrimary} onClick={saveDispatch}>Save Dispatch Config</button>\r\n                    <button\r\n                        style={{ ...styles.btnToolbar, background: \"#4caf50\", color: \"#fff\", border: \"none\" }}\r\n                        onClick={handleSync}\r\n                        disabled={syncing}\r\n                    >\r\n                        {syncing ? \"Syncing...\" : \"Sync Now (Manual)\"}\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={{ borderTop: \"1px solid #444\", paddingTop: 15, marginTop: 15 }}>\r\n                    <h4 style={{ margin: \"0 0 10px 0\", color: \"#888\", fontSize: 12 }}>Active Connection Status</h4>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.vpn_status === \"Connected\") ? \"#4caf50\" : \"#f44336\", borderRadius: \"50%\" }}></div>\r\n                        <span>VPN: {netConfig.vpn_status || \"Disconnected\"}</span>\r\n                    </div>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\", marginTop: 5 }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.wg1_status === \"Connected\") ? \"#e91e63\" : \"#555\", borderRadius: \"50%\" }}></div>\r\n                        <span>AI HUB: {netConfig.wg1_status === \"Connected\" ? \"Active (10.200.0.2)\" : \"Searching...\"}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { styles } from \"./styles\";\r\n\r\nexport function SystemPortsSection() {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>System Port Usage</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 800 }}>\r\n                <table style={styles.table}>\r\n                    <thead><tr><th style={styles.th}>Serviciu</th><th style={styles.th}>Port</th><th style={styles.th}>Protocol</th><th style={styles.th}>Descriere</th></tr></thead>\r\n                    <tbody>\r\n                        <tr><td style={styles.td}>Interfata Web</td><td style={styles.td}>80</td><td style={styles.td}>TCP</td><td style={styles.td}>Acces Panou Control</td></tr>\r\n                        <tr><td style={styles.td}>API Local</td><td style={styles.td}>3000</td><td style={styles.td}>TCP</td><td style={styles.td}>Backend Intern</td></tr>\r\n                        <tr><td style={styles.td}>SSH</td><td style={styles.td}>22</td><td style={styles.td}>TCP</td><td style={styles.td}>Administrare</td></tr>\r\n                        <tr><td style={styles.td}>WireGuard</td><td style={styles.td}>51820/51821</td><td style={styles.td}>UDP</td><td style={styles.td}>VPN Tunnels</td></tr>\r\n                        <tr><td style={styles.td}>RTSP</td><td style={styles.td}>554/8554</td><td style={styles.td}>TCP/UDP</td><td style={styles.td}>Video Streams</td></tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { Trash } from \"../../components/Icons\";\r\n\r\nconst styles = {\r\n    input: { background: \"#333\", border: \"1px solid #555\", color: \"#fff\", padding: 5, width: \"100%\", maxWidth: 300 },\r\n    label: { color: \"#aaa\", fontSize: 13 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n};\r\n\r\nexport function AddUserSection({ newUserForm, setNewUserForm, handleAddUser }) {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Add User</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 500 }}>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Login</label>\r\n                    <input style={{ ...styles.input, width: \"100%\" }} value={newUserForm.username} onChange={e => setNewUserForm({ ...newUserForm, username: e.target.value })} />\r\n                </div>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Password</label>\r\n                    <input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={newUserForm.password} onChange={e => setNewUserForm({ ...newUserForm, password: e.target.value })} />\r\n                </div>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", marginBottom: 5, color: \"#ccc\" }}>Confirm password</label>\r\n                    <input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={newUserForm.confirm} onChange={e => setNewUserForm({ ...newUserForm, confirm: e.target.value })} />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <button style={styles.btnPrimary} onClick={handleAddUser}>Create User</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function UserSettingsSection({ selectedUser, setSelectedUser, currentUser, handleDeleteUser, loadUsers }) {\r\n    const toggleMenu = (menuId) => {\r\n        const current = selectedUser.menus || [];\r\n        const next = current.includes(menuId)\r\n            ? current.filter(m => m !== menuId)\r\n            : [...current, menuId];\r\n        setSelectedUser({ ...selectedUser, menus: next });\r\n    };\r\n\r\n    const savePerms = async () => {\r\n        if (currentUser.role !== 'admin') return;\r\n        try {\r\n            await API.put(`/auth/users/${selectedUser.id}`, { menus: selectedUser.menus });\r\n            alert(\"Permisiuni salvate cu succes!\");\r\n            loadUsers();\r\n        } catch (e) { alert(\"Eroare salvare: \" + e.message); }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>User Settings - {selectedUser.name}</h2>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 30 }}>\r\n                <div>\r\n                    <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 20 }}>\r\n                        <div style={{ fontSize: 40, marginRight: 20 }}>{selectedUser.icon}</div>\r\n                        <div style={{ flex: 1 }}>\r\n                            <label style={styles.label}>User name:</label>\r\n                            <input style={{ ...styles.input, width: \"100%\" }} value={selectedUser.name} readOnly disabled={true} />\r\n                            {currentUser.role === 'admin' && selectedUser.role !== 'admin' && (\r\n                                <button style={{ ...styles.btnToolbar, marginTop: 10, color: \"#f44336\" }} onClick={() => handleDeleteUser(selectedUser.name)}>[Del] Delete user</button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 20, border: \"1px solid #444\", padding: 15, background: \"#222\" }}>\r\n                        <h4 style={{ marginTop: 0, marginBottom: 15, color: \"#ccc\" }}>Acces Meniuri (Vizibilitate)</h4>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr\", gap: 8 }}>\r\n                            {[\r\n                                { id: \"LIVE\", label: \"Monitorizare Live\" },\r\n                                { id: \"ARCHIVE\", label: \"Arhiva Inregistrari\" },\r\n                                { id: \"SETTINGS\", label: \"Setari Sistem\" },\r\n                                { id: \"HARDWARE\", label: \"Gestionare Hardware\" },\r\n                                { id: \"NETWORK\", label: \"Setari Retea\" }\r\n                            ].map(m => (\r\n                                <label key={m.id} style={{ display: \"flex\", alignItems: \"center\", gap: 10, cursor: \"pointer\", color: \"#ddd\" }}>\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedUser.menus?.includes(m.id)}\r\n                                        onChange={() => toggleMenu(m.id)}\r\n                                        disabled={currentUser.role !== 'admin'}\r\n                                    />\r\n                                    {m.label}\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                        {currentUser.role === 'admin' && (\r\n                            <button style={{ ...styles.btnPrimary, width: \"100%\", marginTop: 20 }} onClick={savePerms}>Salveaza Permisiuni</button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\"; // Added\r\nimport { API } from \"../../api\";\r\n\r\nconst styles = {\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n    table: { width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" },\r\n};\r\n\r\nexport function OrphansSection() {\r\n    const [orphans, setOrphans] = useState(null);\r\n    const navigate = useNavigate(); // Hook usage\r\n\r\n    useEffect(() => {\r\n        API.get(\"/cameras/orphans\")\r\n            .then(res => {\r\n                if (Array.isArray(res.data)) {\r\n                    setOrphans(res.data);\r\n                } else {\r\n                    setOrphans([]);\r\n                }\r\n            })\r\n            .catch(() => setOrphans([]));\r\n    }, []);\r\n\r\n    const handleDelete = async (uuid) => {\r\n        if (!window.confirm(\"Sunteti sigur ca doriti sa stergeti aceste inregistrari? Aceasta actiune este ireversibila.\")) return;\r\n        try {\r\n            await API.delete(\"/cameras/orphans\", { data: { uuid } });\r\n            setOrphans(prev => Array.isArray(prev) ? prev.filter(o => o.uuid !== uuid) : []);\r\n        } catch (e) {\r\n            alert(\"Eroare la stergere: \" + e.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Camere Sterse (Arhiva)</h2>\r\n            <p style={{ color: \"#aaa\", fontSize: 13 }}>Aceste directoare contin inregistrari dar nu sunt legate de nicio camera activa.</p>\r\n            <div style={{ background: \"#252526\", padding: 10, border: \"1px solid #444\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: 10, fontSize: 13, background: \"#252526\" }}>\r\n                    <thead><tr><th style={styles.th}>UUID Folder / Inregistrari</th><th style={styles.th}>Ultima Modificare</th><th style={styles.th}>Actiune</th></tr></thead>\r\n                    <tbody>\r\n                        {!orphans ? <tr><td colSpan=\"3\" style={{ padding: 20, textAlign: \"center\" }}>Loading...</td></tr> :\r\n                            (!Array.isArray(orphans) || orphans.length === 0) ? <tr><td colSpan=\"3\" style={{ padding: 20, textAlign: \"center\", color: \"#666\" }}>No orphaned recordings found.</td></tr> :\r\n                                orphans.map(o => (\r\n                                    <tr key={o.uuid} style={{ background: \"transparent\", transition: \"0.2s\" }}>\r\n                                        <td style={styles.td}>\r\n                                            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n                                                {o.uuid}\r\n                                                <span\r\n                                                    onClick={() => navigate(`/playback?camId=${o.uuid}`)} // Fixed navigation\r\n                                                    style={{ color: \"#81d4fa\", cursor: \"pointer\", textDecoration: \"underline\", background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4, fontSize: 11 }}\r\n                                                >\r\n                                                    Vezi Inregistrari [->]\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td style={styles.td}>{new Date(o.birthtime).toLocaleString()}</td>\r\n                                        <td style={styles.td}>\r\n                                            <button\r\n                                                style={{ marginRight: 10, padding: \"6px 15px\", background: \"#f44336\", color: \"#fff\", border: \"none\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" }}\r\n                                                onClick={() => handleDelete(o.uuid)}\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ArchiveSettingsSection({ cams }) {\r\n    const [stats, setStats] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchStats = () => {\r\n            API.get(\"/recorder/status\")\r\n                .then(res => setStats(res.data))\r\n                .catch(e => console.error(\"Failed to load recorder stats:\", e));\r\n        };\r\n        fetchStats();\r\n        const interval = setInterval(fetchStats, 30000); // Update every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const formatBytes = (bytes) => {\r\n        if (!bytes) return \"0.00 GB\";\r\n        return (bytes / (1024 * 1024 * 1024)).toFixed(2) + \" GB\";\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Archive & Storage Management</h2>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", marginBottom: 20 }}>\r\n                <h3 style={{ marginTop: 0, marginBottom: 15 }}>Recorded Streams Status</h3>\r\n                <table style={styles.table}>\r\n                    <thead>\r\n                        <tr><th style={styles.th}>Camera</th><th style={styles.th}>Main Stream</th><th style={styles.th}>Sub Stream</th><th style={styles.th}>Retention</th><th style={styles.th}>Status</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.map((c, i) => (\r\n                            <tr key={i}>\r\n                                <td style={styles.td}>{c.name || c.ip}</td>\r\n                                <td style={styles.td}>{c.recordStream === 'main' || !c.recordStream ? \"YES\" : \"NO\"}</td>\r\n                                <td style={styles.td}>{c.recordStream === 'sub' ? \"YES\" : \"NO\"}</td>\r\n                                <td style={styles.td}>{c.retention || 7} Days</td>\r\n                                <td style={styles.td}>\r\n                                    <span style={{ color: c.enabled ? \"#4caf50\" : \"#f44336\" }}>{c.enabled ? \"Active\" : \"Disabled\"}</span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20 }}>\r\n                <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\" }}>\r\n                    <h3 style={{ marginTop: 0, marginBottom: 15 }}>Archive Statistics</h3>\r\n                    {stats ? (\r\n                        <div style={{ display: \"grid\", gap: 8, fontSize: 13, color: \"#ddd\" }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Total Cameras:</span>\r\n                                <b>{Object.keys(stats.cameras || {}).length}</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Recording:</span>\r\n                                <b>{Object.values(stats.cameras || {}).filter(c => c.main || c.sub).length}</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Disk Usage:</span>\r\n                                <b>{stats.storage?.usedPercent || 0}% Full</b>\r\n                            </div>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                <span>Available Space:</span>\r\n                                <b>{stats.storage?.avail || \"N/A\"}</b>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ color: \"#666\", textAlign: \"center\", padding: 20 }}>Loading statistics...</div>\r\n                    )}\r\n                </div>\r\n\r\n                <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\" }}>\r\n                    <h3 style={{ marginTop: 0, marginBottom: 15 }}>Camera Recording Status</h3>\r\n                    {stats && stats.cameras ? (\r\n                        <div style={{ display: \"grid\", gap: 8, fontSize: 13, color: \"#ddd\" }}>\r\n                            {Object.entries(stats.cameras).map(([camId, status]) => (\r\n                                <div key={camId} style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"4px 0\", borderBottom: \"1px solid #333\" }}>\r\n                                    <span style={{ color: \"#aaa\" }}>{camId}:</span>\r\n                                    <span>\r\n                                        {status.main && <span style={{ color: \"#4caf50\", marginRight: 8 }}>MAIN</span>}\r\n                                        {status.sub && <span style={{ color: \"#2196f3\" }}>SUB</span>}\r\n                                        {!status.main && !status.sub && <span style={{ color: \"#666\" }}>IDLE</span>}\r\n                                    </span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ color: \"#666\", textAlign: \"center\", padding: 20 }}>No camera data</div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", marginTop: 20 }}>\r\n                <h3 style={{ marginTop: 0, borderBottom: \"1px solid #444\", paddingBottom: 10 }}>Active Camera Storage Mapping</h3>\r\n                <table style={styles.table}>\r\n                    <thead>\r\n                        <tr><th style={styles.th}>Camera Name / IP</th><th style={styles.th}>Storage ID</th><th style={styles.th}>Physical HDD Path</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cams.filter(c => c.enabled).map((cam, idx) => (\r\n                            <tr key={idx}>\r\n                                <td style={styles.td}>{cam.name || cam.ip}</td>\r\n                                <td style={styles.td}><code style={{ color: \"#aaa\" }}>{cam.storagePath || \"N/A\"}</code></td>\r\n                                <td style={styles.td}>\r\n                                    <input type=\"text\" readOnly value={cam.physicalPath || \"Generating...\"} style={{ width: \"100%\", background: \"#111\", border: \"1px solid #333\", color: \"#007acc\", fontSize: 11, padding: \"4px 8px\", fontFamily: \"monospace\", borderRadius: 3 }} />\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M17 20v2', key: '1rnc9c' }],\n  ['path', { d: 'M17 2v2', key: '11trls' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M2 17h2', key: '7oei6x' }],\n  ['path', { d: 'M2 7h2', key: 'asdhe0' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'M20 17h2', key: '1fpfkl' }],\n  ['path', { d: 'M20 7h2', key: '1o8tra' }],\n  ['path', { d: 'M7 20v2', key: '4gnj0m' }],\n  ['path', { d: 'M7 2v2', key: '1i4yhu' }],\n  ['rect', { x: '4', y: '4', width: '16', height: '16', rx: '2', key: '1vbyd7' }],\n  ['rect', { x: '8', y: '8', width: '8', height: '8', rx: '1', key: 'z9xiuo' }],\n];\n\n/**\n * @component @name Cpu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjB2MiIgLz4KICA8cGF0aCBkPSJNMTIgMnYyIiAvPgogIDxwYXRoIGQ9Ik0xNyAyMHYyIiAvPgogIDxwYXRoIGQ9Ik0xNyAydjIiIC8+CiAgPHBhdGggZD0iTTIgMTJoMiIgLz4KICA8cGF0aCBkPSJNMiAxN2gyIiAvPgogIDxwYXRoIGQ9Ik0yIDdoMiIgLz4KICA8cGF0aCBkPSJNMjAgMTJoMiIgLz4KICA8cGF0aCBkPSJNMjAgMTdoMiIgLz4KICA8cGF0aCBkPSJNMjAgN2gyIiAvPgogIDxwYXRoIGQ9Ik03IDIwdjIiIC8+CiAgPHBhdGggZD0iTTcgMnYyIiAvPgogIDxyZWN0IHg9IjQiIHk9IjQiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgcng9IjIiIC8+CiAgPHJlY3QgeD0iOCIgeT0iOCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/cpu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cpu = createLucideIcon('cpu', __iconNode);\n\nexport default Cpu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n];\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('activity', __iconNode);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { Save, RefreshCw, Cpu, Shield, AlertTriangle, Activity, Clock } from \"lucide-react\";\r\n\r\nexport function AISection() {\r\n    const [activeTab, setActiveTab] = useState(\"antispam\"); // or 'hub'\r\n    const [cameras, setCameras] = useState([]);\r\n    const [selectedCamera, setSelectedCamera] = useState(\"default\");\r\n\r\n    return (\r\n        <div style={{ padding: 20, color: \"#ccc\" }}>\r\n            <h3 style={{ display: \"flex\", alignItems: \"center\", gap: 10, borderBottom: \"1px solid #444\", paddingBottom: 10 }}>\r\n                <Cpu size={20} /> AI & Inteligen\r\n            </h3>\r\n\r\n            {/* Tabs */}\r\n            <div style={{ display: \"flex\", gap: 20, marginTop: 20, borderBottom: \"1px solid #333\" }}>\r\n                <TabButton\r\n                    label=\"Anti-Spam Intelligence\"\r\n                    icon={<Shield size={16} />}\r\n                    active={activeTab === \"antispam\"}\r\n                    onClick={() => setActiveTab(\"antispam\")}\r\n                />\r\n                <TabButton\r\n                    label=\"Hub Connection\"\r\n                    icon={<Activity size={16} />}\r\n                    active={activeTab === \"hub\"}\r\n                    onClick={() => setActiveTab(\"hub\")}\r\n                />\r\n            </div>\r\n\r\n            <div style={{ marginTop: 20 }}>\r\n                {activeTab === \"hub\" && <HubSettings />}\r\n                {activeTab === \"antispam\" && <AntiSpamSettings />}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction TabButton({ label, icon, active, onClick }) {\r\n    return (\r\n        <div\r\n            onClick={onClick}\r\n            style={{\r\n                padding: \"10px 0\",\r\n                cursor: \"pointer\",\r\n                borderBottom: active ? \"2px solid #2196f3\" : \"2px solid transparent\",\r\n                color: active ? \"#fff\" : \"#888\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: 8,\r\n                fontWeight: active ? \"bold\" : \"normal\"\r\n            }}\r\n        >\r\n            {icon} {label}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AntiSpamSettings() {\r\n    const [cameras, setCameras] = useState([]);\r\n    const [selectedCam, setSelectedCam] = useState(\"default\");\r\n    const [config, setConfig] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [saving, setSaving] = useState(false);\r\n    const [stats, setStats] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadCameras();\r\n        loadStats();\r\n        // Poll stats\r\n        const interval = setInterval(loadStats, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedCam) loadConfig(selectedCam);\r\n    }, [selectedCam]);\r\n\r\n    const loadCameras = async () => {\r\n        try {\r\n            const res = await API.get(\"/cameras\");\r\n            setCameras(res.data || []);\r\n        } catch (e) { }\r\n    };\r\n\r\n    const loadStats = async () => {\r\n        try {\r\n            // Updated Path via proxy\r\n            const res = await API.get(\"/ai-intelligence/api/stats\");\r\n            setStats(res.data);\r\n        } catch (e) { }\r\n    };\r\n\r\n    const loadConfig = async (camId) => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await API.get(`/ai-intelligence/api/config/${camId}`);\r\n            // If API returns global + camera config combined, great.\r\n            // If specific camera config is empty, we might receive defaults.\r\n            setConfig(res.data?.config || res.data);\r\n        } catch (e) {\r\n            console.error(\"Load Config Error\", e);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setSaving(true);\r\n        try {\r\n            await API.post(`/ai-intelligence/api/config/${selectedCam}`, config);\r\n            alert(\"Setri salvate cu succes!\");\r\n        } catch (e) {\r\n            alert(\"Eroare la salvare: \" + e.message);\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const updateFilter = (key, val) => {\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            false_detection_filter: { ...prev.false_detection_filter, [key]: val }\r\n        }));\r\n    };\r\n\r\n    const updateEvent = (key, val) => {\r\n        setConfig(prev => ({\r\n            ...prev,\r\n            event_manager: { ...prev.event_manager, [key]: val }\r\n        }));\r\n    };\r\n\r\n    if (!config) return <div style={{ padding: 20 }}>Selectai o camer sau ateptai ncrcarea...</div>;\r\n\r\n    return (\r\n        <div>\r\n            {/* Stats Header */}\r\n            {stats && (\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr 1fr\", gap: 10, marginBottom: 20 }}>\r\n                    <StatBox label=\"Tracked Objects\" value={stats.tracked_objects} color=\"#2196f3\" />\r\n                    <StatBox label=\"Events Today\" value={stats.events_today} color=\"#4caf50\" />\r\n                    <StatBox label=\"Ignored Zones\" value={stats.false_zones} color=\"#ff9800\" />\r\n                    <StatBox label=\"Uptime\" value={Math.round(stats.uptime_seconds / 60) + \" min\"} color=\"#9c27b0\" />\r\n                </div>\r\n            )}\r\n\r\n            {/* Camera Selector */}\r\n            <div style={{ marginBottom: 20, background: \"#222\", padding: 15, borderRadius: 6 }}>\r\n                <label style={{ marginRight: 10 }}>Select Camera:</label>\r\n                <select\r\n                    value={selectedCam}\r\n                    onChange={e => setSelectedCam(e.target.value)}\r\n                    style={{ padding: 8, borderRadius: 4, background: \"#333\", color: \"#fff\", border: \"1px solid #444\" }}\r\n                >\r\n                    <option value=\"default\">Global Defaults (All Cameras)</option>\r\n                    {cameras.map(c => (\r\n                        <option key={c.id} value={c.id}>{c.name || c.ip} ({c.id})</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            {loading ? <div>Loading...</div> : (\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20 }}>\r\n\r\n                    {/* FILTER SETTINGS */}\r\n                    <div style={{ background: \"#1a1a1a\", padding: 20, borderRadius: 8, border: \"1px solid #333\" }}>\r\n                        <h4 style={{ margin: \"0 0 15px 0\", color: \"#4caf50\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                            <Shield size={18} /> False Detection Filter\r\n                        </h4>\r\n\r\n                        <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 15 }}>\r\n                            <input type=\"checkbox\" checked={config.false_detection_filter?.enabled} onChange={e => updateFilter(\"enabled\", e.target.checked)} style={{ width: 18, height: 18 }} />\r\n                            <label style={{ marginLeft: 10, fontWeight: \"bold\" }}>Enable Filter</label>\r\n                        </div>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Detect objects only on motion</label>\r\n                            <input type=\"checkbox\" checked={config.false_detection_filter?.motion_only} onChange={e => updateFilter(\"motion_only\", e.target.checked)} />\r\n                        </div>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Ignore repeated detections (Anti-Wind/Rain)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.detection_count_before_ignore} onChange={e => updateFilter(\"detection_count_before_ignore\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                        <p style={{ fontSize: 11, color: \"#666\", marginTop: -5, marginBottom: 10 }}>Ignore area after N detections without motion.</p>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Stability Frames (Confirmation)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.stability_frames} onChange={e => updateFilter(\"stability_frames\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* EVENT MANAGER */}\r\n                    <div style={{ background: \"#1a1a1a\", padding: 20, borderRadius: 8, border: \"1px solid #333\" }}>\r\n                        <h4 style={{ margin: \"0 0 15px 0\", color: \"#2196f3\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                            <AlertTriangle size={18} /> Anti-Spam & Events\r\n                        </h4>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Event Cooldown (seconds)</label>\r\n                            <input type=\"number\" value={config.event_manager?.cooldown_seconds} onChange={e => updateEvent(\"cooldown_seconds\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                        <p style={{ fontSize: 11, color: \"#666\", marginTop: -5, marginBottom: 10 }}>Don't send same event again for X seconds.</p>\r\n\r\n                        <div className=\"setting-row\">\r\n                            <label>Min Displacement (Pixels)</label>\r\n                            <input type=\"number\" value={config.false_detection_filter?.min_displacement_pixels} onChange={e => updateFilter(\"min_displacement_pixels\", parseInt(e.target.value))} style={{ width: 60 }} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Save Button */}\r\n            <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                <button\r\n                    onClick={handleSave}\r\n                    disabled={saving}\r\n                    style={{ background: \"#2196f3\", color: \"white\", padding: \"10px 25px\", border: \"none\", borderRadius: 4, cursor: \"pointer\", display: \"flex\", alignItems: \"center\", gap: 10, fontSize: 14 }}\r\n                >\r\n                    {saving ? <RefreshCw className=\"spin\" /> : <Save size={18} />} Save Configuration\r\n                </button>\r\n            </div>\r\n\r\n            <style>{`\r\n                .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #2a2a2a; }\r\n                .setting-row label { font-size: 13px; color: #ccc; }\r\n                .setting-row input[type=\"number\"] { background: #222; border: 1px solid #444; color: #fff; padding: 4px; borderRadius: 4px; }\r\n                .stat-box { background: #222; padding: 10px; borderRadius: 4px; text-align: center; border: 1px solid #333; }\r\n                .spin { animation: spin 1s linear infinite; }\r\n                @keyframes spin { 100% { transform: rotate(360deg); } }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction StatBox({ label, value, color }) {\r\n    return (\r\n        <div className=\"stat-box\" style={{ borderTop: `2px solid ${color}` }}>\r\n            <div style={{ fontSize: 24, fontWeight: \"bold\", color: \"#fff\" }}>{value}</div>\r\n            <div style={{ fontSize: 11, color: \"#888\", textTransform: \"uppercase\" }}>{label}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction HubSettings() {\r\n    // Re-implementation of original Hub settings (simplified)\r\n    const [config, setConfig] = useState({ hubUrl: \"\", enabled: true });\r\n\r\n    useEffect(() => {\r\n        API.get(\"/api/ai/config\").then(res => setConfig(res.data)).catch(() => { });\r\n    }, []);\r\n\r\n    const save = () => {\r\n        API.post(\"/api/ai/config\", config).then(() => alert(\"Saved!\")).catch(e => alert(e.message));\r\n    };\r\n\r\n    return (\r\n        <div style={{ maxWidth: 500 }}>\r\n            <h4>Hub Connection</h4>\r\n            <div style={{ marginBottom: 15 }}>\r\n                <label style={{ display: \"block\", marginBottom: 5 }}>Hub URL</label>\r\n                <input style={{ width: \"100%\", padding: 8, background: \"#222\", color: \"#fff\", border: \"1px solid #444\" }} value={config.hubUrl || \"\"} onChange={e => setConfig({ ...config, hubUrl: e.target.value })} />\r\n            </div>\r\n            <button onClick={save} style={{ padding: \"8px 16px\", background: \"#4caf50\", color: \"#fff\", border: \"none\", cursor: \"pointer\" }}>Save Hub Settings</button>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { colors } from \"../../theme\";\r\nimport { Trash, Edit, SettingsIcon, Lock, AlertTriangle, Save, Camera, Video, Archive, ChevronRight, RefreshCw } from \"../../components/Icons\";\r\nimport Go2RTCPlayer from \"../../components/Go2RTCPlayer\"; // Import optimized player\r\nimport RecorderPlayer from \"../../components/RecorderPlayer\"; // Still used for Channel Setup Large View\r\n\r\nconst videoStyle = { width: \"100%\", height: \"100%\" };\r\n\r\n// Sub-component for auto-refreshing preview (Snapshot Mode for Performance)\r\nexport function LivePreview({ camId, active = true }) {\r\n    if (!active) return <div style={{ width: \"100%\", height: \"100%\", background: \"#000\" }} />;\r\n    return (\r\n        <div style={{ width: \"100%\", height: \"100%\", background: \"#000\", overflow: \"hidden\" }}>\r\n            <Go2RTCPlayer camId={camId} streamType=\"sub\" />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- REWRITTEN ROI COMPONENT ---\r\n// Uses normalized coordinates (0-1) for storage, mapped to dynamic pixel size for display.\r\nexport function CanvasROI({ points = [], onChange, readOnly = false, otherZones = [] }) {\r\n    const containerRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const [dims, setDims] = useState({ w: 0, h: 0 }); // Container dimensions\r\n    const [draggingIdx, setDraggingIdx] = useState(-1);\r\n\r\n    // 1. Measure Container Size\r\n    useEffect(() => {\r\n        const obs = new ResizeObserver(entries => {\r\n            for (const entry of entries) {\r\n                const { width, height } = entry.contentRect;\r\n                setDims({ w: Math.round(width), h: Math.round(height) });\r\n            }\r\n        });\r\n        if (containerRef.current) obs.observe(containerRef.current);\r\n        return () => obs.disconnect();\r\n    }, []);\r\n\r\n    // 2. Draw Loop\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas || dims.w === 0 || dims.h === 0) return;\r\n        const ctx = canvas.getContext(\"2d\");\r\n\r\n        // Clear (using the set Dims)\r\n        ctx.clearRect(0, 0, dims.w, dims.h);\r\n\r\n        // Drawing Helper\r\n        const drawZone = (pts, stroke, fill) => {\r\n            if (!pts || pts.length === 0) return;\r\n            ctx.beginPath();\r\n            // Move to first\r\n            ctx.moveTo(pts[0][0] * dims.w, pts[0][1] * dims.h);\r\n            // Lines to rest\r\n            for (let i = 1; i < pts.length; i++) {\r\n                ctx.lineTo(pts[i][0] * dims.w, pts[i][1] * dims.h);\r\n            }\r\n            ctx.closePath();\r\n            ctx.strokeStyle = stroke;\r\n            ctx.fillStyle = fill;\r\n            ctx.lineWidth = 2;\r\n            ctx.fill();\r\n            ctx.stroke();\r\n\r\n            // Handles (only for active, editable)\r\n            if (!readOnly && stroke === \"#00ff00\") {\r\n                ctx.fillStyle = \"#fff\";\r\n                pts.forEach(p => {\r\n                    ctx.beginPath();\r\n                    ctx.arc(p[0] * dims.w, p[1] * dims.h, 4, 0, Math.PI * 2);\r\n                    ctx.fill();\r\n                });\r\n            }\r\n        };\r\n\r\n        // Draw Inactive Zones\r\n        otherZones.forEach(z => {\r\n            if (z.points) drawZone(z.points, \"rgba(0,122,204,0.5)\", \"rgba(0,122,204,0.2)\");\r\n        });\r\n\r\n        // Draw Active Zone\r\n        // Ensure points are normalized (0-1). If > 1, convert on fly to support legacy.\r\n        const safePoints = points.map(p => [\r\n            p[0] > 1 ? p[0] / dims.w : p[0],\r\n            p[1] > 1 ? p[1] / dims.h : p[1]\r\n        ]);\r\n\r\n        drawZone(safePoints, readOnly ? \"#ff9800\" : \"#00ff00\", readOnly ? \"rgba(255,152,0,0.25)\" : \"rgba(0,255,0,0.15)\");\r\n\r\n    }, [points, dims, readOnly, otherZones]);\r\n\r\n    // 3. Interactions\r\n    const handleMouseDown = (e) => {\r\n        if (readOnly) return;\r\n\r\n        // Use native Offset - much faster and accurate relative to element\r\n        const x = e.nativeEvent.offsetX;\r\n        const y = e.nativeEvent.offsetY;\r\n\r\n        // Normalize\r\n        const nx = Math.max(0, Math.min(1, x / dims.w));\r\n        const ny = Math.max(0, Math.min(1, y / dims.h));\r\n\r\n        // Check hit (distance in pixels)\r\n        // Convert existing points to pixels for check\r\n        const hitIdx = points.findIndex(p => {\r\n            const px = p[0] > 1 ? p[0] : p[0] * dims.w;\r\n            const py = p[1] > 1 ? p[1] : p[1] * dims.h;\r\n            return Math.sqrt((px - x) ** 2 + (py - y) ** 2) < 10;\r\n        });\r\n\r\n        if (hitIdx !== -1) {\r\n            setDraggingIdx(hitIdx);\r\n        } else {\r\n            // Add new point (Normalized)\r\n            onChange([...points, [nx, ny]]);\r\n        }\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (draggingIdx === -1 || readOnly) return;\r\n\r\n        const x = e.nativeEvent.offsetX;\r\n        const y = e.nativeEvent.offsetY;\r\n\r\n        const nx = Math.max(0, Math.min(1, x / dims.w));\r\n        const ny = Math.max(0, Math.min(1, y / dims.h));\r\n\r\n        const newPoints = [...points];\r\n        newPoints[draggingIdx] = [nx, ny];\r\n        onChange(newPoints);\r\n    };\r\n\r\n    const handleMouseUp = () => setDraggingIdx(-1);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\", zIndex: 10 }}>\r\n            <canvas\r\n                ref={canvasRef}\r\n                width={dims.w} // Lock resolution to physical pixels\r\n                height={dims.h}\r\n                style={{ width: \"100%\", height: \"100%\", display: \"block\", cursor: readOnly ? \"default\" : \"crosshair\" }}\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseUp}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    inputTable: { background: \"#444\", border: \"1px solid #555\", color: \"#fff\", width: \"100%\", padding: 2 },\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    btnToolbar: { marginRight: 10, padding: \"6px 15px\", background: \"#333\", color: \"#ddd\", border: \"1px solid #444\", borderRadius: 2, fontSize: 12, cursor: \"pointer\" },\r\n};\r\n\r\nexport function IPDevicesRootSection({ cams, statusData = {}, onEditCam, onSelectCam, onDeleteCam }) {\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Gestionare Dispozitive IP</h2>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\", gap: 20 }}>\r\n                {cams.map(c => (\r\n                    <div key={c.id} style={{ background: \"#252526\", border: \"1px solid #444\", borderRadius: 4, overflow: \"hidden\" }}>\r\n                        <div style={{ height: 150, background: \"#000\", position: \"relative\" }}>\r\n                            <Go2RTCPlayer camId={c.id} streamType=\"sub\" style={{ width: \"100%\", height: \"100%\", objectFit: \"fill\" }} />\r\n                            <div style={{ position: \"absolute\", bottom: 0, left: 0, right: 0, padding: 10, background: \"rgba(0,0,0,0.7)\", color: \"#fff\", fontSize: 14 }}>\r\n                                {c.name || c.ip}\r\n                            </div>\r\n                        </div>\r\n                        <div style={{ padding: 15 }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 10 }}>\r\n                                <div style={{ fontSize: 13, fontWeight: \"bold\", color: \"#fff\" }}>{c.ip}</div>\r\n                                <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-end\" }}>\r\n                                    {(statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\") ?\r\n                                        <div style={{ fontSize: 11, color: \"#4caf50\", background: \"rgba(76,175,80,0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>Active ({statusData[c.id]?.fps || 0} FPS)</div> :\r\n                                        <div style={{ fontSize: 11, color: \"#f44336\", background: \"rgba(244,67,54,0.1)\", padding: \"2px 6px\", borderRadius: 4 }}>Offline</div>\r\n                                    }\r\n                                    <div style={{ fontSize: 9, color: \"#888\", marginTop: 3 }}>\r\n                                        Check: {new Date().toLocaleTimeString()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{ fontSize: 12, color: \"#aaa\", marginBottom: 10 }}>Model: {c.model || \"Generic\"} | {c.manufacturer}</div>\r\n                            <div style={{ display: \"flex\", gap: 10, marginBottom: 10 }}>\r\n                                <button style={{ ...styles.btnToolbar, flex: 1 }} onClick={() => onEditCam(c)}><Edit size={12} /> Edit</button>\r\n                                <button style={{ ...styles.btnToolbar, flex: 1 }} onClick={() => onSelectCam(c.id)}><SettingsIcon size={12} /> Config</button>\r\n                            </div>\r\n                            <button\r\n                                style={{\r\n                                    width: \"100%\", padding: \"6px 0\", background: \"rgba(244, 67, 54, 0.1)\",\r\n                                    border: \"1px solid #d32f2f\", color: \"#e57373\", borderRadius: 2,\r\n                                    fontSize: 12, cursor: \"pointer\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: 5\r\n                                }}\r\n                                onClick={() => onDeleteCam(c.id)}\r\n                            >\r\n                                <Trash size={12} /> Delete Device\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function CameraSettingsSection({\r\n    cam, statusData, updateCam, saveAll, deleteCam, openEditModal, setSelection\r\n}) {\r\n    const [syncing, setSyncing] = useState(false);\r\n    const [caps, setCaps] = useState(null); // Store dynamic device capabilities\r\n\r\n    const fetchDeviceConfig = async () => {\r\n        if (!cam || !cam.id) return;\r\n        try {\r\n            const res = await API.get(`/device-config/${cam.id}`);\r\n            const { current, capabilities } = res.data;\r\n            if (current) {\r\n                // Update local storage state with real device values\r\n                if (current.codec) updateCam(cam.id, \"codec\", current.codec);\r\n                if (current.fps) updateCam(cam.id, \"fps\", current.fps);\r\n                if (current.gop) updateCam(cam.id, \"gop\", current.gop);\r\n                if (current.resolution) updateCam(cam.id, \"resolution\", current.resolution);\r\n            }\r\n            if (capabilities) {\r\n                setCaps(capabilities);\r\n            }\r\n        } catch (e) {\r\n            console.warn(`[CamSync] Polling failed for ${cam.ip}:`, e.message);\r\n        }\r\n    };\r\n\r\n    // Initial load and periodic polling (every 10s)\r\n    useEffect(() => {\r\n        fetchDeviceConfig();\r\n        const timer = setInterval(fetchDeviceConfig, 10000);\r\n        return () => clearInterval(timer);\r\n    }, [cam?.id]);\r\n\r\n    const handleRemoteChange = async (key, val) => {\r\n        // 1. Optimistic Update (UI)\r\n        updateCam(cam.id, key, val);\r\n\r\n        // 2. Send to Device\r\n        setSyncing(true);\r\n        try {\r\n            console.log(`[CamSync] Updating ${key} to ${val} for ${cam.ip}...`);\r\n            await API.post(`/device-config/${cam.id}`, { [key]: val });\r\n\r\n            // Backend now handles saving to cameras.json, so we don't need saveAll() here.\r\n            // This avoids race conditions with stale frontend state.\r\n\r\n            // Confirm with a fresh fetch\r\n            setTimeout(fetchDeviceConfig, 1500);\r\n        } catch (e) {\r\n            console.error(`[CamSync] Update failed:`, e);\r\n            alert(`Failed to update camera: ${e.response?.data?.error || e.message}`);\r\n            // Revert or sync back on error\r\n            fetchDeviceConfig();\r\n        } finally {\r\n            setSyncing(false);\r\n        }\r\n    };\r\n\r\n    if (!cam) return <div>Camera not found</div>;\r\n    return (\r\n        <div style={{ padding: 20, display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\r\n            <div style={{ marginBottom: 20 }}>\r\n                <h2 style={{ fontSize: 18, marginBottom: 15, color: \"#fff\" }}>Camera {cam.ip}</h2>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"100px 1fr\", gap: 10, maxWidth: 600, marginBottom: 15 }}>\r\n                    <label>Model:</label> <div style={{ fontWeight: \"bold\" }}>{cam.model || \"Autodetect\"}</div>\r\n                    <label>Device Name:</label>\r\n                    <input style={{ background: \"#333\", border: \"1px solid #555\", color: \"#ddd\", padding: 4 }}\r\n                        value={cam.name || `Camera ${cam.ip}`}\r\n                        onChange={e => updateCam(cam.id, \"name\", e.target.value)}\r\n                        onBlur={() => saveAll()}\r\n                    />\r\n                </div>\r\n                <div style={{ marginBottom: 10, display: \"flex\", alignItems: \"center\", gap: 15 }}>\r\n                    <span>IP Address: <b style={{ color: \"#fff\" }}>{cam.ip}</b></span>\r\n                    <span>Port: <b style={{ color: \"#fff\" }}>{cam.port}</b></span>\r\n                    <span>User: <b style={{ color: \"#fff\" }}>{cam.user}</b></span>\r\n                    <button onClick={() => openEditModal(cam)} style={{ color: \"rgb(66, 165, 245)\", background: \"none\", border: \"none\", cursor: \"pointer\", textDecoration: \"underline\", padding: 0 }}>Setup connection</button>\r\n                </div>\r\n                {cam.storagePath && (\r\n                    <div style={{ marginBottom: 20, fontSize: 13, color: \"#ccc\", display: \"flex\", alignItems: \"center\", gap: 5 }}>\r\n                        Storage Path:\r\n                        <span\r\n                            title=\"Click to view recordings\"\r\n                            onClick={() => window.location.href = `/playback?camId=${cam.id}`}\r\n                            style={{ fontFamily: \"monospace\", color: \"#81d4fa\", cursor: \"pointer\", textDecoration: \"underline\", background: \"rgba(33, 150, 243, 0.1)\", padding: \"2px 6px\", borderRadius: 4 }}\r\n                        >\r\n                            {cam.storagePath} [->]\r\n                        </span>\r\n                    </div>\r\n                )}\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(6, auto)\", gap: 10, marginBottom: 20, alignItems: \"center\", justifyContent: \"start\" }}>\r\n                    <button style={{ ...styles.btnToolbar, width: 120, background: (cam.enabled !== false) ? \"#333\" : \"#4caf50\", color: (cam.enabled !== false) ? \"#ddd\" : \"#fff\" }} onClick={() => { const next = (cam.enabled !== false) ? false : true; updateCam(cam.id, \"enabled\", !!next); saveAll(); }}>{(cam.enabled !== false) ? \"Disable\" : \"Enable\"}</button>\r\n                    <button style={{ ...styles.btnToolbar, width: 120 }} onClick={() => deleteCam(cam.id)}><Trash size={12} style={{ marginRight: 5 }} /> Delete...</button>\r\n                    <button\r\n                        style={{ ...styles.btnToolbar, background: \"rgba(0,122,204,0.1)\", border: \"1px solid #007acc\", color: \"#81d4fa\", width: 160 }}\r\n                        onClick={() => setSelection({ type: \"CHANNEL\", id: cam.id })}\r\n                    >\r\n                        <SettingsIcon size={12} style={{ marginRight: 5 }} /> AI / Channel Setup\r\n                    </button>\r\n                    <a href={`http://${cam.ip}`} target=\"_blank\" rel=\"noreferrer\" style={{ color: \"rgb(66, 165, 245)\", textDecoration: \"none\", alignSelf: \"center\", margin: \"0 10px\" }}>Web Interface</a>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 30, display: \"flex\", alignItems: \"center\", gap: 20 }}>\r\n                    {(statusData[cam.id]?.connected || statusData[cam.id]?.status === \"ONLINE\") ?\r\n                        <div>State: <span style={{ color: \"rgb(76, 175, 80)\", fontWeight: \"bold\" }}>Connected</span></div> :\r\n                        <div>State: <span style={{ color: \"#f44336\", fontWeight: \"bold\" }}>Disconnected production</span> <span style={{ fontSize: 11, color: \"#ffa726\", marginLeft: 10 }}>{statusData[cam.id]?.lastError ? <><AlertTriangle size={10} /> {statusData[cam.id].lastError}</> : \"(Retry in 5s...)\"}</span></div>\r\n                    }\r\n\r\n                    <button\r\n                        onClick={fetchDeviceConfig}\r\n                        style={{\r\n                            background: \"rgba(255,255,255,0.05)\",\r\n                            border: \"1px solid #444\",\r\n                            color: \"#fff\",\r\n                            padding: \"4px 10px\",\r\n                            borderRadius: 4,\r\n                            cursor: \"pointer\",\r\n                            fontSize: 12,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            gap: 5\r\n                        }}\r\n                        disabled={syncing}\r\n                    >\r\n                        {syncing ? \"Syncing...\" : \" Refresh State\"}\r\n                    </button>\r\n                    <span style={{ color: \"#666\", fontSize: 11 }}>Auto-sync active (10s)</span>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: 20 }}>\r\n                    <div style={{ width: 160, height: 90, background: \"#000\", border: \"1px solid #444\", position: \"relative\" }}>\r\n                        <LivePreview camId={cam.id} active={true} />\r\n                    </div>\r\n                    <div style={{ flex: 1, position: \"relative\" }}>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 100px 120px 80px 80px\", gap: 10, fontSize: 12, fontWeight: \"bold\", marginBottom: 5, color: \"#aaa\" }}>\r\n                            <div></div><div>Codec</div><div>Resolution</div><div>GOP</div><div>FPS</div>\r\n                        </div>\r\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"100px 100px 120px 80px 80px\", gap: 10, marginBottom: 10, alignItems: \"center\" }}>\r\n                            <div style={{ color: cam.codec === \"H.265\" ? \"#ffa726\" : \"#4caf50\" }}>\r\n                                <input type=\"checkbox\" checked readOnly style={{ marginRight: 5 }} /> Video\r\n                                {cam.codec === \"H.265\" && <span title=\"WebRTC doesn't support H.265 natively\"> </span>}\r\n                            </div>\r\n\r\n                            <select style={styles.inputTable} value={cam.codec || \"H.264\"} onChange={e => handleRemoteChange(\"codec\", e.target.value)}>\r\n                                {caps?.codecs?.map(c => <option key={c} value={c}>{c}</option>) || <option>H.264</option>}\r\n                            </select>\r\n\r\n                            <select style={styles.inputTable} value={cam.resolution} onChange={e => handleRemoteChange(\"resolution\", e.target.value)}>\r\n                                {caps?.resolutions?.map(r => (\r\n                                    <option key={`${r.width}x${r.height}`} value={`${r.width}x${r.height}`}>\r\n                                        {r.label}\r\n                                    </option>\r\n                                )) || <option>{cam.resolution}</option>}\r\n                            </select>\r\n\r\n                            <input style={styles.inputTable}\r\n                                type=\"number\"\r\n                                value={cam.gop || 20}\r\n                                min={caps?.gopRange?.min || 1}\r\n                                max={caps?.gopRange?.max || 400}\r\n                                onChange={e => updateCam(cam.id, \"gop\", e.target.value)}\r\n                                onBlur={e => handleRemoteChange(\"gop\", e.target.value)}\r\n                            />\r\n\r\n                            <select style={styles.inputTable} value={cam.fps || 25} onChange={e => handleRemoteChange(\"fps\", e.target.value)}>\r\n                                {caps?.fps?.map(f => <option key={f} value={f}>{f} fps</option>) || <option>{cam.fps} fps</option>}\r\n                            </select>\r\n                        </div>\r\n                        {cam.codec === \"H.265\" && (\r\n                            <div style={{ color: \"#ffa726\", fontSize: 11, marginTop: 5 }}>\r\n                                <AlertTriangle size={10} /> Camera is in H.265 mode. Switch to H.264 for better grid performance and browser compatibility.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ChannelSettingsSection({\r\n    cam, cams, setCams, setSelection, availableModules, updateCam, saveAll\r\n}) {\r\n    const [activeZoneIdx, setActiveZoneIdx] = useState(0);\r\n    const [isDrawing, setIsDrawing] = useState(false);\r\n    const [roiPoints, setRoiPoints] = useState([]);\r\n\r\n    const camAI = cam.ai_server || {};\r\n    let zones = camAI.zones || [];\r\n    if (zones.length === 0 && camAI.roi && camAI.roi.length > 0) {\r\n        zones = [{ name: \"Default Zone\", points: camAI.roi, objects: camAI.objects || {} }];\r\n    }\r\n\r\n    const safeIdx = (activeZoneIdx >= zones.length) ? 0 : activeZoneIdx;\r\n    const activeZone = zones[safeIdx] || null;\r\n    const pointsToShow = isDrawing ? roiPoints : (activeZone?.points || []);\r\n\r\n    const silentSave = async (updatedCams) => {\r\n        try {\r\n            await API.post(\"/cameras/config\", updatedCams);\r\n        } catch (e) {\r\n            console.error(\"Silent save failed\", e);\r\n            alert(\"Error saving settings: \" + e.message);\r\n        }\r\n    };\r\n\r\n    const handleSaveZonePoints = () => {\r\n        setIsDrawing(false);\r\n        const newZones = [...zones];\r\n        if (!newZones[safeIdx]) return;\r\n        newZones[safeIdx] = { ...newZones[safeIdx], points: roiPoints };\r\n        const newConf = { ...camAI, zones: newZones, enabled: true };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleAddZone = () => {\r\n        const newName = `Zone ${zones.length + 1}`;\r\n        const newZones = [...zones, { name: newName, points: [], objects: {} }];\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        setActiveZoneIdx(newZones.length - 1);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleDeleteZone = () => {\r\n        if (!activeZone) return;\r\n        if (!window.confirm(`Delete ${activeZone.name}?`)) return;\r\n        const newZones = zones.filter((_, i) => i !== safeIdx);\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        setActiveZoneIdx(0);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    const handleObjectToggle = (objKey) => {\r\n        if (!activeZone) return;\r\n        const newObjs = { ...(activeZone.objects || {}), [objKey]: !activeZone.objects?.[objKey] };\r\n        const newZones = [...zones];\r\n        newZones[safeIdx] = { ...newZones[safeIdx], objects: newObjs };\r\n        const newConf = { ...camAI, zones: newZones };\r\n        const updatedCams = cams.map(c => c.id === cam.id ? { ...c, ai_server: newConf } : c);\r\n        setCams(updatedCams);\r\n        silentSave(updatedCams);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", marginBottom: 15 }}>\r\n                <h2 style={{ fontSize: 18, margin: 0, color: \"#fff\" }}>AI Zones: {cam.name || cam.ip}</h2>\r\n                <button onClick={() => setSelection({ type: \"CAMERA\", id: cam.id })} style={{ color: \"rgb(66, 165, 245)\", background: \"none\", border: \"none\", cursor: \"pointer\", fontSize: 13 }}>[Back] Back to Hardware Settings</button>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", gap: 20, height: 500 }}>\r\n                <div style={{ flex: 3, display: \"flex\", flexDirection: \"column\" }}>\r\n                    {/* FIXED ASPECT RATIO 16:9 to match Camera Stream and ensure Canvas overlay aligns perfectly */}\r\n                    <div style={{ width: \"100%\", aspectRatio: \"16/9\", border: \"2px solid #444\", borderRadius: 4, overflow: \"hidden\", background: \"#000\", position: \"relative\" }}>\r\n                        <Go2RTCPlayer camId={cam.id} style={videoStyle} streamType=\"hd\" />\r\n                        <div style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0, zIndex: 10 }}>\r\n                            {activeZone ? (\r\n                                <CanvasROI\r\n                                    points={pointsToShow}\r\n                                    onChange={isDrawing ? setRoiPoints : undefined}\r\n                                    readOnly={!isDrawing}\r\n                                    width={800} height={450}\r\n                                    otherZones={zones.filter((_, i) => i !== safeIdx)}\r\n                                />\r\n                            ) : (\r\n                                <div style={{ color: \"#fff\", position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%,-50%)\" }}>Select or Add a Zone</div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {activeZone && (\r\n                        <div style={{ marginTop: 10, display: \"flex\", gap: 10, padding: 8, background: \"#252526\", borderRadius: 4, border: \"1px solid #333\", alignItems: \"center\" }}>\r\n                            <span style={{ fontSize: 12, color: \"#aaa\", fontWeight: \"bold\", marginRight: 10 }}>Zone Actions:</span>\r\n                            {isDrawing ? (\r\n                                <>\r\n                                    <button style={{ ...styles.btnPrimary, background: \"#4caf50\" }} onClick={handleSaveZonePoints}>[SAVE] Save Area</button>\r\n                                    <button style={styles.btnToolbar} onClick={() => { setIsDrawing(false); setRoiPoints([]); }}>Cancel</button>\r\n                                </>\r\n                            ) : (\r\n                                <button style={{ ...styles.btnPrimary, background: \"#2196f3\" }} onClick={() => { setRoiPoints(activeZone.points || []); setIsDrawing(true); }}>[EDIT] Edit Area</button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div style={{ flex: 1, background: \"#1e1e1e\", border: \"1px solid #444\", padding: 15, display: \"flex\", flexDirection: \"column\" }}>\r\n                    <div style={{ marginBottom: 20, flex: 1, overflowY: \"auto\" }}>\r\n                        <div style={{ borderBottom: \"1px solid #444\", marginBottom: 15, paddingBottom: 15 }}>\r\n                            <h4 style={{ margin: \"0 0 10px 0\", color: colors.accent, fontSize: 13 }}>AI Configuration</h4>\r\n                            <div style={{ marginBottom: 15 }}>\r\n                                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 5 }}>\r\n                                    <label style={{ fontSize: 12, color: \"#aaa\" }}>Sensitivity: {(cam.ai_server?.sensitivity * 100 || 50).toFixed(0)}%</label>\r\n                                </div>\r\n                                <input\r\n                                    type=\"range\" min=\"0\" max=\"1\" step=\"0.05\"\r\n                                    value={cam.ai_server?.sensitivity || 0.5}\r\n                                    onChange={e => {\r\n                                        const next = { ...cam.ai_server, sensitivity: parseFloat(e.target.value) };\r\n                                        const updated = cams.map(c => c.id === cam.id ? { ...c, ai_server: next } : c);\r\n                                        setCams(updated); silentSave(updated);\r\n                                    }}\r\n                                    style={{ width: \"100%\", cursor: \"pointer\" }}\r\n                                />\r\n                                <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 10, color: \"#666\", marginTop: 4 }}>\r\n                                    <span>0% (Filtrare Maxim)</span>\r\n                                    <span>100% (Alert Maxim)</span>\r\n                                </div>\r\n                                <p style={{ fontSize: 11, color: \"#888\", marginTop: 8, lineHeight: \"1.4\" }}>\r\n                                    <b>0%:</b> Doar obiecte foarte clare. Reduce alarmele false (umbre, insecte).<br />\r\n                                    <b>100%:</b> Detecteaz orice micare suspect. Risc ridicat de alarme false.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 10 }}>\r\n                            <h4 style={{ margin: 0, color: \"#ddd\" }}>Detection Zones</h4>\r\n                            <button style={{ background: \"#4caf50\", color: \"#fff\", border: \"none\", borderRadius: 2, cursor: \"pointer\", padding: \"2px 8px\", fontSize: 16 }} onClick={handleAddZone}>+</button>\r\n                        </div>\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: 5 }}>\r\n                            {zones.map((z, idx) => (\r\n                                <div key={idx} onClick={() => { setActiveZoneIdx(idx); setIsDrawing(false); }}\r\n                                    style={{ padding: \"8px 10px\", background: idx === safeIdx ? \"#2196f3\" : \"#333\", color: \"#fff\", borderRadius: 3, cursor: \"pointer\", fontSize: 13, display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                    <span>{z.name}</span>\r\n                                    {idx === safeIdx && <button onClick={(e) => { e.stopPropagation(); handleDeleteZone(); }} style={{ background: \"transparent\", border: \"none\", color: \"#fff\", cursor: \"pointer\" }}></button>}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {activeZone && (\r\n                        <div style={{ borderTop: \"1px solid #444\", paddingTop: 15 }}>\r\n                            <h4 style={{ marginTop: 0, color: \"#ddd\", fontSize: 13 }}>Search Objects ({activeZone.name})</h4>\r\n                            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 8, marginTop: 10 }}>\r\n                                {(() => {\r\n                                    const currentModName = cam.ai_server?.module || \"ai_small\";\r\n                                    const modulesList = Array.isArray(availableModules) ? availableModules : [];\r\n                                    const currentMod = modulesList.find(m => m.name === currentModName);\r\n                                    const displayClasses = currentMod?.classes?.length > 0 ? currentMod.classes : [\"person\", \"car\", \"truck\"];\r\n                                    return displayClasses.map(obj => (\r\n                                        <label key={obj} style={{ display: \"flex\", alignItems: \"center\", color: \"#ccc\", fontSize: 13, cursor: \"pointer\" }}>\r\n                                            <input type=\"checkbox\" checked={activeZone.objects?.[obj] || false} onChange={() => handleObjectToggle(obj)} style={{ marginRight: 8 }} />\r\n                                            {obj}\r\n                                        </label>\r\n                                    ));\r\n                                })()}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={{ borderTop: \"1px solid #444\", marginTop: 15, paddingTop: 15 }}>\r\n                        <h4 style={{ margin: \"0 0 10px 0\", color: \"#ddd\", fontSize: 13 }}>Recording Setup</h4>\r\n                        <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: 10, cursor: \"pointer\", color: \"#ccc\", fontSize: 13 }}>\r\n                            <input type=\"checkbox\" checked={cam.record !== false} onChange={e => {\r\n                                const updatedCams = cams.map(c => c.id === cam.id ? { ...c, record: e.target.checked } : c);\r\n                                setCams(updatedCams); silentSave(updatedCams);\r\n                            }} style={{ marginRight: 8 }} />\r\n                            Enable Recording\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { RefreshCw, SettingsIcon, Trash } from \"../../components/Icons\";\r\n\r\nconst styles = {\r\n    btnPrimary: { marginRight: 10, padding: \"6px 20px\", background: \"#007acc\", color: \"white\", border: \"none\", borderRadius: 2, fontSize: 13, cursor: \"pointer\", fontWeight: \"bold\" },\r\n    th: { textAlign: \"left\", borderBottom: \"1px solid #444\", padding: 8, color: \"#ccc\" },\r\n    td: { padding: 8, borderBottom: \"1px solid #333\", color: \"#ddd\" },\r\n};\r\n\r\nexport function SystemLogsSection() {\r\n    const [logs, setLogs] = useState([]);\r\n\r\n    const parseLogs = (data) => {\r\n        if (!data) return [];\r\n        let parsed = data;\r\n        if (typeof data === 'string') {\r\n            try { parsed = JSON.parse(data); } catch (e) { return []; }\r\n        }\r\n        if (!Array.isArray(parsed)) return [];\r\n\r\n        return parsed.map((evt, i) => {\r\n            let name = evt?.type || \"Unknown Event\";\r\n            if (evt?.detections?.length > 0) {\r\n                const classes = [...new Set(evt.detections.map(d => d.class || d.label))];\r\n                name = classes.join(\", \").toUpperCase();\r\n            }\r\n            return {\r\n                id: i + 1,\r\n                rawId: evt.id || i,\r\n                name,\r\n                camera: evt.camera_name || evt.cameraId || \"N/A\",\r\n                date: evt.timestamp ? new Date(evt.timestamp).toLocaleString() : \"Unknown\"\r\n            };\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchLogs = () => {\r\n            API.get(\"/status/logs\").then(res => setLogs(parseLogs(res.data))).catch(e => console.error(e));\r\n        };\r\n        fetchLogs();\r\n        const interval = setInterval(fetchLogs, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ padding: 20, height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n            <h2 style={{ fontSize: 18, color: \"#fff\", marginBottom: 20 }}>System Logs</h2>\r\n            <div style={{ flex: 1, background: \"#1e1e1e\", border: \"1px solid #444\", overflowY: \"auto\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 13 }}>\r\n                    <thead>\r\n                        <tr style={{ background: \"#252526\", position: \"sticky\", top: 0 }}>\r\n                            <th style={{ ...styles.th, width: 60 }}>#</th>\r\n                            <th style={styles.th}>Event Name</th>\r\n                            <th style={styles.th}>Camera</th>\r\n                            <th style={{ ...styles.th, width: 180 }}>Date & Time</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {logs.map(log => (\r\n                            <tr key={log.rawId} style={{ borderBottom: \"1px solid #333\" }}>\r\n                                <td style={{ ...styles.td, color: \"#888\", textAlign: \"center\" }}>{log.id}</td>\r\n                                <td style={{ ...styles.td, fontWeight: \"bold\", color: \"#4caf50\" }}>{log.name}</td>\r\n                                <td style={{ ...styles.td, color: \"#ddd\" }}>{log.camera}</td>\r\n                                <td style={{ ...styles.td, color: \"#aaa\" }}>{log.date}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ServiceMaintenanceSection({ services, onRestartStack }) {\r\n    return (\r\n        <div style={{ padding: 30, background: \"#141414\", minHeight: \"100%\" }}>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 30, background: \"#252526\", padding: \"15px 25px\", borderRadius: 8, border: \"1px solid #333\" }}>\r\n                <h2 style={{ fontSize: 22, margin: 0, color: \"#fff\" }}>Service Maintenance</h2>\r\n                <button onClick={onRestartStack} style={{ background: \"#ff9800\", color: \"#111\", border: \"none\", padding: \"8px 20px\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n                    RESTART STACK\r\n                </button>\r\n            </div>\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 30 }}>\r\n                <div>\r\n                    <div style={{ fontSize: 12, fontWeight: 700, color: \"#888\", marginBottom: 15, textTransform: \"uppercase\" }}>Critical Services</div>\r\n                    {services.map(s => (\r\n                        <div key={s.name} style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, marginBottom: 15, borderLeft: `4px solid ${s.status === \"Running\" ? \"#4caf50\" : \"#f44336\"}` }}>\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                                <div>\r\n                                    <div style={{ fontSize: 15, fontWeight: \"bold\", color: \"#ddd\" }}>{s.label}</div>\r\n                                    <div style={{ fontSize: 12, color: \"#777\" }}>{s.details}</div>\r\n                                </div>\r\n                                <div style={{ background: s.status === \"Running\" ? \"rgba(76,175,80,0.1)\" : \"rgba(244,67,54,0.1)\", color: s.status === \"Running\" ? \"#4caf50\" : \"#f44336\", padding: \"4px 10px\", borderRadius: 20, fontSize: 11 }}>{s.status}</div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div>\r\n                    <div style={{ fontSize: 12, fontWeight: 700, color: \"#888\", marginBottom: 15, textTransform: \"uppercase\" }}>Diagnostics</div>\r\n                    <div style={{ display: \"grid\", gap: 15 }}>\r\n                        <div onClick={() => window.open(`http://${window.location.hostname}:1984/`, '_blank')} style={{ background: \"#1e1e1e\", padding: 20, borderRadius: 8, border: \"1px solid #333\", cursor: \"pointer\" }}>\r\n                            <div style={{ fontWeight: \"bold\", color: \"#eee\" }}>Go2RTC Dashboard</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function RebootSection() {\r\n    const handleReboot = async () => {\r\n        if (!window.confirm(\"ATENTIUNE! Sigur reporniti serverul?\")) return;\r\n        try {\r\n            await API.post(\"/status/reboot\");\r\n            alert(\"Comanda executata.\");\r\n        } catch (e) { alert(\"Eroare: \" + e.message); }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Mentenanta - Server</h2>\r\n            <div style={{ background: \"#252526\", padding: 25, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <h3 style={{ color: \"#f44336\" }}>Reboot Server</h3>\r\n                <p style={{ color: \"#aaa\" }}>Aceasta actiune va reporni complet sistemul hardware.</p>\r\n                <button style={{ ...styles.btnPrimary, background: \"#f44336\" }} onClick={handleReboot}>Reboot Complet Server</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { API } from \"../../api\";\r\nimport { styles, colors } from \"../../theme\";\r\n\r\nexport default function CameraEditModal({\r\n    editCam, setEditCam, manufacturers, models, caps, onClose, onSave\r\n}) {\r\n    const [probing, setProbing] = useState(false);\r\n    const [probeResults, setProbeResults] = useState(null);\r\n\r\n    const handleProbe = async () => {\r\n        setProbing(true);\r\n        try {\r\n            const res = await API.post(\"cameras/probe\", editCam);\r\n            setProbeResults(res.data);\r\n            if (res.data.manufacturer) setEditCam(prev => ({ ...prev, manufacturer: res.data.manufacturer }));\r\n            if (res.data.model) setEditCam(prev => ({ ...prev, model: res.data.model }));\r\n        } catch (e) {\r\n            alert(\"Probe Failed: \" + (e.response?.data?.error || e.message));\r\n        } finally {\r\n            setProbing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ position: \"fixed\", top: 0, left: 0, right: 0, bottom: 0, background: \"rgba(0,0,0,0.8)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 1000 }}>\r\n            <div style={{ background: \"#252526\", width: 600, borderRadius: 6, border: \"1px solid #444\", overflow: \"hidden\", display: \"flex\", flexDirection: \"column\", maxHeight: \"90vh\" }}>\r\n                <div style={{ background: \"#333\", padding: \"15px 20px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", borderBottom: \"1px solid #444\" }}>\r\n                    <h3 style={{ margin: 0, color: \"#fff\", fontSize: 16 }}>Connection Setup: {editCam.ip}</h3>\r\n                    <button onClick={onClose} style={{ background: \"none\", border: \"none\", color: \"#aaa\", cursor: \"pointer\", fontSize: 20 }}>&times;</button>\r\n                </div>\r\n\r\n                <div style={{ padding: 25, overflowY: \"auto\" }}>\r\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20, marginBottom: 20 }}>\r\n                        <div><label style={styles.label}>IP Address</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.ip} onChange={e => setEditCam({ ...editCam, ip: e.target.value })} /></div>\r\n                        <div><label style={styles.label}>Control Port</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.port} onChange={e => setEditCam({ ...editCam, port: e.target.value })} /></div>\r\n                    </div>\r\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20, marginBottom: 20 }}>\r\n                        <div><label style={styles.label}>User</label><input style={{ ...styles.input, width: \"100%\" }} value={editCam.user} onChange={e => setEditCam({ ...editCam, user: e.target.value })} /></div>\r\n                        <div><label style={styles.label}>Password</label><input type=\"password\" style={{ ...styles.input, width: \"100%\" }} value={editCam.pass} onChange={e => setEditCam({ ...editCam, pass: e.target.value })} /></div>\r\n                    </div>\r\n                    <div style={{ marginBottom: 20 }}>\r\n                        <label style={styles.label}>Manufacturer</label>\r\n                        <select style={{ ...styles.input, width: \"100%\", maxWidth: \"100%\" }} value={editCam.manufacturer} onChange={e => setEditCam({ ...editCam, manufacturer: e.target.value })}>\r\n                            <option value=\"\">Select...</option>\r\n                            {manufacturers.map(m => <option key={m} value={m}>{m}</option>)}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div style={{ border: \"1px solid #444\", padding: 15, borderRadius: 4, background: \"#1e1e1e\" }}>\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 10 }}>\r\n                            <span style={{ fontWeight: \"bold\", fontSize: 13, color: \"#ddd\" }}>Auto-Discovery & Probing</span>\r\n                            <button onClick={handleProbe} disabled={probing} style={{ background: colors.info, color: \"#fff\", border: \"none\", padding: \"4px 12px\", borderRadius: 2, cursor: \"pointer\", fontSize: 12 }}>\r\n                                {probing ? \"Probing...\" : \"Test Connection & Find Streams\"}\r\n                            </button>\r\n                        </div>\r\n                        {probeResults && (\r\n                            <div style={{ fontSize: 12, color: \"#4caf50\", background: \"rgba(76,175,80,0.1)\", padding: 8, borderRadius: 2 }}>\r\n                                <b>Probe Success!</b> Camera detected as {probeResults.model}. Found {probeResults.channels?.length} potential channel(s).\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ background: \"#333\", padding: \"15px 20px\", display: \"flex\", justifyContent: \"flex-end\", borderTop: \"1px solid #444\" }}>\r\n                    <button style={styles.btnToolbar} onClick={onClose}>Anuleaza</button>\r\n                    <button style={styles.btnPrimary} onClick={onSave}>Salveaza Configuraia</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { API } from \"../api\";\r\n\r\n// Design System & Components\r\nimport { colors, styles } from \"../theme\";\r\nimport ScheduleEditor from \"../components/ScheduleInput\";\r\nimport ArmingMatrix from \"../components/ArmingMatrix\";\r\nimport Status from \"./Status\";\r\nimport CameraWizard from \"./CameraWizard\";\r\n\r\n// Icons\r\nimport {\r\n    Trash, Edit, SettingsIcon, Lock, AlertTriangle, Save,\r\n    Camera, Video, Archive, ChevronRight, RefreshCw\r\n} from \"../components/Icons\";\r\n\r\n// Modularized Sections\r\nimport {\r\n    NetworkInterfaceSection,\r\n    VPNSettingsSection,\r\n    DispatchFailoverSection,\r\n    SystemPortsSection\r\n} from \"../sections/settings/NetworkSection\";\r\n\r\nimport {\r\n    AddUserSection,\r\n    UserSettingsSection\r\n} from \"../sections/settings/SecuritySection\";\r\n\r\nimport {\r\n    OrphansSection,\r\n    ArchiveSettingsSection\r\n} from \"../sections/settings/StorageSection\";\r\n\r\nimport { AISection } from \"../sections/settings/AISection\";\r\n\r\nimport {\r\n    IPDevicesRootSection,\r\n    CameraSettingsSection,\r\n    ChannelSettingsSection\r\n} from \"../sections/settings/HardwareSection\";\r\n\r\nimport {\r\n    SystemLogsSection,\r\n    ServiceMaintenanceSection,\r\n    RebootSection\r\n} from \"../sections/settings/MaintenanceSection\";\r\n\r\nimport CameraEditModal from \"../sections/settings/CameraEditModal\";\r\n\r\n// Hook for fetching models (Shared)\r\nfunction useModels() {\r\n    const [data, setData] = useState({ manufacturers: [], models: {}, capabilities: {} });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        API.get(\"/models\")\r\n            .then(res => {\r\n                const mfgList = res.data.manufacturers.map(m => m.name).sort();\r\n                const modelMap = res.data.manufacturers.reduce((acc, m) => {\r\n                    acc[m.name] = m.models;\r\n                    return acc;\r\n                }, {});\r\n\r\n                API.get(\"/models/capabilities\").then(capRes => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: capRes.data || {} });\r\n                    setLoading(false);\r\n                }).catch(() => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: {} });\r\n                    setLoading(false);\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(\"Failed to load models\", e);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return { ...data, loading };\r\n}\r\n\r\nexport default function Settings() {\r\n    const location = useLocation();\r\n    // --- STATE ---\r\n    const [selection, setSelection] = useState({ type: \"SYSTEM\", id: null, subTab: \"SERVER\" });\r\n    const [expanded, setExpanded] = useState({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n\r\n    // Core Data\r\n    const [cams, setCams] = useState([]);\r\n    const [statusData, setStatusData] = useState({});\r\n    const [services, setServices] = useState([]);\r\n    const { manufacturers: MANUFACTURERS, models: MODELS, capabilities: CAPABILITIES } = useModels();\r\n    const [availableModules, setAvailableModules] = useState([]);\r\n\r\n    // Network & Environment\r\n    const [networkConfig, setNetworkConfig] = useState({ mode: \"dhcp\", ip: \"\", netmask: \"\", gateway: \"\", dns1: \"\", dns2: \"\", edgeName: \"DSS-SMART GUARD\" });\r\n    const [netConfig, setNetConfig] = useState({});\r\n\r\n    // User Management\r\n    const [mockUsers, setMockUsers] = useState([]);\r\n    const [currentUser, setCurrentUser] = useState(() => {\r\n        const saved = localStorage.getItem(\"edge_user\");\r\n        if (saved) {\r\n            try { return JSON.parse(saved); } catch (e) { }\r\n        }\r\n        return { name: \"Guest\", role: \"operator\", id: -1 };\r\n    });\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [newUserForm, setNewUserForm] = useState({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n    const [isEditingTitle, setIsEditingTitle] = useState(false);\r\n\r\n    // Arming State\r\n    const [armingSchedules, setArmingSchedules] = useState([]);\r\n    const [armingAssignments, setArmingAssignments] = useState({});\r\n    const [armingModes, setArmingModes] = useState({});\r\n    const [armingLabels, setArmingLabels] = useState({});\r\n\r\n    // Modal State\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [editCam, setEditCam] = useState({});\r\n\r\n    // --- DATA LOADING ---\r\n    const loadCams = useCallback(() => {\r\n        API.get(\"/cameras/config\").then(res => setCams(res.data)).catch(e => console.error(e));\r\n        API.get(\"/cameras/config\").then(res => {\r\n            const map = {};\r\n            if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n            setStatusData(map);\r\n        }).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadServices = useCallback(() => {\r\n        API.get(\"status/services\").then(res => setServices(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadUsers = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"auth/users\");\r\n            if (Array.isArray(res.data)) {\r\n                setMockUsers(res.data.map(u => ({\r\n                    id: u.id || u.username,\r\n                    name: u.username,\r\n                    icon: u.role === 'admin' ? \"[A]\" : \"[O]\",\r\n                    role: u.role,\r\n                    menus: u.menus || []\r\n                })));\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    }, []);\r\n\r\n    const loadNetwork = useCallback(() => {\r\n        API.get(\"/network/config\").then(res => setNetworkConfig(prev => ({ ...prev, ...res.data }))).catch(e => console.error(e));\r\n        API.get(\"/network/all\").then(res => setNetConfig(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadArming = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"/arming/data\");\r\n            setArmingSchedules(res.data.schedules || []);\r\n            setArmingAssignments(res.data.assignments || {});\r\n            setArmingModes(res.data.modes || {});\r\n            setArmingLabels(res.data.labels || {});\r\n        } catch (e) { console.error(\"Failed to load arming data\", e); }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadCams();\r\n        loadServices();\r\n        loadUsers();\r\n        loadNetwork();\r\n        loadArming();\r\n\r\n        API.get(\"/ai/modules\").then(res => setAvailableModules(Array.isArray(res.data) ? res.data : [])).catch(() => setAvailableModules([]));\r\n\r\n        const user = localStorage.getItem(\"edge_user\");\r\n        if (user) {\r\n            try { setCurrentUser(JSON.parse(user)); } catch (e) { }\r\n        }\r\n\r\n        // --- DEEP LINKING LOGIC ---\r\n        const params = new URLSearchParams(location.search);\r\n        const tab = params.get(\"tab\");\r\n        const camId = params.get(\"camId\");\r\n\r\n        if (tab === \"hardware\" && camId) {\r\n            setSelection({ type: \"CAMERA\", id: camId });\r\n            setExpanded(prev => ({ ...prev, HARDWARE: true, IP_DEVICES: true }));\r\n        } else if (tab === \"channels\" && camId) {\r\n            setSelection({ type: \"CHANNEL\", id: camId });\r\n            setExpanded(prev => ({ ...prev, CHANNELS: true }));\r\n        } else if (tab === \"arming\") {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n            setSelection({ type: \"ARMING_MATRIX\" });\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            API.get(\"/cameras/config\").then(res => {\r\n                const map = {};\r\n                if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n                setStatusData(map);\r\n            }).catch(e => console.error(e));\r\n            loadServices();\r\n            loadNetwork();\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, [loadCams, loadServices, loadUsers, loadNetwork, loadArming, location.search]);\r\n\r\n    // --- AUTO-EXPAND SIDEBAR & SCROLL ---\r\n    useEffect(() => {\r\n        if (!selection) return;\r\n\r\n        // 1. Expand relevant parent menus (Clean and enforce single-open rule)\r\n        if (selection.type === \"CAMERA\" || selection.type === \"IP_DEVICES_ROOT\" || selection.type === \"ARCHIVE\" || selection.type === \"WIZARD\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: true, IP_DEVICES: selection.type === \"CAMERA\", NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n        } else if (selection.type === \"CHANNEL\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: true, ARMING: false });\r\n        } else if (selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"SYSTEM\" || selection.type === \"AI_HUB\" || selection.type === \"ORPHANS\" || selection.type === \"SYSTEM_LOGS\") {\r\n            const isSettingsSub = selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\" || selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\";\r\n\r\n            setExpanded({\r\n                SETTINGS: true,\r\n                HARDWARE: false,\r\n                USERS: (selection.type === \"USER\" || selection.type === \"ADD_USER\"),\r\n                MAINTENANCE: (selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\"),\r\n                NETWORK: (selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\"),\r\n                IP_DEVICES: false, CHANNELS: false, ARMING: false\r\n            });\r\n        }\r\n        else if (selection.type.startsWith(\"ARMING\")) {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n        } else if ([\"SYSTEM\", \"AI_HUB\", \"ADD_USER\", \"USER\", \"ORPHANS\", \"MAINTENANCE_SERVICES\", \"MAINTENANCE_REBOOT\", \"SYSTEM_LOGS\", \"NETWORK_INTERFACE\", \"NETWORK_VPN\", \"NETWORK_SERVER\", \"NETWORK_PORTS\"].includes(selection.type)) {\r\n            setExpanded(prev => ({ ...prev, SETTINGS: true }));\r\n            if (selection.type === \"ADD_USER\" || selection.type === \"USER\") setExpanded(prev => ({ ...prev, USERS: true }));\r\n            if (selection.type.startsWith(\"MAINTENANCE\")) setExpanded(prev => ({ ...prev, MAINTENANCE: true }));\r\n            if (selection.type.startsWith(\"NETWORK\")) setExpanded(prev => ({ ...prev, NETWORK: true }));\r\n        }\r\n\r\n        // 2. Scroll into view (defer and slightly wait for render)\r\n        setTimeout(() => {\r\n            const activeId = selection.type === \"CHANNEL\" ? `sidebar_ch_${selection.id}` :\r\n                selection.type === \"CAMERA\" ? `sidebar_hw_${selection.id}` :\r\n                    selection.type === \"USER\" ? `sidebar_user_${selection.id}` : null;\r\n\r\n            if (activeId) {\r\n                const el = document.getElementById(activeId);\r\n                if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\r\n            }\r\n        }, 150);\r\n    }, [selection.type, selection.id]);\r\n\r\n\r\n    // --- HANDLERS ---\r\n    const saveAllCams = async (updated) => {\r\n        try { await API.post(\"/cameras/config\", updated || cams); loadCams(); }\r\n        catch (e) { alert(\"Error saving: \" + e.message); }\r\n    };\r\n\r\n    const updateCam = (id, field, value) => {\r\n        const next = cams.map(c => c.id === id ? { ...c, [field]: value } : c);\r\n        setCams(next);\r\n    };\r\n\r\n    const deleteCam = async (id) => {\r\n        if (!window.confirm(\"Delete camera?\")) return;\r\n        try { await API.delete(`/cameras/${id}`); setSelection({ type: \"IP_DEVICES_ROOT\" }); loadCams(); }\r\n        catch (e) { alert(\"Error deleting: \" + e.message); }\r\n    };\r\n\r\n    const handleAddUser = async () => {\r\n        if (newUserForm.password !== newUserForm.confirm) return alert(\"Nu corespund parolele!\");\r\n        try {\r\n            await API.post(\"/auth/users\", newUserForm);\r\n            alert(\"Utilizator creat!\");\r\n            setNewUserForm({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare: \" + e.message); }\r\n    };\r\n\r\n    const handleDeleteUser = async (username) => {\r\n        if (!window.confirm(`Sunteti sigur ca stergeti utilizatorul ${username}?`)) return;\r\n        try {\r\n            await API.delete(`/auth/users/${username}`);\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare stergere: \" + e.message); }\r\n    };\r\n\r\n    const handleRestartStack = async () => {\r\n        if (!window.confirm(\"Restart critical services?\")) return;\r\n        try { await API.post(\"/status/restart-stack\"); alert(\"Command sent.\"); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // Arming Handlers\r\n    const handleSaveSchedules = async (newSchedules) => {\r\n        try { await API.post(\"/arming/schedules\", newSchedules); setArmingSchedules(newSchedules); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleToggleSchedule = async (idx, isEnabled) => {\r\n        const updated = [...armingSchedules];\r\n        if (updated[idx]) { updated[idx] = { ...updated[idx], enabled: !isEnabled }; await handleSaveSchedules(updated); }\r\n    };\r\n    const handleSaveAssignments = async (newAssignments) => {\r\n        try { await API.post(\"/arming/assignments\", newAssignments); setArmingAssignments(newAssignments); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveModes = async (newModes) => {\r\n        try { await API.post(\"/arming/modes\", newModes); setArmingModes(prev => ({ ...prev, ...newModes })); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveLabels = async (newLabels) => {\r\n        try { await API.post(\"/arming/labels\", newLabels); setArmingLabels(prev => ({ ...prev, ...newLabels })); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // --- RENDER HELPERS ---\r\n    const toggleExpand = (key) => setExpanded(prev => {\r\n        const isCurrentlyOpen = prev[key];\r\n        // Reset all\r\n        const next = { SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false };\r\n\r\n        const settingsSub = [\"USERS\", \"NETWORK\", \"MAINTENANCE\"];\r\n\r\n        if (settingsSub.includes(key)) {\r\n            next.SETTINGS = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"IP_DEVICES\") {\r\n            next.HARDWARE = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"SETTINGS\" || key === \"HARDWARE\" || key === \"CHANNELS\" || key === \"ARMING\") {\r\n            // Main groups\r\n            next[key] = !isCurrentlyOpen;\r\n        } else {\r\n            next[key] = !isCurrentlyOpen;\r\n        }\r\n        return next;\r\n    });\r\n    const hasAccess = (menuId) => currentUser.role === 'admin' || (currentUser.menus && currentUser.menus.includes(menuId));\r\n\r\n    const renderContent = () => {\r\n        switch (selection.type) {\r\n            case \"SYSTEM\": return <Status />;\r\n            case \"AI_HUB\": return <AISection />;\r\n            case \"NETWORK_INTERFACE\": return <NetworkInterfaceSection networkConfig={networkConfig} setNetworkConfig={setNetworkConfig} saveNetwork={() => API.post(\"/network/config\", networkConfig).then(() => alert(\"Saved\"))} />;\r\n            case \"NETWORK_VPN\": return (\r\n                <VPNSettingsSection\r\n                    netConfig={netConfig}\r\n                    setNetConfig={setNetConfig}\r\n                    connectVPN={async (iface) => {\r\n                        const prefix = iface;\r\n                        const payload = {\r\n                            interface: iface,\r\n                            address: netConfig[`${prefix}_address`],\r\n                            privateKey: netConfig[`${prefix}_privateKey`],\r\n                            publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                            endpoint: netConfig[`${prefix}_endpoint`],\r\n                            allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                            persistentKeepalive: 25\r\n                        };\r\n                        try {\r\n                            const res = await API.post(\"/vpn/setup-wireguard\", payload);\r\n                            alert(res.data.message || \"VPN Command Sent!\");\r\n                            loadNetwork();\r\n                        } catch (e) { alert(\"VPN Error: \" + (e.response?.data?.error || e.message)); }\r\n                    }}\r\n                    saveImportedVPN={async (bundle) => {\r\n                        try {\r\n                            // Save Management (WG0)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg0\",\r\n                                address: bundle.mgmt.interface.address,\r\n                                privateKey: bundle.mgmt.interface.privateKey,\r\n                                publicKey: bundle.mgmt.peer.publicKey,\r\n                                endpoint: bundle.mgmt.peer.endpoint,\r\n                                allowedIps: bundle.mgmt.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Save AI (WG1)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg1\",\r\n                                address: bundle.ai.interface.address,\r\n                                privateKey: bundle.ai.interface.privateKey,\r\n                                publicKey: bundle.ai.peer.publicKey,\r\n                                endpoint: bundle.ai.peer.endpoint,\r\n                                allowedIps: bundle.ai.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Update Dispatch URL for events\r\n                            // Check if we have a way to save dispatch URL from import? \r\n                            // Usually it's just the VPN endpoint IP, but let's stick to VPN for now.\r\n\r\n                            alert(\"Configuraia VPN Dual a fost aplicat cu succes! Sistemul se conecteaz...\");\r\n                            loadNetwork();\r\n                        } catch (e) {\r\n                            alert(\"Eroare la salvarea VPN: \" + e.message);\r\n                        }\r\n                    }}\r\n                    connectDualVPN={async () => {\r\n                        const interfaces = [\"wg0\", \"wg1\"];\r\n                        let successCount = 0;\r\n                        for (const iface of interfaces) {\r\n                            const prefix = iface;\r\n                            const payload = {\r\n                                interface: iface,\r\n                                address: netConfig[`${prefix}_address`],\r\n                                privateKey: netConfig[`${prefix}_privateKey`],\r\n                                publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                                endpoint: netConfig[`${prefix}_endpoint`],\r\n                                allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                                persistentKeepalive: 25\r\n                            };\r\n                            if (!payload.privateKey || !payload.publicKey) continue;\r\n                            try {\r\n                                await API.post(\"/vpn/setup-wireguard\", payload);\r\n                                successCount++;\r\n                            } catch (e) { console.error(`Failed to start ${iface}`, e); }\r\n                        }\r\n                        if (successCount > 0) {\r\n                            alert(`Comand trimis pentru ${successCount} interfee.`);\r\n                            loadNetwork();\r\n                        } else {\r\n                            alert(\"Nu s-au gsit date complete pentru ambele interfee.\");\r\n                        }\r\n                    }}\r\n                />\r\n            );\r\n            case \"NETWORK_SERVER\": return <DispatchFailoverSection netConfig={netConfig} setNetConfig={setNetConfig} saveDispatch={() => API.post(\"/dispatch\", { url: netConfig.dispatchUrl }).then(() => alert(\"Dispatch URL saved! Events will now be sent to this server.\"))} />;\r\n            case \"NETWORK_PORTS\": return <SystemPortsSection />;\r\n            case \"ADD_USER\": return <AddUserSection newUserForm={newUserForm} setNewUserForm={setNewUserForm} handleAddUser={handleAddUser} />;\r\n            case \"USER\": {\r\n                const u = selectedUser || mockUsers.find(x => x.id === selection.id);\r\n                return u ? <UserSettingsSection selectedUser={u} setSelectedUser={(updated) => { setMockUsers(prev => prev.map(x => x.id === updated.id ? updated : x)); setSelectedUser(updated); }} currentUser={currentUser} handleDeleteUser={handleDeleteUser} loadUsers={loadUsers} /> : null;\r\n            }\r\n            case \"ORPHANS\": return <OrphansSection />;\r\n            case \"ARCHIVE\": return <ArchiveSettingsSection cams={cams} />;\r\n            case \"IP_DEVICES_ROOT\": return <IPDevicesRootSection cams={cams} statusData={statusData} onSelectCam={(id) => setSelection({ type: \"CAMERA\", id })} onEditCam={(c) => { setEditCam(c); setIsEditModalOpen(true); }} onDeleteCam={deleteCam} />;\r\n            case \"CAMERA\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                return <CameraSettingsSection cam={cam} statusData={statusData} updateCam={updateCam} saveAll={saveAllCams} deleteCam={deleteCam} openEditModal={(c) => { setEditCam(c); setIsEditModalOpen(true); }} setSelection={setSelection} />;\r\n            }\r\n            case \"CHANNEL\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                return <ChannelSettingsSection cam={cam} cams={cams} setCams={setCams} setSelection={setSelection} availableModules={availableModules} updateCam={updateCam} saveAll={saveAllCams} />;\r\n            }\r\n            case \"SYSTEM_LOGS\": return <SystemLogsSection />;\r\n            case \"MAINTENANCE_SERVICES\": return <ServiceMaintenanceSection services={services} onRestartStack={handleRestartStack} />;\r\n            case \"MAINTENANCE_REBOOT\": return <RebootSection />;\r\n            case \"WIZARD\": return <CameraWizard\r\n                onUpdate={loadCams}\r\n                onFinish={() => { loadCams(); setSelection({ type: \"IP_DEVICES_ROOT\" }); }}\r\n                onOpenSetup={(newCam) => { setEditCam(newCam || {}); setIsEditModalOpen(true); }}\r\n            />;\r\n            case \"ARMING_SCHEDULES\": return <ScheduleEditor schedules={armingSchedules} onSave={handleSaveSchedules} />;\r\n            case \"ARMING_MATRIX\": return <ArmingMatrix schedules={armingSchedules} cams={cams} assignments={armingAssignments} modes={armingModes} labels={armingLabels} onSave={handleSaveAssignments} onSaveModes={handleSaveModes} onSaveLabels={handleSaveLabels} onToggleSchedule={handleToggleSchedule} />;\r\n            default: return <div style={{ padding: 20 }}>Select an item from the sidebar</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.main}>\r\n                {/* SIDEBAR */}\r\n                <div style={styles.sidebar}>\r\n                    <div style={{ padding: 10, borderBottom: `1px solid ${colors.border}`, fontWeight: \"bold\", cursor: \"pointer\" }} onDoubleClick={() => setIsEditingTitle(true)}>\r\n                        {isEditingTitle ? (\r\n                            <input\r\n                                autoFocus\r\n                                value={networkConfig.edgeName}\r\n                                onChange={(e) => setNetworkConfig({ ...networkConfig, edgeName: e.target.value })}\r\n                                onBlur={() => { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); }}\r\n                                onKeyDown={(e) => { if (e.key === 'Enter') { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); } }}\r\n                                style={{ width: \"100%\", background: \"#333\", color: \"#fff\", border: \"1px solid #007acc\", padding: \"2px 5px\", borderRadius: 2 }}\r\n                            />\r\n                        ) : (networkConfig.edgeName || \"DSS-SMART GUARD\")}\r\n                    </div>\r\n\r\n                    {/* SETARI SISTEM GROUP */}\r\n                    <div onClick={() => toggleExpand(\"SETTINGS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#222\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5, borderTop: \"1px solid #444\", color: \"#aaa\" }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.SETTINGS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> SETARI SISTEM\r\n                    </div>\r\n                    {expanded.SETTINGS && (\r\n                        <div style={{ background: \"#1a1a1a\", borderBottom: \"1px solid #333\" }}>\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"SYSTEM\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM\" ? \"#094771\" : \"transparent\" }}>Status Sistem</div>}\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"AI_HUB\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"AI_HUB\" ? \"#094771\" : \"transparent\" }}>AI Engine Hub</div>}\r\n\r\n                            {hasAccess(\"USERS\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"USERS\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.USERS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Utilizatori\r\n                                    </div>\r\n                                    {expanded.USERS && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"ADD_USER\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, background: selection.type === \"ADD_USER\" ? \"#333\" : \"transparent\" }}>+ Adauga Utilizator</div>\r\n                                            {mockUsers.map(u => (\r\n                                                <div key={u.id} id={`sidebar_user_${u.id}`} onClick={() => { setSelection({ type: \"USER\", id: u.id }); setSelectedUser(u); }} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"USER\" && selection.id === u.id) ? \"#333\" : \"transparent\" }}>{u.name}</div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"ORPHANS\") && <div onClick={() => setSelection({ type: \"ORPHANS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"ORPHANS\" ? \"#094771\" : \"transparent\", display: \"flex\", alignItems: \"center\" }}><Trash size={14} style={{ marginRight: 5 }} /> Camere Sterse</div>}\r\n\r\n                            {hasAccess(\"MAINTENANCE\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"MAINTENANCE\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.MAINTENANCE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Mentenanta\r\n                                    </div>\r\n                                    {expanded.MAINTENANCE && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_SERVICES\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_SERVICES\" ? \"#333\" : \"transparent\" }}>Stare Servicii</div>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_REBOOT\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_REBOOT\" ? \"#333\" : \"transparent\" }}>Repornire</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"SYSTEM_LOGS\") && <div onClick={() => setSelection({ type: \"SYSTEM_LOGS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM_LOGS\" ? \"#094771\" : \"transparent\" }}>LOGS</div>}\r\n\r\n                            {hasAccess(\"NETWORK\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"NETWORK\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.NETWORK ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Retea\r\n                                    </div>\r\n                                    {expanded.NETWORK && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_INTERFACE\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_INTERFACE\" ? \"#333\" : \"transparent\" }}>Interfata</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_VPN\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_VPN\" ? \"#333\" : \"transparent\" }}>VPN</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_SERVER\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_SERVER\" ? \"#333\" : \"transparent\" }}>Evenimente Server</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_PORTS\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_PORTS\" ? \"#333\" : \"transparent\" }}>Porturi Sistem</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* HARDWARE GROUP */}\r\n                    {(hasAccess(\"HARDWARE\") || hasAccess(\"ARCHIVE\")) && (\r\n                        <div onClick={() => toggleExpand(\"HARDWARE\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                            <ChevronRight size={14} style={{ transform: expanded.HARDWARE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Hardware\r\n                        </div>\r\n                    )}\r\n                    {expanded.HARDWARE && (\r\n                        <>\r\n                            {hasAccess(\"HARDWARE\") && (\r\n                                <>\r\n                                    <div onClick={() => { toggleExpand(\"IP_DEVICES\"); setSelection({ type: \"IP_DEVICES_ROOT\" }); }} style={{ ...styles.subItem, background: selection.type === \"IP_DEVICES_ROOT\" ? \"#094771\" : \"transparent\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.IP_DEVICES ? \"rotate(90deg)\" : \"rotate(0deg)\", marginRight: 5 }} /> Dispozitive IP\r\n                                    </div>\r\n                                    <div onClick={() => setSelection({ type: \"WIZARD\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, fontWeight: \"bold\", background: selection.type === \"WIZARD\" ? \"#094771\" : \"transparent\" }}>+ Adauga Camera (WIZARD)</div>\r\n                                    {expanded.IP_DEVICES && cams.map(c => {\r\n                                        const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                        return (\r\n                                            <div key={\"hw_\" + c.id} id={`sidebar_hw_${c.id}`} onClick={() => setSelection({ type: \"CAMERA\", id: c.id })} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"CAMERA\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                                <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                                <Camera size={14} style={{ marginRight: 5 }} /> {c.name || c.ip}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </>\r\n                            )}\r\n                            {hasAccess(\"ARCHIVE\") && <div onClick={() => setSelection({ type: \"ARCHIVE\" })} style={{ ...styles.subItem, background: selection.type === \"ARCHIVE\" ? \"#094771\" : \"transparent\" }}><Archive size={14} style={{ marginRight: 5 }} /> Arhiva</div>}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* CANALE GROUP */}\r\n                    {hasAccess(\"HARDWARE\") && (\r\n                        <>\r\n                            <div onClick={() => toggleExpand(\"CHANNELS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                                <ChevronRight size={14} style={{ transform: expanded.CHANNELS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Canale\r\n                            </div>\r\n                            {expanded.CHANNELS && cams.map(c => {\r\n                                const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                return (\r\n                                    <div key={\"ch_\" + c.id} id={`sidebar_ch_${c.id}`} onClick={() => setSelection({ type: \"CHANNEL\", id: c.id })} style={{ ...styles.subItem, background: (selection.type === \"CHANNEL\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                        <Video size={14} style={{ marginRight: 5 }} /> {c.name || c.ip} - D1\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* ARMARE GROUP */}\r\n                    <div onClick={() => toggleExpand(\"ARMING\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.ARMING ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Armare\r\n                    </div>\r\n                    {expanded.ARMING && (\r\n                        <div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_SCHEDULES\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_SCHEDULES\" ? \"#094771\" : \"transparent\" }}>Definire Orar</div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_MATRIX\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_MATRIX\" ? \"#094771\" : \"transparent\" }}>Matrice Armare</div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: \"auto\", padding: 20 }}>\r\n                        <div style={{ fontSize: 10, color: \"#666\", textAlign: \"center\", marginBottom: 10, fontFamily: \"monospace\" }}>\r\n                            UI REVISION: 2026.01.08.1125<br />\r\n                            (AI SCALE + AUTO-COLLAPSE SIDEBAR)\r\n                        </div>\r\n                        <button style={{ ...styles.btnPrimary, background: colors.danger, width: \"100%\", marginRight: 0 }} onClick={() => { localStorage.removeItem(\"edge_user\"); window.location.reload(); }}>LOGOUT</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CONTENT AREA */}\r\n                <div style={styles.content}>\r\n                    {renderContent()}\r\n                </div>\r\n            </div>\r\n\r\n            {isEditModalOpen && (\r\n                <CameraEditModal\r\n                    editCam={editCam}\r\n                    setEditCam={setEditCam}\r\n                    manufacturers={MANUFACTURERS}\r\n                    onClose={() => setIsEditModalOpen(false)}\r\n                    onSave={async () => {\r\n                        try {\r\n                            if (editCam.id && cams.some(c => c.id === editCam.id)) {\r\n                                const updated = cams.map(c => c.id === editCam.id ? editCam : c);\r\n                                await API.post(\"/cameras/config\", updated);\r\n                            } else {\r\n                                await API.post(\"/cameras/add\", editCam);\r\n                                setSelection({ type: \"IP_DEVICES_ROOT\" }); // Redirect to list after add\r\n                            }\r\n                            setIsEditModalOpen(false);\r\n                            loadCams();\r\n                        } catch (e) {\r\n                            alert(\"Save Error: \" + (e.response?.data?.error || e.message));\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\n// Common props: size, color\r\nconst IconBase = ({ size = 16, color = \"currentColor\", children, style, ...props }) => (\r\n    <svg\r\n        width={size}\r\n        height={size}\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke={color}\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        style={{ display: \"inline-block\", verticalAlign: \"middle\", ...style }}\r\n        {...props}\r\n    >\r\n        {children}\r\n    </svg>\r\n);\r\n\r\nexport const Trash = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const Edit = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n        <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const SettingsIcon = (props) => (\r\n    <IconBase {...props}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n        <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path>\r\n    </IconBase>\r\n);\r\nexport const Settings = SettingsIcon;\r\n\r\nexport const Lock = (props) => (\r\n    <IconBase {...props}>\r\n        <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\r\n        <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const AlertTriangle = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\r\n        <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\r\n        <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\n    </IconBase>\r\n);\r\n\r\nexport const Save = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\r\n        <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\r\n        <polyline points=\"7 3 7 8 15 8\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Camera = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"></path>\r\n        <circle cx=\"12\" cy=\"13\" r=\"4\"></circle>\r\n    </IconBase>\r\n);\r\n\r\nexport const Video = (props) => (\r\n    <IconBase {...props}>\r\n        <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n        <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n    </IconBase>\r\n);\r\n\r\nexport const Archive = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"21 8 21 21 3 21 3 8\"></polyline>\r\n        <rect x=\"1\" y=\"3\" width=\"22\" height=\"5\"></rect>\r\n        <line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\"></line>\r\n    </IconBase>\r\n);\r\n\r\nexport const RefreshCw = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"23 4 23 10 17 10\"></polyline>\r\n        <polyline points=\"1 20 1 14 7 14\"></polyline>\r\n        <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path>\r\n    </IconBase>\r\n);\r\n\r\nexport const ChevronRight = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Maximize = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\" />\r\n    </IconBase>\r\n);\r\n\r\nexport const Minimize = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7\" />\r\n    </IconBase>\r\n);\r\n\r\nexport const Circle = (props) => (\r\n    <IconBase {...props}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n    </IconBase>\r\n);\r\n\r\nexport const Activity = (props) => (\r\n    <IconBase {...props}>\r\n        <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline>\r\n    </IconBase>\r\n);\r\n\r\nexport const Shield = (props) => (\r\n    <IconBase {...props}>\r\n        <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"></path>\r\n    </IconBase>\r\n);\r\n","import axios from \"axios\";\r\n\r\n// Use relative path or detect Proxy base\r\nlet baseURL = \"\";\r\nif (typeof window !== 'undefined') {\r\n    // Check for proxy in full URL (HashRouter compatibility)\r\n    const match = window.location.href.match(/(\\/api\\/proxy\\/[^\\/]+)/);\r\n    if (match) {\r\n        baseURL = match[1];\r\n    } else if (window.location.hash.includes(\"#/\")) {\r\n        // Fallback for local dev or direct access\r\n        baseURL = \"\";\r\n    }\r\n}\r\n\r\nconst API = axios.create({\r\n    baseURL: baseURL\r\n});\r\n\r\nexport { API, baseURL };\r\nexport default API;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\n\r\nexport default function Go2RTCPlayer({ camId, streamType = 'hd', style, onClick, onDoubleClick, isHidden }) {\r\n    const videoRef = useRef(null);\r\n    const pcRef = useRef(null);\r\n    const [status, setStatus] = useState(\"init\");\r\n    const [activeStreamType, setActiveStreamType] = useState(streamType);\r\n\r\n    useEffect(() => {\r\n        setActiveStreamType(streamType);\r\n    }, [streamType]);\r\n\r\n    const suffix = activeStreamType === 'low' ? 'sub' : activeStreamType;\r\n    const streamName = `${camId}_${suffix}`;\r\n\r\n    useEffect(() => {\r\n        if (isHidden) return;\r\n\r\n        const connectWebRTC = async () => {\r\n            setStatus(\"connecting\");\r\n            if (pcRef.current) pcRef.current.close();\r\n\r\n            const pc = new RTCPeerConnection({\r\n                iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }]\r\n            });\r\n            pcRef.current = pc;\r\n\r\n            pc.ontrack = (event) => {\r\n                if (videoRef.current) {\r\n                    videoRef.current.srcObject = event.streams[0];\r\n                    videoRef.current.play().catch(() => { });\r\n                    setStatus(\"playing\");\r\n                }\r\n            };\r\n\r\n            pc.addTransceiver('video', { direction: 'recvonly' });\r\n\r\n            try {\r\n                const offer = await pc.createOffer();\r\n                await pc.setLocalDescription(offer);\r\n\r\n                const apiUrl = `/rtc/api/webrtc?src=${streamName}`;\r\n                const res = await fetch(apiUrl, { method: 'POST', body: pc.localDescription.sdp });\r\n\r\n                if (!res.ok) throw new Error(`Status ${res.status}`);\r\n\r\n                const answerSdp = await res.text();\r\n                if (pcRef.current && pcRef.current.signalingState !== 'closed') {\r\n                    await pc.setRemoteDescription(new RTCSessionDescription({ type: 'answer', sdp: answerSdp }));\r\n                }\r\n            } catch (e) {\r\n                console.warn(`[WebRTC] Failed ${streamName}:`, e.message);\r\n                if (activeStreamType === 'low' || activeStreamType === 'sub') {\r\n                    setActiveStreamType('hd');\r\n                } else {\r\n                    setStatus(\"failed\");\r\n                }\r\n            }\r\n        };\r\n\r\n        if (camId) connectWebRTC();\r\n\r\n        return () => {\r\n            if (pcRef.current) { pcRef.current.close(); pcRef.current = null; }\r\n        };\r\n    }, [camId, activeStreamType, streamName, isHidden]);\r\n\r\n    return (\r\n        <div className=\"rtc-player\" style={{ ...style, position: \"relative\", background: \"#000\", width: \"100%\", height: \"100%\", overflow: \"hidden\" }}\r\n            onClick={onClick} onDoubleClick={onDoubleClick}>\r\n            <div style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}>\r\n                <video\r\n                    className=\"rtc-player-el\"\r\n                    ref={videoRef}\r\n                    style={{ width: \"100%\", height: \"100%\", objectFit: \"fill\", display: \"block\" }}\r\n                    playsInline muted autoPlay\r\n                />\r\n            </div>\r\n            {status === 'connecting' && (\r\n                <div style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", color: \"rgba(255,255,255,0.4)\", fontSize: 10, zIndex: 2 }}>\r\n                    Connecting...\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["IconCpu","_jsx","style","marginRight","children","IconGpu","IconRam","IconNet","IconHdd","Status","_info$disk","_info$disk2","_hwInfo$network","info","setInfo","useState","hwInfo","setHwInfo","loadingHw","setLoadingHw","useEffect","async","res","API","get","data","err","console","error","load","interval","setInterval","then","catch","clearInterval","padding","textAlign","color","className","width","height","background","borderRadius","animation","ram","total","free","ramUsed","ramTotalGB","toFixed","ramUsedGB","ramPct","Math","round","cpuVal","cpu","Array","isArray","gpuVal","gpuLoad","diskPct","disk","usedPercent","_jsxs","minHeight","fontFamily","display","justifyContent","alignItems","marginBottom","borderBottom","paddingBottom","gap","fontSize","margin","fontWeight","letterSpacing","marginTop","floor","uptime","ActionButton","label","onClick","window","confirm","post","alert","gridTemplateColumns","KPICard","title","value","unit","pct","icon","sub","concat","split","trim","gpu","avail","flexDirection","SectionCard","borderCollapse","TableRow","motherboard","highlight","kernel","os","hwRes","border","cursor","modules","Object","entries","map","_ref","name","installed","borderLeft","textTransform","replace","storageMap","network","length","net","i","brand","mac","paddingLeft","dns","join","LogButton","href","defaults","baseURL","warning","_ref2","transition","onMouseEnter","e","target","parseInt","slice","onMouseLeave","React","_ref3","borderTop","boxShadow","lineHeight","marginLeft","min","whiteSpace","overflow","textOverflow","_ref4","_ref5","opacity","_ref6","rel","textDecoration","RecorderPlayer","camId","streamType","videoRef","useRef","hlsRef","hlsUrl","setHlsUrl","setError","loading","setLoading","mode","url","startsWith","video","current","initHls","Hls","isSupported","destroy","hls","enableWorker","lowLatencyMode","backBufferLength","loadSource","attachMedia","on","Events","MANIFEST_PARSED","play","warn","ERROR","event","fatal","type","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","canPlayType","src","addEventListener","script","document","createElement","onload","head","appendChild","_objectSpread","position","ref","objectFit","autoPlay","muted","playsInline","top","left","right","bottom","DAYS","schedules","onSave","localSchedules","setLocalSchedules","selectedId","setSelectedId","init","values","forEach","s","id","random","toString","substr","matrix","slots","d","fill","h","undefined","keys","newId","Date","now","mat","enabled","currentSchedule","toggleSlot","dayIndex","slotIndex","currentArr","fillDay","val","arr","prev","handleDelete","newS","handleSaveAll","flex","handleCreate","newSch","overflowY","onChange","from","_","day","dIdx","paddingRight","paddingTop","_currentSchedule$matr","_currentSchedule$matr2","s1","s2","borderRight","onMouseDown","buttons","cams","assignments","modes","labels","onSaveModes","onSaveLabels","onToggleSchedule","localAssignments","setLocalAssignments","localModes","setLocalModes","localLabels","setLocalLabels","fontStyle","key","updated","toggleMode","scheds","k","v","sch","realIdx","days","intervals","start","end","cam","ip","handleAssign","maxWidth","m","theme","CameraWizard","onFinish","onUpdate","onOpenSetup","scannedDevices","setScannedDevices","scanning","setScanning","savedCameras","setSavedCameras","loadSaved","timeout","disabled","dev","isAdded","some","c","user","pass","manufacturer","handleSelectDevice","model","handleManualAdd","overflowX","minWidth","stopPropagation","delete","_e$response","_e$response$data","response","message","connected","styles","sectionHeader","formGrid","input","btnPrimary","btnToolbar","table","th","td","inputTable","InterfaceSettings","networkConfig","setNetworkConfig","saveNetwork","ifaceTab","setIfaceTab","isManual","interfaces","availableInterfaces","activeIface","syncToInterface","iface","idx","interface","netmask","gateway","dns1","dns2","sel","handleTabClick","family","checked","pointerEvents","placeholder","VPNSettings","netConfig","setNetConfig","connectVPN","connectDualVPN","saveImportedVPN","vpnTab","setVpnTab","prefix","getConf","setConf","status","isConnected","includes","Lock","size","toUpperCase","accept","file","files","reader","FileReader","bundle","JSON","parse","result","mgmt","ai","Error","newCfg","wg0_address","address","wg0_privateKey","privateKey","wg0_serverPubKey","peer","publicKey","wg0_endpoint","endpoint","wg0_allowedIps","allowedIps","wg1_address","wg1_privateKey","wg1_serverPubKey","wg1_endpoint","wg1_allowedIps","readAsText","getElementById","click","DispatchSettings","saveDispatch","syncing","setSyncing","dispatchUrl","vpn_status","wg1_status","SystemPortsSection","AddUserSection","newUserForm","setNewUserForm","handleAddUser","username","password","UserSettingsSection","selectedUser","setSelectedUser","currentUser","handleDeleteUser","loadUsers","readOnly","role","_selectedUser$menus","menus","menuId","next","filter","toggleMenu","put","OrphansSection","orphans","setOrphans","navigate","useNavigate","o","uuid","birthtime","toLocaleString","colSpan","ArchiveSettingsSection","_stats$storage","_stats$storage2","stats","setStats","fetchStats","recordStream","retention","cameras","main","storage","storagePath","physicalPath","toPascalCase","string","camelCase","match","p1","p2","toLowerCase","toCamelCase","charAt","mergeClasses","_len","arguments","classes","_key","index","array","Boolean","indexOf","defaultAttributes","xmlns","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","forwardRef","absoluteStrokeWidth","iconNode","rest","_objectWithoutProperties","_excluded","Number","props","prop","hasA11yProp","tag","attrs","createLucideIcon","iconName","Component","displayName","Cpu","x","y","rx","Shield","Activity","TriangleAlert","RefreshCw","Save","AISection","activeTab","setActiveTab","setCameras","selectedCamera","setSelectedCamera","TabButton","active","HubSettings","AntiSpamSettings","_config$false_detecti","_config$false_detecti2","_config$false_detecti3","_config$false_detecti4","_config$event_manager","_config$false_detecti5","selectedCam","setSelectedCam","config","setConfig","saving","setSaving","loadCameras","loadStats","loadConfig","_res$data","updateFilter","false_detection_filter","StatBox","tracked_objects","events_today","false_zones","uptime_seconds","motion_only","detection_count_before_ignore","stability_frames","AlertTriangle","event_manager","cooldown_seconds","updateEvent","min_displacement_pixels","hubUrl","save","videoStyle","LivePreview","Go2RTCPlayer","CanvasROI","points","otherZones","containerRef","canvasRef","dims","setDims","w","draggingIdx","setDraggingIdx","obs","ResizeObserver","entry","contentRect","observe","disconnect","canvas","ctx","getContext","clearRect","drawZone","pts","beginPath","moveTo","lineTo","closePath","strokeStyle","fillStyle","lineWidth","p","arc","PI","z","safePoints","handleMouseUp","zIndex","nativeEvent","offsetX","offsetY","nx","max","ny","hitIdx","findIndex","px","py","sqrt","onMouseMove","newPoints","onMouseUp","IPDevicesRootSection","statusData","onEditCam","onSelectCam","onDeleteCam","_statusData$c$id","_statusData$c$id2","_statusData$c$id3","fps","toLocaleTimeString","Edit","SettingsIcon","Trash","CameraSettingsSection","_statusData$cam$id","_statusData$cam$id2","_statusData$cam$id3","_caps$codecs","_caps$resolutions","_caps$gopRange","_caps$gopRange2","_caps$fps","updateCam","saveAll","deleteCam","openEditModal","setSelection","caps","setCaps","fetchDeviceConfig","capabilities","codec","gop","resolution","timer","handleRemoteChange","log","setTimeout","onBlur","port","location","alignSelf","lastError","_Fragment","codecs","resolutions","r","gopRange","f","ChannelSettingsSection","_cam$ai_server","_cam$ai_server2","setCams","availableModules","activeZoneIdx","setActiveZoneIdx","isDrawing","setIsDrawing","roiPoints","setRoiPoints","camAI","ai_server","zones","roi","objects","safeIdx","activeZone","pointsToShow","silentSave","updatedCams","aspectRatio","transform","handleSaveZonePoints","newZones","newConf","colors","accent","sensitivity","step","parseFloat","handleAddZone","newName","handleDeleteZone","_cam$ai_server3","_currentMod$classes","currentModName","module","currentMod","find","obj","_activeZone$objects2","objKey","_activeZone$objects","newObjs","handleObjectToggle","record","SystemLogsSection","logs","setLogs","fetchLogs","parsed","evt","_evt$detections","detections","Set","class","rawId","camera","camera_name","cameraId","date","timestamp","parseLogs","ServiceMaintenanceSection","services","onRestartStack","details","open","hostname","RebootSection","CameraEditModal","_probeResults$channel","editCam","setEditCam","manufacturers","models","onClose","probing","setProbing","probeResults","setProbeResults","maxHeight","channels","Settings","useLocation","selection","subTab","expanded","setExpanded","SETTINGS","HARDWARE","IP_DEVICES","NETWORK","USERS","MAINTENANCE","CHANNELS","ARMING","setStatusData","setServices","MANUFACTURERS","MODELS","CAPABILITIES","setData","mfgList","sort","modelMap","reduce","acc","capRes","useModels","setAvailableModules","edgeName","mockUsers","setMockUsers","setCurrentUser","saved","localStorage","getItem","isEditingTitle","setIsEditingTitle","armingSchedules","setArmingSchedules","armingAssignments","setArmingAssignments","armingModes","setArmingModes","armingLabels","setArmingLabels","isEditModalOpen","setIsEditModalOpen","loadCams","useCallback","loadServices","u","loadNetwork","loadArming","params","URLSearchParams","search","tab","activeId","el","scrollIntoView","behavior","block","saveAllCams","field","handleRestartStack","handleSaveSchedules","newSchedules","handleToggleSchedule","isEnabled","handleSaveAssignments","newAssignments","handleSaveModes","newModes","handleSaveLabels","newLabels","toggleExpand","isCurrentlyOpen","hasAccess","container","sidebar","onDoubleClick","autoFocus","onKeyDown","ChevronRight","subItem","success","isOnline","Camera","Archive","_statusData$c$id4","Video","danger","removeItem","reload","content","renderContent","NetworkInterfaceSection","VPNSettingsSection","payload","persistentKeepalive","successCount","DispatchFailoverSection","newCam","ScheduleEditor","ArmingMatrix","_e$response2","_e$response2$data","IconBase","verticalAlign","cx","cy","ry","x1","y1","x2","y2","Maximize","Minimize","hash","axios","create","isHidden","pcRef","setStatus","activeStreamType","setActiveStreamType","suffix","streamName","close","pc","RTCPeerConnection","iceServers","urls","ontrack","srcObject","streams","addTransceiver","direction","offer","createOffer","setLocalDescription","apiUrl","fetch","method","body","localDescription","sdp","ok","answerSdp","text","signalingState","setRemoteDescription","RTCSessionDescription","connectWebRTC","t","n","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable"],"ignoreList":[],"sourceRoot":""}