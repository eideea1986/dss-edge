{"version":3,"file":"static/js/66.9a658b32.chunk.js","mappings":"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","sources":["pages/Login.js","api.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { API } from \"../api\";\r\nimport { colors } from \"../theme\";\r\n\r\nexport default function Login() {\r\n    const [creds, setCreds] = useState({ username: \"\", password: \"\" });\r\n    const [error, setError] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    const from = location.state?.from?.pathname || \"/settings\";\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await API.post(\"/auth/login\", creds);\r\n            if (res.data.success) {\r\n                // Store minimal session info\r\n                localStorage.setItem(\"edge_user\", JSON.stringify(res.data.user));\r\n                navigate(from, { replace: true });\r\n            }\r\n        } catch (err) {\r\n            setError(\"Date incorecte\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\",\r\n            background: colors.bg, color: colors.text, fontFamily: \"Segoe UI, sans-serif\"\r\n        }}>\r\n            <form onSubmit={handleLogin} style={{\r\n                background: colors.panel, padding: 40, borderRadius: 8, border: `1px solid ${colors.border}`,\r\n                width: 300, display: \"flex\", flexDirection: \"column\", gap: 15\r\n            }}>\r\n                <h2 style={{ textAlign: \"center\", marginBottom: 20 }}>Autentificare</h2>\r\n\r\n                {error && <div style={{ color: \"#f44336\", textAlign: \"center\", fontSize: 13 }}>{error}</div>}\r\n\r\n                <div>\r\n                    <label style={{ display: \"block\", fontSize: 12, marginBottom: 5, color: \"#aaa\" }}>Utilizator</label>\r\n                    <input\r\n                        autoFocus\r\n                        value={creds.username}\r\n                        onChange={e => setCreds({ ...creds, username: e.target.value })}\r\n                        style={{ width: \"100%\", padding: 10, background: \"#222\", border: \"1px solid #444\", color: \"#fff\", borderRadius: 4 }}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label style={{ display: \"block\", fontSize: 12, marginBottom: 5, color: \"#aaa\" }}>ParolÄƒ</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={creds.password}\r\n                        onChange={e => setCreds({ ...creds, password: e.target.value })}\r\n                        style={{ width: \"100%\", padding: 10, background: \"#222\", border: \"1px solid #444\", color: \"#fff\", borderRadius: 4 }}\r\n                    />\r\n                </div>\r\n\r\n                <button type=\"submit\" style={{\r\n                    marginTop: 10, padding: 12, background: colors.primary, color: \"#fff\", border: \"none\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\"\r\n                }}>\r\n                    LOGIN\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\n\r\n// Use relative path or detect Proxy base\r\nlet baseURL = \"\";\r\nif (typeof window !== 'undefined') {\r\n    // Check for proxy in full URL (HashRouter compatibility)\r\n    const match = window.location.href.match(/(\\/api\\/proxy\\/[^\\/]+)/);\r\n    if (match) {\r\n        baseURL = match[1];\r\n    } else if (window.location.hash.includes(\"#/\")) {\r\n        // Fallback for local dev or direct access\r\n        baseURL = \"\";\r\n    }\r\n}\r\n\r\nconst API = axios.create({\r\n    baseURL: baseURL\r\n});\r\n\r\nexport { API, baseURL };\r\nexport default API;\r\n"],"names":["Login","_location$state","_location$state$from","creds","setCreds","useState","username","password","error","setError","navigate","useNavigate","from","useLocation","state","pathname","_jsx","style","height","display","justifyContent","alignItems","background","colors","bg","color","text","fontFamily","children","_jsxs","onSubmit","async","e","preventDefault","res","API","post","data","success","localStorage","setItem","JSON","stringify","user","replace","err","panel","padding","borderRadius","border","concat","width","flexDirection","gap","textAlign","marginBottom","fontSize","autoFocus","value","onChange","_objectSpread","target","type","marginTop","primary","cursor","fontWeight","baseURL","window","match","location","href","hash","includes","axios","create"],"ignoreList":[],"sourceRoot":""}