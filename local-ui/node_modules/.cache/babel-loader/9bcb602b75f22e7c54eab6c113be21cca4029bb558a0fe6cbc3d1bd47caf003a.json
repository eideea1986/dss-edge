{"ast":null,"code":"import _objectSpread from\"I:/dispecerat/github_release/dss-edge/local-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from\"react\";import{useLocation}from\"react-router-dom\";import{API}from\"../api\";// Design System & Components\nimport{colors,styles}from\"../theme\";import ScheduleEditor from\"../components/ScheduleInput\";import ArmingMatrix from\"../components/ArmingMatrix\";import Status from\"./Status\";import CameraWizard from\"./CameraWizard\";// Icons\nimport{Trash,Edit,SettingsIcon,Lock,AlertTriangle,Save,Camera,Video,Archive,ChevronRight,RefreshCw}from\"../components/Icons\";// Modularized Sections\nimport{NetworkInterfaceSection,VPNSettingsSection,DispatchFailoverSection,SystemPortsSection}from\"../sections/settings/NetworkSection\";import{AddUserSection,UserSettingsSection}from\"../sections/settings/SecuritySection\";import{OrphansSection,ArchiveSettingsSection}from\"../sections/settings/StorageSection\";import{AISection}from\"../sections/settings/AISection\";import{IPDevicesRootSection,CameraSettingsSection,ChannelSettingsSection}from\"../sections/settings/HardwareSection\";import{SystemLogsSection,ServiceMaintenanceSection,RebootSection,TimeSettingsSection}from\"../sections/settings/MaintenanceSection\";import CameraEditModal from\"../sections/settings/CameraEditModal\";// Hook for fetching models (Shared)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function useModels(){const[data,setData]=useState({manufacturers:[],models:{},capabilities:{}});const[loading,setLoading]=useState(true);useEffect(()=>{API.get(\"/models\").then(res=>{const mfgList=res.data.manufacturers.map(m=>m.name).sort();const modelMap=res.data.manufacturers.reduce((acc,m)=>{acc[m.name]=m.models;return acc;},{});API.get(\"/models/capabilities\").then(capRes=>{setData({manufacturers:mfgList,models:modelMap,capabilities:capRes.data||{}});setLoading(false);}).catch(()=>{setData({manufacturers:mfgList,models:modelMap,capabilities:{}});setLoading(false);});}).catch(e=>{console.error(\"Failed to load models\",e);setLoading(false);});},[]);return _objectSpread(_objectSpread({},data),{},{loading});}export default function Settings(){const location=useLocation();// --- STATE ---\nconst[selection,setSelection]=useState({type:\"SYSTEM\",id:null,subTab:\"SERVER\"});const[expanded,setExpanded]=useState({SETTINGS:false,HARDWARE:false,IP_DEVICES:false,NETWORK:false,USERS:false,MAINTENANCE:false,CHANNELS:false,ARMING:false});// Core Data\nconst[cams,setCams]=useState([]);const[statusData,setStatusData]=useState({});const[services,setServices]=useState([]);const{manufacturers:MANUFACTURERS,models:MODELS,capabilities:CAPABILITIES}=useModels();const[availableModules,setAvailableModules]=useState([]);// Network & Environment\nconst[networkConfig,setNetworkConfig]=useState({mode:\"dhcp\",ip:\"\",netmask:\"\",gateway:\"\",dns1:\"\",dns2:\"\",edgeName:\"DSS-SMART GUARD\"});const[netConfig,setNetConfig]=useState({});// User Management\nconst[mockUsers,setMockUsers]=useState([]);const[currentUser,setCurrentUser]=useState(()=>{const saved=localStorage.getItem(\"edge_user\");if(saved){try{return JSON.parse(saved);}catch(e){}}return{name:\"Guest\",role:\"operator\",id:-1};});const[selectedUser,setSelectedUser]=useState(null);const[newUserForm,setNewUserForm]=useState({username:\"\",password:\"\",confirm:\"\",role:\"operator\"});const[isEditingTitle,setIsEditingTitle]=useState(false);// Arming State\nconst[armingSchedules,setArmingSchedules]=useState([]);const[armingAssignments,setArmingAssignments]=useState({});const[armingModes,setArmingModes]=useState({});const[armingLabels,setArmingLabels]=useState({});// Modal State\nconst[isEditModalOpen,setIsEditModalOpen]=useState(false);const[editCam,setEditCam]=useState({});// --- DATA LOADING ---\nconst loadCams=useCallback(()=>{API.get(\"/cameras/config\").then(res=>setCams(res.data)).catch(e=>console.error(e));API.get(\"/cameras/config\").then(res=>{const map={};if(Array.isArray(res.data))res.data.forEach(c=>map[c.id]=c);setStatusData(map);}).catch(e=>console.error(e));},[]);const loadServices=useCallback(()=>{API.get(\"status/services\").then(res=>setServices(res.data)).catch(e=>console.error(e));},[]);const loadUsers=useCallback(async()=>{try{const res=await API.get(\"auth/users\");if(Array.isArray(res.data)){setMockUsers(res.data.map(u=>({id:u.id||u.username,name:u.username,icon:u.role==='admin'?\"[A]\":\"[O]\",role:u.role,menus:u.menus||[]})));}}catch(e){console.error(e);}},[]);const loadNetwork=useCallback(()=>{API.get(\"/network/config\").then(res=>setNetworkConfig(prev=>_objectSpread(_objectSpread({},prev),res.data))).catch(e=>console.error(e));API.get(\"/network/all\").then(res=>setNetConfig(res.data)).catch(e=>console.error(e));},[]);const loadArming=useCallback(async()=>{try{const res=await API.get(\"/arming/data\");setArmingSchedules(res.data.schedules||[]);setArmingAssignments(res.data.assignments||{});setArmingModes(res.data.modes||{});setArmingLabels(res.data.labels||{});}catch(e){console.error(\"Failed to load arming data\",e);}},[]);useEffect(()=>{loadCams();loadServices();loadUsers();loadNetwork();loadArming();API.get(\"/ai/modules\").then(res=>setAvailableModules(Array.isArray(res.data)?res.data:[])).catch(()=>setAvailableModules([]));const user=localStorage.getItem(\"edge_user\");if(user){try{setCurrentUser(JSON.parse(user));}catch(e){}}// --- DEEP LINKING LOGIC ---\nconst params=new URLSearchParams(location.search);const tab=params.get(\"tab\");const camId=params.get(\"camId\");if(tab===\"hardware\"&&camId){setSelection({type:\"CAMERA\",id:camId});setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{HARDWARE:true,IP_DEVICES:true}));}else if(tab===\"channels\"&&camId){setSelection({type:\"CHANNEL\",id:camId});setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{CHANNELS:true}));}else if(tab===\"arming\"){setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{ARMING:true}));setSelection({type:\"ARMING_MATRIX\"});}const interval=setInterval(()=>{API.get(\"/cameras/config\").then(res=>{const map={};if(Array.isArray(res.data))res.data.forEach(c=>map[c.id]=c);setStatusData(map);}).catch(e=>console.error(e));loadServices();loadNetwork();},5000);return()=>clearInterval(interval);},[loadCams,loadServices,loadUsers,loadNetwork,loadArming,location.search]);// --- AUTO-EXPAND SIDEBAR & SCROLL ---\nuseEffect(()=>{if(!selection)return;// 1. Expand relevant parent menus (Clean and enforce single-open rule)\nif(selection.type===\"CAMERA\"||selection.type===\"IP_DEVICES_ROOT\"||selection.type===\"ARCHIVE\"||selection.type===\"WIZARD\"){setExpanded({SETTINGS:false,HARDWARE:true,IP_DEVICES:selection.type===\"CAMERA\",NETWORK:false,USERS:false,MAINTENANCE:false,CHANNELS:false,ARMING:false});}else if(selection.type===\"CHANNEL\"){setExpanded({SETTINGS:false,HARDWARE:false,IP_DEVICES:false,NETWORK:false,USERS:false,MAINTENANCE:false,CHANNELS:true,ARMING:false});}else if(selection.type===\"USER\"||selection.type===\"ADD_USER\"||selection.type===\"SYSTEM\"||selection.type===\"AI_HUB\"||selection.type===\"ORPHANS\"||selection.type===\"SYSTEM_LOGS\"){const isSettingsSub=selection.type===\"USER\"||selection.type===\"ADD_USER\"||selection.type===\"MAINTENANCE_SERVICES\"||selection.type===\"MAINTENANCE_REBOOT\"||selection.type===\"NETWORK_INTERFACE\"||selection.type===\"NETWORK_VPN\"||selection.type===\"NETWORK_SERVER\"||selection.type===\"NETWORK_PORTS\";setExpanded({SETTINGS:true,HARDWARE:false,USERS:selection.type===\"USER\"||selection.type===\"ADD_USER\",MAINTENANCE:selection.type===\"MAINTENANCE_SERVICES\"||selection.type===\"MAINTENANCE_REBOOT\",NETWORK:selection.type===\"NETWORK_INTERFACE\"||selection.type===\"NETWORK_VPN\"||selection.type===\"NETWORK_SERVER\"||selection.type===\"NETWORK_PORTS\",IP_DEVICES:false,CHANNELS:false,ARMING:false});}else if(selection.type.startsWith(\"ARMING\")){setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{ARMING:true}));}else if([\"SYSTEM\",\"AI_HUB\",\"ADD_USER\",\"USER\",\"ORPHANS\",\"MAINTENANCE_SERVICES\",\"MAINTENANCE_REBOOT\",\"SYSTEM_LOGS\",\"NETWORK_INTERFACE\",\"NETWORK_VPN\",\"NETWORK_SERVER\",\"NETWORK_PORTS\"].includes(selection.type)){setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{SETTINGS:true}));if(selection.type===\"ADD_USER\"||selection.type===\"USER\")setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{USERS:true}));if(selection.type.startsWith(\"MAINTENANCE\"))setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{MAINTENANCE:true}));if(selection.type.startsWith(\"NETWORK\"))setExpanded(prev=>_objectSpread(_objectSpread({},prev),{},{NETWORK:true}));}// 2. Scroll into view (defer and slightly wait for render)\nsetTimeout(()=>{const activeId=selection.type===\"CHANNEL\"?\"sidebar_ch_\".concat(selection.id):selection.type===\"CAMERA\"?\"sidebar_hw_\".concat(selection.id):selection.type===\"USER\"?\"sidebar_user_\".concat(selection.id):null;if(activeId){const el=document.getElementById(activeId);if(el)el.scrollIntoView({behavior:\"smooth\",block:\"nearest\"});}},150);},[selection.type,selection.id]);// --- HANDLERS ---\nconst saveAllCams=async updated=>{try{await API.post(\"/cameras/config\",updated||cams);loadCams();}catch(e){alert(\"Error saving: \"+e.message);}};const updateCam=(id,field,value)=>{const next=cams.map(c=>c.id===id?_objectSpread(_objectSpread({},c),{},{[field]:value}):c);setCams(next);};const deleteCam=async id=>{if(!window.confirm(\"Delete camera?\"))return;try{await API.delete(\"/cameras/\".concat(id));setSelection({type:\"IP_DEVICES_ROOT\"});loadCams();}catch(e){alert(\"Error deleting: \"+e.message);}};const handleAddUser=async()=>{if(newUserForm.password!==newUserForm.confirm)return alert(\"Nu corespund parolele!\");try{await API.post(\"/auth/users\",newUserForm);alert(\"Utilizator creat!\");setNewUserForm({username:\"\",password:\"\",confirm:\"\",role:\"operator\"});loadUsers();setSelection({type:\"SYSTEM\"});}catch(e){alert(\"Eroare: \"+e.message);}};const handleDeleteUser=async username=>{if(!window.confirm(\"Sunteti sigur ca stergeti utilizatorul \".concat(username,\"?\")))return;try{await API.delete(\"/auth/users/\".concat(username));loadUsers();setSelection({type:\"SYSTEM\"});}catch(e){alert(\"Eroare stergere: \"+e.message);}};const handleRestartStack=async()=>{if(!window.confirm(\"Restart critical services?\"))return;try{await API.post(\"/status/restart-stack\");alert(\"Command sent.\");}catch(e){alert(e.message);}};// Arming Handlers\nconst handleSaveSchedules=async newSchedules=>{try{await API.post(\"/arming/schedules\",newSchedules);setArmingSchedules(newSchedules);}catch(e){alert(e.message);}};const handleToggleSchedule=async(idx,isEnabled)=>{const updated=[...armingSchedules];if(updated[idx]){updated[idx]=_objectSpread(_objectSpread({},updated[idx]),{},{enabled:!isEnabled});await handleSaveSchedules(updated);}};const handleSaveAssignments=async newAssignments=>{try{await API.post(\"/arming/assignments\",newAssignments);setArmingAssignments(newAssignments);}catch(e){alert(e.message);}};const handleSaveModes=async newModes=>{try{await API.post(\"/arming/modes\",newModes);setArmingModes(prev=>_objectSpread(_objectSpread({},prev),newModes));}catch(e){alert(e.message);}};const handleSaveLabels=async newLabels=>{try{await API.post(\"/arming/labels\",newLabels);setArmingLabels(prev=>_objectSpread(_objectSpread({},prev),newLabels));}catch(e){alert(e.message);}};// --- RENDER HELPERS ---\nconst toggleExpand=key=>setExpanded(prev=>{const isCurrentlyOpen=prev[key];// Reset all\nconst next={SETTINGS:false,HARDWARE:false,IP_DEVICES:false,NETWORK:false,USERS:false,MAINTENANCE:false,CHANNELS:false,ARMING:false};const settingsSub=[\"USERS\",\"NETWORK\",\"MAINTENANCE\"];if(settingsSub.includes(key)){next.SETTINGS=true;// Keep parent open\nnext[key]=!isCurrentlyOpen;}else if(key===\"IP_DEVICES\"){next.HARDWARE=true;// Keep parent open\nnext[key]=!isCurrentlyOpen;}else if(key===\"SETTINGS\"||key===\"HARDWARE\"||key===\"CHANNELS\"||key===\"ARMING\"){// Main groups\nnext[key]=!isCurrentlyOpen;}else{next[key]=!isCurrentlyOpen;}return next;});const hasAccess=menuId=>currentUser.role==='admin'||currentUser.menus&&currentUser.menus.includes(menuId);const renderContent=()=>{switch(selection.type){case\"SYSTEM\":return/*#__PURE__*/_jsx(Status,{});case\"AI_HUB\":return/*#__PURE__*/_jsx(AISection,{});case\"NETWORK_INTERFACE\":return/*#__PURE__*/_jsx(NetworkInterfaceSection,{networkConfig:networkConfig,setNetworkConfig:setNetworkConfig,saveNetwork:()=>API.post(\"/network/config\",networkConfig).then(()=>alert(\"Saved\"))});case\"NETWORK_VPN\":return/*#__PURE__*/_jsx(VPNSettingsSection,{netConfig:netConfig,setNetConfig:setNetConfig,connectVPN:async iface=>{const prefix=iface;const payload={interface:iface,address:netConfig[\"\".concat(prefix,\"_address\")],privateKey:netConfig[\"\".concat(prefix,\"_privateKey\")],publicKey:netConfig[\"\".concat(prefix,\"_serverPubKey\")],endpoint:netConfig[\"\".concat(prefix,\"_endpoint\")],allowedIps:netConfig[\"\".concat(prefix,\"_allowedIps\")],persistentKeepalive:25};try{const res=await API.post(\"/vpn/setup-wireguard\",payload);alert(res.data.message||\"VPN Command Sent!\");loadNetwork();}catch(e){var _e$response,_e$response$data;alert(\"VPN Error: \"+(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||e.message));}},saveImportedVPN:async bundle=>{try{// Save Management (WG0)\nawait API.post(\"/vpn/setup-wireguard\",{interface:\"wg0\",address:bundle.mgmt.interface.address,privateKey:bundle.mgmt.interface.privateKey,publicKey:bundle.mgmt.peer.publicKey,endpoint:bundle.mgmt.peer.endpoint,allowedIps:bundle.mgmt.peer.allowedIps,persistentKeepalive:25});// Save AI (WG1)\nawait API.post(\"/vpn/setup-wireguard\",{interface:\"wg1\",address:bundle.ai.interface.address,privateKey:bundle.ai.interface.privateKey,publicKey:bundle.ai.peer.publicKey,endpoint:bundle.ai.peer.endpoint,allowedIps:bundle.ai.peer.allowedIps,persistentKeepalive:25});// Update Dispatch URL for events\n// Check if we have a way to save dispatch URL from import? \n// Usually it's just the VPN endpoint IP, but let's stick to VPN for now.\nalert(\"Configurația VPN Duală a fost aplicată cu succes! Sistemul se conectează...\");loadNetwork();}catch(e){alert(\"Eroare la salvarea VPN: \"+e.message);}},connectDualVPN:async()=>{const interfaces=[\"wg0\",\"wg1\"];let successCount=0;for(const iface of interfaces){const prefix=iface;const payload={interface:iface,address:netConfig[\"\".concat(prefix,\"_address\")],privateKey:netConfig[\"\".concat(prefix,\"_privateKey\")],publicKey:netConfig[\"\".concat(prefix,\"_serverPubKey\")],endpoint:netConfig[\"\".concat(prefix,\"_endpoint\")],allowedIps:netConfig[\"\".concat(prefix,\"_allowedIps\")],persistentKeepalive:25};if(!payload.privateKey||!payload.publicKey)continue;try{await API.post(\"/vpn/setup-wireguard\",payload);successCount++;}catch(e){console.error(\"Failed to start \".concat(iface),e);}}if(successCount>0){alert(\"Comand\\u0103 trimis\\u0103 pentru \".concat(successCount,\" interfe\\u021Be.\"));loadNetwork();}else{alert(\"Nu s-au găsit date complete pentru ambele interfețe.\");}}});case\"NETWORK_SERVER\":return/*#__PURE__*/_jsx(DispatchFailoverSection,{netConfig:netConfig,setNetConfig:setNetConfig,saveDispatch:()=>API.post(\"/dispatch\",{url:netConfig.dispatchUrl}).then(()=>alert(\"Dispatch URL saved! Events will now be sent to this server.\"))});case\"NETWORK_PORTS\":return/*#__PURE__*/_jsx(SystemPortsSection,{});case\"ADD_USER\":return/*#__PURE__*/_jsx(AddUserSection,{newUserForm:newUserForm,setNewUserForm:setNewUserForm,handleAddUser:handleAddUser});case\"USER\":{const u=selectedUser||mockUsers.find(x=>x.id===selection.id);return u?/*#__PURE__*/_jsx(UserSettingsSection,{selectedUser:u,setSelectedUser:updated=>{setMockUsers(prev=>prev.map(x=>x.id===updated.id?updated:x));setSelectedUser(updated);},currentUser:currentUser,handleDeleteUser:handleDeleteUser,loadUsers:loadUsers}):null;}case\"ORPHANS\":return/*#__PURE__*/_jsx(OrphansSection,{});case\"ARCHIVE\":return/*#__PURE__*/_jsx(ArchiveSettingsSection,{cams:cams});case\"IP_DEVICES_ROOT\":return/*#__PURE__*/_jsx(IPDevicesRootSection,{cams:cams,statusData:statusData,onSelectCam:id=>setSelection({type:\"CAMERA\",id}),onEditCam:c=>{setEditCam(c);setIsEditModalOpen(true);},onDeleteCam:deleteCam});case\"CAMERA\":{const cam=cams.find(c=>c.id===selection.id);return/*#__PURE__*/_jsx(CameraSettingsSection,{cam:cam,statusData:statusData,updateCam:updateCam,saveAll:saveAllCams,deleteCam:deleteCam,openEditModal:c=>{setEditCam(c);setIsEditModalOpen(true);},setSelection:setSelection});}case\"CHANNEL\":{const cam=cams.find(c=>c.id===selection.id);return/*#__PURE__*/_jsx(ChannelSettingsSection,{cam:cam,cams:cams,setCams:setCams,setSelection:setSelection,availableModules:availableModules,updateCam:updateCam,saveAll:saveAllCams});}case\"SYSTEM_LOGS\":return/*#__PURE__*/_jsx(SystemLogsSection,{});case\"MAINTENANCE_SERVICES\":return/*#__PURE__*/_jsx(ServiceMaintenanceSection,{services:services,onRestartStack:handleRestartStack});case\"MAINTENANCE_REBOOT\":return/*#__PURE__*/_jsx(RebootSection,{});case\"TIME_SETTINGS\":return/*#__PURE__*/_jsx(TimeSettingsSection,{});case\"WIZARD\":return/*#__PURE__*/_jsx(CameraWizard,{onUpdate:loadCams,onFinish:()=>{loadCams();setSelection({type:\"IP_DEVICES_ROOT\"});},onOpenSetup:newCam=>{setEditCam(newCam||{});setIsEditModalOpen(true);}});case\"ARMING_SCHEDULES\":return/*#__PURE__*/_jsx(ScheduleEditor,{schedules:armingSchedules,onSave:handleSaveSchedules});case\"ARMING_MATRIX\":return/*#__PURE__*/_jsx(ArmingMatrix,{schedules:armingSchedules,cams:cams,assignments:armingAssignments,modes:armingModes,labels:armingLabels,onSave:handleSaveAssignments,onSaveModes:handleSaveModes,onSaveLabels:handleSaveLabels,onToggleSchedule:handleToggleSchedule});default:return/*#__PURE__*/_jsx(\"div\",{style:{padding:20},children:\"Select an item from the sidebar\"});}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.main,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.sidebar,children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:10,borderBottom:\"1px solid \".concat(colors.border),fontWeight:\"bold\",cursor:\"pointer\"},onDoubleClick:()=>setIsEditingTitle(true),children:isEditingTitle?/*#__PURE__*/_jsx(\"input\",{autoFocus:true,value:networkConfig.edgeName,onChange:e=>setNetworkConfig(_objectSpread(_objectSpread({},networkConfig),{},{edgeName:e.target.value})),onBlur:()=>{setIsEditingTitle(false);API.post(\"network/config\",networkConfig);},onKeyDown:e=>{if(e.key==='Enter'){setIsEditingTitle(false);API.post(\"network/config\",networkConfig);}},style:{width:\"100%\",background:\"#333\",color:\"#fff\",border:\"1px solid #007acc\",padding:\"2px 5px\",borderRadius:2}}):networkConfig.edgeName||\"DSS-SMART GUARD\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"SETTINGS\"),style:{padding:\"8px 10px\",cursor:\"pointer\",background:\"#222\",display:\"flex\",alignItems:\"center\",fontSize:13,marginTop:5,borderTop:\"1px solid #444\",color:\"#aaa\"},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.SETTINGS?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" SETARI SISTEM\"]}),expanded.SETTINGS&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1a1a1a\",borderBottom:\"1px solid #333\"},children:[hasAccess(\"SYSTEM\")&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"SYSTEM\"}),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,background:selection.type===\"SYSTEM\"?\"#094771\":\"transparent\"},children:\"Status Sistem\"}),hasAccess(\"SYSTEM\")&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"TIME_SETTINGS\"}),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,background:selection.type===\"TIME_SETTINGS\"?\"#094771\":\"transparent\"},children:\"Data si Ora\"}),hasAccess(\"SYSTEM\")&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"AI_HUB\"}),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,background:selection.type===\"AI_HUB\"?\"#094771\":\"transparent\"},children:\"AI Engine Hub\"}),hasAccess(\"USERS\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"USERS\"),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.USERS?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Utilizatori\"]}),expanded.USERS&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#111\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"ADD_USER\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,color:colors.success,background:selection.type===\"ADD_USER\"?\"#333\":\"transparent\"}),children:\"+ Adauga Utilizator\"}),mockUsers.map(u=>/*#__PURE__*/_jsx(\"div\",{id:\"sidebar_user_\".concat(u.id),onClick:()=>{setSelection({type:\"USER\",id:u.id});setSelectedUser(u);},style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"USER\"&&selection.id===u.id?\"#333\":\"transparent\"}),children:u.name},u.id))]})]}),hasAccess(\"ORPHANS\")&&/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelection({type:\"ORPHANS\"}),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,background:selection.type===\"ORPHANS\"?\"#094771\":\"transparent\",display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Trash,{size:14,style:{marginRight:5}}),\" Camere Sterse\"]}),hasAccess(\"MAINTENANCE\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"MAINTENANCE\"),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.MAINTENANCE?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Mentenanta\"]}),expanded.MAINTENANCE&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#111\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"MAINTENANCE_SERVICES\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"MAINTENANCE_SERVICES\"?\"#333\":\"transparent\"}),children:\"Stare Servicii\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"MAINTENANCE_REBOOT\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"MAINTENANCE_REBOOT\"?\"#333\":\"transparent\"}),children:\"Repornire\"})]})]}),hasAccess(\"SYSTEM_LOGS\")&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"SYSTEM_LOGS\"}),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,background:selection.type===\"SYSTEM_LOGS\"?\"#094771\":\"transparent\"},children:\"LOGS\"}),hasAccess(\"NETWORK\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"NETWORK\"),style:{padding:\"8px 10px 8px 30px\",cursor:\"pointer\",color:\"#ccc\",fontSize:13,display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.NETWORK?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Retea\"]}),expanded.NETWORK&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#111\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"NETWORK_INTERFACE\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"NETWORK_INTERFACE\"?\"#333\":\"transparent\"}),children:\"Interfata\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"NETWORK_VPN\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"NETWORK_VPN\"?\"#333\":\"transparent\"}),children:\"VPN\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"NETWORK_SERVER\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"NETWORK_SERVER\"?\"#333\":\"transparent\"}),children:\"Evenimente Server\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"NETWORK_PORTS\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"NETWORK_PORTS\"?\"#333\":\"transparent\"}),children:\"Porturi Sistem\"})]})]})]}),(hasAccess(\"HARDWARE\")||hasAccess(\"ARCHIVE\"))&&/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"HARDWARE\"),style:{padding:\"8px 10px\",cursor:\"pointer\",background:\"#333\",display:\"flex\",alignItems:\"center\",fontSize:13,marginTop:5},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.HARDWARE?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Hardware\"]}),expanded.HARDWARE&&/*#__PURE__*/_jsxs(_Fragment,{children:[hasAccess(\"HARDWARE\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{toggleExpand(\"IP_DEVICES\");setSelection({type:\"IP_DEVICES_ROOT\"});},style:_objectSpread(_objectSpread({},styles.subItem),{},{background:selection.type===\"IP_DEVICES_ROOT\"?\"#094771\":\"transparent\"}),children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.IP_DEVICES?\"rotate(90deg)\":\"rotate(0deg)\",marginRight:5}}),\" Dispozitive IP\"]}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"WIZARD\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,color:colors.success,fontWeight:\"bold\",background:selection.type===\"WIZARD\"?\"#094771\":\"transparent\"}),children:\"+ Adauga Camera (WIZARD)\"}),expanded.IP_DEVICES&&cams.map(c=>{var _statusData$c$id,_statusData$c$id2;const isOnline=((_statusData$c$id=statusData[c.id])===null||_statusData$c$id===void 0?void 0:_statusData$c$id.connected)||((_statusData$c$id2=statusData[c.id])===null||_statusData$c$id2===void 0?void 0:_statusData$c$id2.status)===\"ONLINE\";return/*#__PURE__*/_jsxs(\"div\",{id:\"sidebar_hw_\".concat(c.id),onClick:()=>setSelection({type:\"CAMERA\",id:c.id}),style:_objectSpread(_objectSpread({},styles.subItem),{},{paddingLeft:45,background:selection.type===\"CAMERA\"&&selection.id===c.id?\"#094771\":\"transparent\",fontSize:12,display:\"flex\",alignItems:\"center\"}),children:[/*#__PURE__*/_jsx(\"div\",{style:{width:6,height:6,borderRadius:\"50%\",background:isOnline?\"#4caf50\":\"#f44336\",marginRight:8,boxShadow:isOnline?\"0 0 4px #4caf50\":\"none\"}}),/*#__PURE__*/_jsx(Camera,{size:14,style:{marginRight:5}}),\" \",c.name||c.ip]},\"hw_\"+c.id);})]}),hasAccess(\"ARCHIVE\")&&/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelection({type:\"ARCHIVE\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{background:selection.type===\"ARCHIVE\"?\"#094771\":\"transparent\"}),children:[/*#__PURE__*/_jsx(Archive,{size:14,style:{marginRight:5}}),\" Arhiva\"]})]}),hasAccess(\"HARDWARE\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"CHANNELS\"),style:{padding:\"8px 10px\",cursor:\"pointer\",background:\"#333\",display:\"flex\",alignItems:\"center\",fontSize:13,marginTop:5},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.CHANNELS?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Canale\"]}),expanded.CHANNELS&&cams.map(c=>{var _statusData$c$id3,_statusData$c$id4;const isOnline=((_statusData$c$id3=statusData[c.id])===null||_statusData$c$id3===void 0?void 0:_statusData$c$id3.connected)||((_statusData$c$id4=statusData[c.id])===null||_statusData$c$id4===void 0?void 0:_statusData$c$id4.status)===\"ONLINE\";return/*#__PURE__*/_jsxs(\"div\",{id:\"sidebar_ch_\".concat(c.id),onClick:()=>setSelection({type:\"CHANNEL\",id:c.id}),style:_objectSpread(_objectSpread({},styles.subItem),{},{background:selection.type===\"CHANNEL\"&&selection.id===c.id?\"#094771\":\"transparent\",fontSize:12,display:\"flex\",alignItems:\"center\"}),children:[/*#__PURE__*/_jsx(\"div\",{style:{width:6,height:6,borderRadius:\"50%\",background:isOnline?\"#4caf50\":\"#f44336\",marginRight:8,boxShadow:isOnline?\"0 0 4px #4caf50\":\"none\"}}),/*#__PURE__*/_jsx(Video,{size:14,style:{marginRight:5}}),\" \",c.name||c.ip,\" - D1\"]},\"ch_\"+c.id);})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleExpand(\"ARMING\"),style:{padding:\"8px 10px\",cursor:\"pointer\",background:\"#333\",display:\"flex\",alignItems:\"center\",fontSize:13,marginTop:5},children:[/*#__PURE__*/_jsx(ChevronRight,{size:14,style:{transform:expanded.ARMING?\"rotate(90deg)\":\"rotate(0deg)\",transition:\"0.2s\",marginRight:5}}),\" Armare\"]}),expanded.ARMING&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"ARMING_SCHEDULES\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{background:selection.type===\"ARMING_SCHEDULES\"?\"#094771\":\"transparent\"}),children:\"Definire Orar\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelection({type:\"ARMING_MATRIX\"}),style:_objectSpread(_objectSpread({},styles.subItem),{},{background:selection.type===\"ARMING_MATRIX\"?\"#094771\":\"transparent\"}),children:\"Matrice Armare\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"auto\",padding:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:10,color:\"#666\",textAlign:\"center\",marginBottom:10,fontFamily:\"monospace\"},children:[\"UI REVISION: 2026.01.12.1810\",/*#__PURE__*/_jsx(\"br\",{}),\"(MP4 LIVE - HIK STYLE)\"]}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.btnPrimary),{},{background:colors.danger,width:\"100%\",marginRight:0}),onClick:()=>{localStorage.removeItem(\"edge_user\");window.location.reload();},children:\"LOGOUT\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.content,children:renderContent()})]}),isEditModalOpen&&/*#__PURE__*/_jsx(CameraEditModal,{editCam:editCam,setEditCam:setEditCam,manufacturers:MANUFACTURERS,onClose:()=>setIsEditModalOpen(false),onSave:async()=>{try{if(editCam.id&&cams.some(c=>c.id===editCam.id)){const updated=cams.map(c=>c.id===editCam.id?editCam:c);await API.post(\"/cameras/config\",updated);}else{await API.post(\"/cameras/add\",editCam);setSelection({type:\"IP_DEVICES_ROOT\"});// Redirect to list after add\n}setIsEditModalOpen(false);loadCams();}catch(e){var _e$response2,_e$response2$data;alert(\"Save Error: \"+(((_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:_e$response2$data.error)||e.message));}}})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","useLocation","API","colors","styles","ScheduleEditor","ArmingMatrix","Status","CameraWizard","Trash","Edit","SettingsIcon","Lock","AlertTriangle","Save","Camera","Video","Archive","ChevronRight","RefreshCw","NetworkInterfaceSection","VPNSettingsSection","DispatchFailoverSection","SystemPortsSection","AddUserSection","UserSettingsSection","OrphansSection","ArchiveSettingsSection","AISection","IPDevicesRootSection","CameraSettingsSection","ChannelSettingsSection","SystemLogsSection","ServiceMaintenanceSection","RebootSection","TimeSettingsSection","CameraEditModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useModels","data","setData","manufacturers","models","capabilities","loading","setLoading","get","then","res","mfgList","map","m","name","sort","modelMap","reduce","acc","capRes","catch","e","console","error","_objectSpread","Settings","location","selection","setSelection","type","id","subTab","expanded","setExpanded","SETTINGS","HARDWARE","IP_DEVICES","NETWORK","USERS","MAINTENANCE","CHANNELS","ARMING","cams","setCams","statusData","setStatusData","services","setServices","MANUFACTURERS","MODELS","CAPABILITIES","availableModules","setAvailableModules","networkConfig","setNetworkConfig","mode","ip","netmask","gateway","dns1","dns2","edgeName","netConfig","setNetConfig","mockUsers","setMockUsers","currentUser","setCurrentUser","saved","localStorage","getItem","JSON","parse","role","selectedUser","setSelectedUser","newUserForm","setNewUserForm","username","password","confirm","isEditingTitle","setIsEditingTitle","armingSchedules","setArmingSchedules","armingAssignments","setArmingAssignments","armingModes","setArmingModes","armingLabels","setArmingLabels","isEditModalOpen","setIsEditModalOpen","editCam","setEditCam","loadCams","Array","isArray","forEach","c","loadServices","loadUsers","u","icon","menus","loadNetwork","prev","loadArming","schedules","assignments","modes","labels","user","params","URLSearchParams","search","tab","camId","interval","setInterval","clearInterval","isSettingsSub","startsWith","includes","setTimeout","activeId","concat","el","document","getElementById","scrollIntoView","behavior","block","saveAllCams","updated","post","alert","message","updateCam","field","value","next","deleteCam","window","delete","handleAddUser","handleDeleteUser","handleRestartStack","handleSaveSchedules","newSchedules","handleToggleSchedule","idx","isEnabled","enabled","handleSaveAssignments","newAssignments","handleSaveModes","newModes","handleSaveLabels","newLabels","toggleExpand","key","isCurrentlyOpen","settingsSub","hasAccess","menuId","renderContent","saveNetwork","connectVPN","iface","prefix","payload","interface","address","privateKey","publicKey","endpoint","allowedIps","persistentKeepalive","_e$response","_e$response$data","response","saveImportedVPN","bundle","mgmt","peer","ai","connectDualVPN","interfaces","successCount","saveDispatch","url","dispatchUrl","find","x","onSelectCam","onEditCam","onDeleteCam","cam","saveAll","openEditModal","onRestartStack","onUpdate","onFinish","onOpenSetup","newCam","onSave","onSaveModes","onSaveLabels","onToggleSchedule","style","padding","children","container","main","sidebar","borderBottom","border","fontWeight","cursor","onDoubleClick","autoFocus","onChange","target","onBlur","onKeyDown","width","background","color","borderRadius","onClick","display","alignItems","fontSize","marginTop","borderTop","size","transform","transition","marginRight","subItem","paddingLeft","success","_statusData$c$id","_statusData$c$id2","isOnline","connected","status","height","boxShadow","_statusData$c$id3","_statusData$c$id4","textAlign","marginBottom","fontFamily","btnPrimary","danger","removeItem","reload","content","onClose","some","_e$response2","_e$response2$data"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/Settings.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { API } from \"../api\";\r\n\r\n// Design System & Components\r\nimport { colors, styles } from \"../theme\";\r\nimport ScheduleEditor from \"../components/ScheduleInput\";\r\nimport ArmingMatrix from \"../components/ArmingMatrix\";\r\nimport Status from \"./Status\";\r\nimport CameraWizard from \"./CameraWizard\";\r\n\r\n// Icons\r\nimport {\r\n    Trash, Edit, SettingsIcon, Lock, AlertTriangle, Save,\r\n    Camera, Video, Archive, ChevronRight, RefreshCw\r\n} from \"../components/Icons\";\r\n\r\n// Modularized Sections\r\nimport {\r\n    NetworkInterfaceSection,\r\n    VPNSettingsSection,\r\n    DispatchFailoverSection,\r\n    SystemPortsSection\r\n} from \"../sections/settings/NetworkSection\";\r\n\r\nimport {\r\n    AddUserSection,\r\n    UserSettingsSection\r\n} from \"../sections/settings/SecuritySection\";\r\n\r\nimport {\r\n    OrphansSection,\r\n    ArchiveSettingsSection\r\n} from \"../sections/settings/StorageSection\";\r\n\r\nimport { AISection } from \"../sections/settings/AISection\";\r\n\r\nimport {\r\n    IPDevicesRootSection,\r\n    CameraSettingsSection,\r\n    ChannelSettingsSection\r\n} from \"../sections/settings/HardwareSection\";\r\n\r\nimport {\r\n    SystemLogsSection,\r\n    ServiceMaintenanceSection,\r\n    RebootSection,\r\n    TimeSettingsSection\r\n} from \"../sections/settings/MaintenanceSection\";\r\n\r\nimport CameraEditModal from \"../sections/settings/CameraEditModal\";\r\n\r\n// Hook for fetching models (Shared)\r\nfunction useModels() {\r\n    const [data, setData] = useState({ manufacturers: [], models: {}, capabilities: {} });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        API.get(\"/models\")\r\n            .then(res => {\r\n                const mfgList = res.data.manufacturers.map(m => m.name).sort();\r\n                const modelMap = res.data.manufacturers.reduce((acc, m) => {\r\n                    acc[m.name] = m.models;\r\n                    return acc;\r\n                }, {});\r\n\r\n                API.get(\"/models/capabilities\").then(capRes => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: capRes.data || {} });\r\n                    setLoading(false);\r\n                }).catch(() => {\r\n                    setData({ manufacturers: mfgList, models: modelMap, capabilities: {} });\r\n                    setLoading(false);\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(\"Failed to load models\", e);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return { ...data, loading };\r\n}\r\n\r\nexport default function Settings() {\r\n    const location = useLocation();\r\n    // --- STATE ---\r\n    const [selection, setSelection] = useState({ type: \"SYSTEM\", id: null, subTab: \"SERVER\" });\r\n    const [expanded, setExpanded] = useState({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n\r\n    // Core Data\r\n    const [cams, setCams] = useState([]);\r\n    const [statusData, setStatusData] = useState({});\r\n    const [services, setServices] = useState([]);\r\n    const { manufacturers: MANUFACTURERS, models: MODELS, capabilities: CAPABILITIES } = useModels();\r\n    const [availableModules, setAvailableModules] = useState([]);\r\n\r\n    // Network & Environment\r\n    const [networkConfig, setNetworkConfig] = useState({ mode: \"dhcp\", ip: \"\", netmask: \"\", gateway: \"\", dns1: \"\", dns2: \"\", edgeName: \"DSS-SMART GUARD\" });\r\n    const [netConfig, setNetConfig] = useState({});\r\n\r\n    // User Management\r\n    const [mockUsers, setMockUsers] = useState([]);\r\n    const [currentUser, setCurrentUser] = useState(() => {\r\n        const saved = localStorage.getItem(\"edge_user\");\r\n        if (saved) {\r\n            try { return JSON.parse(saved); } catch (e) { }\r\n        }\r\n        return { name: \"Guest\", role: \"operator\", id: -1 };\r\n    });\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [newUserForm, setNewUserForm] = useState({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n    const [isEditingTitle, setIsEditingTitle] = useState(false);\r\n\r\n    // Arming State\r\n    const [armingSchedules, setArmingSchedules] = useState([]);\r\n    const [armingAssignments, setArmingAssignments] = useState({});\r\n    const [armingModes, setArmingModes] = useState({});\r\n    const [armingLabels, setArmingLabels] = useState({});\r\n\r\n    // Modal State\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [editCam, setEditCam] = useState({});\r\n\r\n    // --- DATA LOADING ---\r\n    const loadCams = useCallback(() => {\r\n        API.get(\"/cameras/config\").then(res => setCams(res.data)).catch(e => console.error(e));\r\n        API.get(\"/cameras/config\").then(res => {\r\n            const map = {};\r\n            if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n            setStatusData(map);\r\n        }).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadServices = useCallback(() => {\r\n        API.get(\"status/services\").then(res => setServices(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadUsers = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"auth/users\");\r\n            if (Array.isArray(res.data)) {\r\n                setMockUsers(res.data.map(u => ({\r\n                    id: u.id || u.username,\r\n                    name: u.username,\r\n                    icon: u.role === 'admin' ? \"[A]\" : \"[O]\",\r\n                    role: u.role,\r\n                    menus: u.menus || []\r\n                })));\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    }, []);\r\n\r\n    const loadNetwork = useCallback(() => {\r\n        API.get(\"/network/config\").then(res => setNetworkConfig(prev => ({ ...prev, ...res.data }))).catch(e => console.error(e));\r\n        API.get(\"/network/all\").then(res => setNetConfig(res.data)).catch(e => console.error(e));\r\n    }, []);\r\n\r\n    const loadArming = useCallback(async () => {\r\n        try {\r\n            const res = await API.get(\"/arming/data\");\r\n            setArmingSchedules(res.data.schedules || []);\r\n            setArmingAssignments(res.data.assignments || {});\r\n            setArmingModes(res.data.modes || {});\r\n            setArmingLabels(res.data.labels || {});\r\n        } catch (e) { console.error(\"Failed to load arming data\", e); }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadCams();\r\n        loadServices();\r\n        loadUsers();\r\n        loadNetwork();\r\n        loadArming();\r\n\r\n        API.get(\"/ai/modules\").then(res => setAvailableModules(Array.isArray(res.data) ? res.data : [])).catch(() => setAvailableModules([]));\r\n\r\n        const user = localStorage.getItem(\"edge_user\");\r\n        if (user) {\r\n            try { setCurrentUser(JSON.parse(user)); } catch (e) { }\r\n        }\r\n\r\n        // --- DEEP LINKING LOGIC ---\r\n        const params = new URLSearchParams(location.search);\r\n        const tab = params.get(\"tab\");\r\n        const camId = params.get(\"camId\");\r\n\r\n        if (tab === \"hardware\" && camId) {\r\n            setSelection({ type: \"CAMERA\", id: camId });\r\n            setExpanded(prev => ({ ...prev, HARDWARE: true, IP_DEVICES: true }));\r\n        } else if (tab === \"channels\" && camId) {\r\n            setSelection({ type: \"CHANNEL\", id: camId });\r\n            setExpanded(prev => ({ ...prev, CHANNELS: true }));\r\n        } else if (tab === \"arming\") {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n            setSelection({ type: \"ARMING_MATRIX\" });\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            API.get(\"/cameras/config\").then(res => {\r\n                const map = {};\r\n                if (Array.isArray(res.data)) res.data.forEach(c => map[c.id] = c);\r\n                setStatusData(map);\r\n            }).catch(e => console.error(e));\r\n            loadServices();\r\n            loadNetwork();\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, [loadCams, loadServices, loadUsers, loadNetwork, loadArming, location.search]);\r\n\r\n    // --- AUTO-EXPAND SIDEBAR & SCROLL ---\r\n    useEffect(() => {\r\n        if (!selection) return;\r\n\r\n        // 1. Expand relevant parent menus (Clean and enforce single-open rule)\r\n        if (selection.type === \"CAMERA\" || selection.type === \"IP_DEVICES_ROOT\" || selection.type === \"ARCHIVE\" || selection.type === \"WIZARD\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: true, IP_DEVICES: selection.type === \"CAMERA\", NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false });\r\n        } else if (selection.type === \"CHANNEL\") {\r\n            setExpanded({ SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: true, ARMING: false });\r\n        } else if (selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"SYSTEM\" || selection.type === \"AI_HUB\" || selection.type === \"ORPHANS\" || selection.type === \"SYSTEM_LOGS\") {\r\n            const isSettingsSub = selection.type === \"USER\" || selection.type === \"ADD_USER\" || selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\" || selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\";\r\n\r\n            setExpanded({\r\n                SETTINGS: true,\r\n                HARDWARE: false,\r\n                USERS: (selection.type === \"USER\" || selection.type === \"ADD_USER\"),\r\n                MAINTENANCE: (selection.type === \"MAINTENANCE_SERVICES\" || selection.type === \"MAINTENANCE_REBOOT\"),\r\n                NETWORK: (selection.type === \"NETWORK_INTERFACE\" || selection.type === \"NETWORK_VPN\" || selection.type === \"NETWORK_SERVER\" || selection.type === \"NETWORK_PORTS\"),\r\n                IP_DEVICES: false, CHANNELS: false, ARMING: false\r\n            });\r\n        }\r\n        else if (selection.type.startsWith(\"ARMING\")) {\r\n            setExpanded(prev => ({ ...prev, ARMING: true }));\r\n        } else if ([\"SYSTEM\", \"AI_HUB\", \"ADD_USER\", \"USER\", \"ORPHANS\", \"MAINTENANCE_SERVICES\", \"MAINTENANCE_REBOOT\", \"SYSTEM_LOGS\", \"NETWORK_INTERFACE\", \"NETWORK_VPN\", \"NETWORK_SERVER\", \"NETWORK_PORTS\"].includes(selection.type)) {\r\n            setExpanded(prev => ({ ...prev, SETTINGS: true }));\r\n            if (selection.type === \"ADD_USER\" || selection.type === \"USER\") setExpanded(prev => ({ ...prev, USERS: true }));\r\n            if (selection.type.startsWith(\"MAINTENANCE\")) setExpanded(prev => ({ ...prev, MAINTENANCE: true }));\r\n            if (selection.type.startsWith(\"NETWORK\")) setExpanded(prev => ({ ...prev, NETWORK: true }));\r\n        }\r\n\r\n        // 2. Scroll into view (defer and slightly wait for render)\r\n        setTimeout(() => {\r\n            const activeId = selection.type === \"CHANNEL\" ? `sidebar_ch_${selection.id}` :\r\n                selection.type === \"CAMERA\" ? `sidebar_hw_${selection.id}` :\r\n                    selection.type === \"USER\" ? `sidebar_user_${selection.id}` : null;\r\n\r\n            if (activeId) {\r\n                const el = document.getElementById(activeId);\r\n                if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\r\n            }\r\n        }, 150);\r\n    }, [selection.type, selection.id]);\r\n\r\n\r\n    // --- HANDLERS ---\r\n    const saveAllCams = async (updated) => {\r\n        try { await API.post(\"/cameras/config\", updated || cams); loadCams(); }\r\n        catch (e) { alert(\"Error saving: \" + e.message); }\r\n    };\r\n\r\n    const updateCam = (id, field, value) => {\r\n        const next = cams.map(c => c.id === id ? { ...c, [field]: value } : c);\r\n        setCams(next);\r\n    };\r\n\r\n    const deleteCam = async (id) => {\r\n        if (!window.confirm(\"Delete camera?\")) return;\r\n        try { await API.delete(`/cameras/${id}`); setSelection({ type: \"IP_DEVICES_ROOT\" }); loadCams(); }\r\n        catch (e) { alert(\"Error deleting: \" + e.message); }\r\n    };\r\n\r\n    const handleAddUser = async () => {\r\n        if (newUserForm.password !== newUserForm.confirm) return alert(\"Nu corespund parolele!\");\r\n        try {\r\n            await API.post(\"/auth/users\", newUserForm);\r\n            alert(\"Utilizator creat!\");\r\n            setNewUserForm({ username: \"\", password: \"\", confirm: \"\", role: \"operator\" });\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare: \" + e.message); }\r\n    };\r\n\r\n    const handleDeleteUser = async (username) => {\r\n        if (!window.confirm(`Sunteti sigur ca stergeti utilizatorul ${username}?`)) return;\r\n        try {\r\n            await API.delete(`/auth/users/${username}`);\r\n            loadUsers();\r\n            setSelection({ type: \"SYSTEM\" });\r\n        } catch (e) { alert(\"Eroare stergere: \" + e.message); }\r\n    };\r\n\r\n    const handleRestartStack = async () => {\r\n        if (!window.confirm(\"Restart critical services?\")) return;\r\n        try { await API.post(\"/status/restart-stack\"); alert(\"Command sent.\"); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // Arming Handlers\r\n    const handleSaveSchedules = async (newSchedules) => {\r\n        try { await API.post(\"/arming/schedules\", newSchedules); setArmingSchedules(newSchedules); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleToggleSchedule = async (idx, isEnabled) => {\r\n        const updated = [...armingSchedules];\r\n        if (updated[idx]) { updated[idx] = { ...updated[idx], enabled: !isEnabled }; await handleSaveSchedules(updated); }\r\n    };\r\n    const handleSaveAssignments = async (newAssignments) => {\r\n        try { await API.post(\"/arming/assignments\", newAssignments); setArmingAssignments(newAssignments); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveModes = async (newModes) => {\r\n        try { await API.post(\"/arming/modes\", newModes); setArmingModes(prev => ({ ...prev, ...newModes })); } catch (e) { alert(e.message); }\r\n    };\r\n    const handleSaveLabels = async (newLabels) => {\r\n        try { await API.post(\"/arming/labels\", newLabels); setArmingLabels(prev => ({ ...prev, ...newLabels })); } catch (e) { alert(e.message); }\r\n    };\r\n\r\n    // --- RENDER HELPERS ---\r\n    const toggleExpand = (key) => setExpanded(prev => {\r\n        const isCurrentlyOpen = prev[key];\r\n        // Reset all\r\n        const next = { SETTINGS: false, HARDWARE: false, IP_DEVICES: false, NETWORK: false, USERS: false, MAINTENANCE: false, CHANNELS: false, ARMING: false };\r\n\r\n        const settingsSub = [\"USERS\", \"NETWORK\", \"MAINTENANCE\"];\r\n\r\n        if (settingsSub.includes(key)) {\r\n            next.SETTINGS = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"IP_DEVICES\") {\r\n            next.HARDWARE = true; // Keep parent open\r\n            next[key] = !isCurrentlyOpen;\r\n        } else if (key === \"SETTINGS\" || key === \"HARDWARE\" || key === \"CHANNELS\" || key === \"ARMING\") {\r\n            // Main groups\r\n            next[key] = !isCurrentlyOpen;\r\n        } else {\r\n            next[key] = !isCurrentlyOpen;\r\n        }\r\n        return next;\r\n    });\r\n    const hasAccess = (menuId) => currentUser.role === 'admin' || (currentUser.menus && currentUser.menus.includes(menuId));\r\n\r\n    const renderContent = () => {\r\n        switch (selection.type) {\r\n            case \"SYSTEM\": return <Status />;\r\n            case \"AI_HUB\": return <AISection />;\r\n            case \"NETWORK_INTERFACE\": return <NetworkInterfaceSection networkConfig={networkConfig} setNetworkConfig={setNetworkConfig} saveNetwork={() => API.post(\"/network/config\", networkConfig).then(() => alert(\"Saved\"))} />;\r\n            case \"NETWORK_VPN\": return (\r\n                <VPNSettingsSection\r\n                    netConfig={netConfig}\r\n                    setNetConfig={setNetConfig}\r\n                    connectVPN={async (iface) => {\r\n                        const prefix = iface;\r\n                        const payload = {\r\n                            interface: iface,\r\n                            address: netConfig[`${prefix}_address`],\r\n                            privateKey: netConfig[`${prefix}_privateKey`],\r\n                            publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                            endpoint: netConfig[`${prefix}_endpoint`],\r\n                            allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                            persistentKeepalive: 25\r\n                        };\r\n                        try {\r\n                            const res = await API.post(\"/vpn/setup-wireguard\", payload);\r\n                            alert(res.data.message || \"VPN Command Sent!\");\r\n                            loadNetwork();\r\n                        } catch (e) { alert(\"VPN Error: \" + (e.response?.data?.error || e.message)); }\r\n                    }}\r\n                    saveImportedVPN={async (bundle) => {\r\n                        try {\r\n                            // Save Management (WG0)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg0\",\r\n                                address: bundle.mgmt.interface.address,\r\n                                privateKey: bundle.mgmt.interface.privateKey,\r\n                                publicKey: bundle.mgmt.peer.publicKey,\r\n                                endpoint: bundle.mgmt.peer.endpoint,\r\n                                allowedIps: bundle.mgmt.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Save AI (WG1)\r\n                            await API.post(\"/vpn/setup-wireguard\", {\r\n                                interface: \"wg1\",\r\n                                address: bundle.ai.interface.address,\r\n                                privateKey: bundle.ai.interface.privateKey,\r\n                                publicKey: bundle.ai.peer.publicKey,\r\n                                endpoint: bundle.ai.peer.endpoint,\r\n                                allowedIps: bundle.ai.peer.allowedIps,\r\n                                persistentKeepalive: 25\r\n                            });\r\n\r\n                            // Update Dispatch URL for events\r\n                            // Check if we have a way to save dispatch URL from import? \r\n                            // Usually it's just the VPN endpoint IP, but let's stick to VPN for now.\r\n\r\n                            alert(\"Configurația VPN Duală a fost aplicată cu succes! Sistemul se conectează...\");\r\n                            loadNetwork();\r\n                        } catch (e) {\r\n                            alert(\"Eroare la salvarea VPN: \" + e.message);\r\n                        }\r\n                    }}\r\n                    connectDualVPN={async () => {\r\n                        const interfaces = [\"wg0\", \"wg1\"];\r\n                        let successCount = 0;\r\n                        for (const iface of interfaces) {\r\n                            const prefix = iface;\r\n                            const payload = {\r\n                                interface: iface,\r\n                                address: netConfig[`${prefix}_address`],\r\n                                privateKey: netConfig[`${prefix}_privateKey`],\r\n                                publicKey: netConfig[`${prefix}_serverPubKey`],\r\n                                endpoint: netConfig[`${prefix}_endpoint`],\r\n                                allowedIps: netConfig[`${prefix}_allowedIps`],\r\n                                persistentKeepalive: 25\r\n                            };\r\n                            if (!payload.privateKey || !payload.publicKey) continue;\r\n                            try {\r\n                                await API.post(\"/vpn/setup-wireguard\", payload);\r\n                                successCount++;\r\n                            } catch (e) { console.error(`Failed to start ${iface}`, e); }\r\n                        }\r\n                        if (successCount > 0) {\r\n                            alert(`Comandă trimisă pentru ${successCount} interfețe.`);\r\n                            loadNetwork();\r\n                        } else {\r\n                            alert(\"Nu s-au găsit date complete pentru ambele interfețe.\");\r\n                        }\r\n                    }}\r\n                />\r\n            );\r\n            case \"NETWORK_SERVER\": return <DispatchFailoverSection netConfig={netConfig} setNetConfig={setNetConfig} saveDispatch={() => API.post(\"/dispatch\", { url: netConfig.dispatchUrl }).then(() => alert(\"Dispatch URL saved! Events will now be sent to this server.\"))} />;\r\n            case \"NETWORK_PORTS\": return <SystemPortsSection />;\r\n            case \"ADD_USER\": return <AddUserSection newUserForm={newUserForm} setNewUserForm={setNewUserForm} handleAddUser={handleAddUser} />;\r\n            case \"USER\": {\r\n                const u = selectedUser || mockUsers.find(x => x.id === selection.id);\r\n                return u ? <UserSettingsSection selectedUser={u} setSelectedUser={(updated) => { setMockUsers(prev => prev.map(x => x.id === updated.id ? updated : x)); setSelectedUser(updated); }} currentUser={currentUser} handleDeleteUser={handleDeleteUser} loadUsers={loadUsers} /> : null;\r\n            }\r\n            case \"ORPHANS\": return <OrphansSection />;\r\n            case \"ARCHIVE\": return <ArchiveSettingsSection cams={cams} />;\r\n            case \"IP_DEVICES_ROOT\": return <IPDevicesRootSection cams={cams} statusData={statusData} onSelectCam={(id) => setSelection({ type: \"CAMERA\", id })} onEditCam={(c) => { setEditCam(c); setIsEditModalOpen(true); }} onDeleteCam={deleteCam} />;\r\n            case \"CAMERA\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                return <CameraSettingsSection cam={cam} statusData={statusData} updateCam={updateCam} saveAll={saveAllCams} deleteCam={deleteCam} openEditModal={(c) => { setEditCam(c); setIsEditModalOpen(true); }} setSelection={setSelection} />;\r\n            }\r\n            case \"CHANNEL\": {\r\n                const cam = cams.find(c => c.id === selection.id);\r\n                return <ChannelSettingsSection cam={cam} cams={cams} setCams={setCams} setSelection={setSelection} availableModules={availableModules} updateCam={updateCam} saveAll={saveAllCams} />;\r\n            }\r\n            case \"SYSTEM_LOGS\": return <SystemLogsSection />;\r\n            case \"MAINTENANCE_SERVICES\": return <ServiceMaintenanceSection services={services} onRestartStack={handleRestartStack} />;\r\n            case \"MAINTENANCE_REBOOT\": return <RebootSection />;\r\n            case \"TIME_SETTINGS\": return <TimeSettingsSection />;\r\n            case \"WIZARD\": return <CameraWizard\r\n                onUpdate={loadCams}\r\n                onFinish={() => { loadCams(); setSelection({ type: \"IP_DEVICES_ROOT\" }); }}\r\n                onOpenSetup={(newCam) => { setEditCam(newCam || {}); setIsEditModalOpen(true); }}\r\n            />;\r\n            case \"ARMING_SCHEDULES\": return <ScheduleEditor schedules={armingSchedules} onSave={handleSaveSchedules} />;\r\n            case \"ARMING_MATRIX\": return <ArmingMatrix schedules={armingSchedules} cams={cams} assignments={armingAssignments} modes={armingModes} labels={armingLabels} onSave={handleSaveAssignments} onSaveModes={handleSaveModes} onSaveLabels={handleSaveLabels} onToggleSchedule={handleToggleSchedule} />;\r\n            default: return <div style={{ padding: 20 }}>Select an item from the sidebar</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.main}>\r\n                {/* SIDEBAR */}\r\n                <div style={styles.sidebar}>\r\n                    <div style={{ padding: 10, borderBottom: `1px solid ${colors.border}`, fontWeight: \"bold\", cursor: \"pointer\" }} onDoubleClick={() => setIsEditingTitle(true)}>\r\n                        {isEditingTitle ? (\r\n                            <input\r\n                                autoFocus\r\n                                value={networkConfig.edgeName}\r\n                                onChange={(e) => setNetworkConfig({ ...networkConfig, edgeName: e.target.value })}\r\n                                onBlur={() => { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); }}\r\n                                onKeyDown={(e) => { if (e.key === 'Enter') { setIsEditingTitle(false); API.post(\"network/config\", networkConfig); } }}\r\n                                style={{ width: \"100%\", background: \"#333\", color: \"#fff\", border: \"1px solid #007acc\", padding: \"2px 5px\", borderRadius: 2 }}\r\n                            />\r\n                        ) : (networkConfig.edgeName || \"DSS-SMART GUARD\")}\r\n                    </div>\r\n\r\n                    {/* SETARI SISTEM GROUP */}\r\n                    <div onClick={() => toggleExpand(\"SETTINGS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#222\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5, borderTop: \"1px solid #444\", color: \"#aaa\" }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.SETTINGS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> SETARI SISTEM\r\n                    </div>\r\n                    {expanded.SETTINGS && (\r\n                        <div style={{ background: \"#1a1a1a\", borderBottom: \"1px solid #333\" }}>\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"SYSTEM\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM\" ? \"#094771\" : \"transparent\" }}>Status Sistem</div>}\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"TIME_SETTINGS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"TIME_SETTINGS\" ? \"#094771\" : \"transparent\" }}>Data si Ora</div>}\r\n                            {hasAccess(\"SYSTEM\") && <div onClick={() => setSelection({ type: \"AI_HUB\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"AI_HUB\" ? \"#094771\" : \"transparent\" }}>AI Engine Hub</div>}\r\n\r\n                            {hasAccess(\"USERS\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"USERS\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.USERS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Utilizatori\r\n                                    </div>\r\n                                    {expanded.USERS && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"ADD_USER\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, background: selection.type === \"ADD_USER\" ? \"#333\" : \"transparent\" }}>+ Adauga Utilizator</div>\r\n                                            {mockUsers.map(u => (\r\n                                                <div key={u.id} id={`sidebar_user_${u.id}`} onClick={() => { setSelection({ type: \"USER\", id: u.id }); setSelectedUser(u); }} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"USER\" && selection.id === u.id) ? \"#333\" : \"transparent\" }}>{u.name}</div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"ORPHANS\") && <div onClick={() => setSelection({ type: \"ORPHANS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"ORPHANS\" ? \"#094771\" : \"transparent\", display: \"flex\", alignItems: \"center\" }}><Trash size={14} style={{ marginRight: 5 }} /> Camere Sterse</div>}\r\n\r\n                            {hasAccess(\"MAINTENANCE\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"MAINTENANCE\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.MAINTENANCE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Mentenanta\r\n                                    </div>\r\n                                    {expanded.MAINTENANCE && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_SERVICES\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_SERVICES\" ? \"#333\" : \"transparent\" }}>Stare Servicii</div>\r\n                                            <div onClick={() => setSelection({ type: \"MAINTENANCE_REBOOT\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"MAINTENANCE_REBOOT\" ? \"#333\" : \"transparent\" }}>Repornire</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {hasAccess(\"SYSTEM_LOGS\") && <div onClick={() => setSelection({ type: \"SYSTEM_LOGS\" })} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, background: selection.type === \"SYSTEM_LOGS\" ? \"#094771\" : \"transparent\" }}>LOGS</div>}\r\n\r\n                            {hasAccess(\"NETWORK\") && (\r\n                                <>\r\n                                    <div onClick={() => toggleExpand(\"NETWORK\")} style={{ padding: \"8px 10px 8px 30px\", cursor: \"pointer\", color: \"#ccc\", fontSize: 13, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.NETWORK ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Retea\r\n                                    </div>\r\n                                    {expanded.NETWORK && (\r\n                                        <div style={{ background: \"#111\" }}>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_INTERFACE\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_INTERFACE\" ? \"#333\" : \"transparent\" }}>Interfata</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_VPN\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_VPN\" ? \"#333\" : \"transparent\" }}>VPN</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_SERVER\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_SERVER\" ? \"#333\" : \"transparent\" }}>Evenimente Server</div>\r\n                                            <div onClick={() => setSelection({ type: \"NETWORK_PORTS\" })} style={{ ...styles.subItem, paddingLeft: 45, background: selection.type === \"NETWORK_PORTS\" ? \"#333\" : \"transparent\" }}>Porturi Sistem</div>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* HARDWARE GROUP */}\r\n                    {(hasAccess(\"HARDWARE\") || hasAccess(\"ARCHIVE\")) && (\r\n                        <div onClick={() => toggleExpand(\"HARDWARE\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                            <ChevronRight size={14} style={{ transform: expanded.HARDWARE ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Hardware\r\n                        </div>\r\n                    )}\r\n                    {expanded.HARDWARE && (\r\n                        <>\r\n                            {hasAccess(\"HARDWARE\") && (\r\n                                <>\r\n                                    <div onClick={() => { toggleExpand(\"IP_DEVICES\"); setSelection({ type: \"IP_DEVICES_ROOT\" }); }} style={{ ...styles.subItem, background: selection.type === \"IP_DEVICES_ROOT\" ? \"#094771\" : \"transparent\" }}>\r\n                                        <ChevronRight size={14} style={{ transform: expanded.IP_DEVICES ? \"rotate(90deg)\" : \"rotate(0deg)\", marginRight: 5 }} /> Dispozitive IP\r\n                                    </div>\r\n                                    <div onClick={() => setSelection({ type: \"WIZARD\" })} style={{ ...styles.subItem, paddingLeft: 45, color: colors.success, fontWeight: \"bold\", background: selection.type === \"WIZARD\" ? \"#094771\" : \"transparent\" }}>+ Adauga Camera (WIZARD)</div>\r\n                                    {expanded.IP_DEVICES && cams.map(c => {\r\n                                        const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                        return (\r\n                                            <div key={\"hw_\" + c.id} id={`sidebar_hw_${c.id}`} onClick={() => setSelection({ type: \"CAMERA\", id: c.id })} style={{ ...styles.subItem, paddingLeft: 45, background: (selection.type === \"CAMERA\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                                <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                                <Camera size={14} style={{ marginRight: 5 }} /> {c.name || c.ip}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </>\r\n                            )}\r\n                            {hasAccess(\"ARCHIVE\") && <div onClick={() => setSelection({ type: \"ARCHIVE\" })} style={{ ...styles.subItem, background: selection.type === \"ARCHIVE\" ? \"#094771\" : \"transparent\" }}><Archive size={14} style={{ marginRight: 5 }} /> Arhiva</div>}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* CANALE GROUP */}\r\n                    {hasAccess(\"HARDWARE\") && (\r\n                        <>\r\n                            <div onClick={() => toggleExpand(\"CHANNELS\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                                <ChevronRight size={14} style={{ transform: expanded.CHANNELS ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Canale\r\n                            </div>\r\n                            {expanded.CHANNELS && cams.map(c => {\r\n                                const isOnline = statusData[c.id]?.connected || statusData[c.id]?.status === \"ONLINE\";\r\n                                return (\r\n                                    <div key={\"ch_\" + c.id} id={`sidebar_ch_${c.id}`} onClick={() => setSelection({ type: \"CHANNEL\", id: c.id })} style={{ ...styles.subItem, background: (selection.type === \"CHANNEL\" && selection.id === c.id) ? \"#094771\" : \"transparent\", fontSize: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                                        <div style={{ width: 6, height: 6, borderRadius: \"50%\", background: isOnline ? \"#4caf50\" : \"#f44336\", marginRight: 8, boxShadow: isOnline ? \"0 0 4px #4caf50\" : \"none\" }} />\r\n                                        <Video size={14} style={{ marginRight: 5 }} /> {c.name || c.ip} - D1\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </>\r\n                    )}\r\n\r\n                    {/* ARMARE GROUP */}\r\n                    <div onClick={() => toggleExpand(\"ARMING\")} style={{ padding: \"8px 10px\", cursor: \"pointer\", background: \"#333\", display: \"flex\", alignItems: \"center\", fontSize: 13, marginTop: 5 }}>\r\n                        <ChevronRight size={14} style={{ transform: expanded.ARMING ? \"rotate(90deg)\" : \"rotate(0deg)\", transition: \"0.2s\", marginRight: 5 }} /> Armare\r\n                    </div>\r\n                    {expanded.ARMING && (\r\n                        <div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_SCHEDULES\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_SCHEDULES\" ? \"#094771\" : \"transparent\" }}>Definire Orar</div>\r\n                            <div onClick={() => setSelection({ type: \"ARMING_MATRIX\" })} style={{ ...styles.subItem, background: selection.type === \"ARMING_MATRIX\" ? \"#094771\" : \"transparent\" }}>Matrice Armare</div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: \"auto\", padding: 20 }}>\r\n                        <div style={{ fontSize: 10, color: \"#666\", textAlign: \"center\", marginBottom: 10, fontFamily: \"monospace\" }}>\r\n                            UI REVISION: 2026.01.12.1810<br />\r\n                            (MP4 LIVE - HIK STYLE)\r\n                        </div>\r\n                        <button style={{ ...styles.btnPrimary, background: colors.danger, width: \"100%\", marginRight: 0 }} onClick={() => { localStorage.removeItem(\"edge_user\"); window.location.reload(); }}>LOGOUT</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CONTENT AREA */}\r\n                <div style={styles.content}>\r\n                    {renderContent()}\r\n                </div>\r\n            </div>\r\n\r\n            {isEditModalOpen && (\r\n                <CameraEditModal\r\n                    editCam={editCam}\r\n                    setEditCam={setEditCam}\r\n                    manufacturers={MANUFACTURERS}\r\n                    onClose={() => setIsEditModalOpen(false)}\r\n                    onSave={async () => {\r\n                        try {\r\n                            if (editCam.id && cams.some(c => c.id === editCam.id)) {\r\n                                const updated = cams.map(c => c.id === editCam.id ? editCam : c);\r\n                                await API.post(\"/cameras/config\", updated);\r\n                            } else {\r\n                                await API.post(\"/cameras/add\", editCam);\r\n                                setSelection({ type: \"IP_DEVICES_ROOT\" }); // Redirect to list after add\r\n                            }\r\n                            setIsEditModalOpen(false);\r\n                            loadCams();\r\n                        } catch (e) {\r\n                            alert(\"Save Error: \" + (e.response?.data?.error || e.message));\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}