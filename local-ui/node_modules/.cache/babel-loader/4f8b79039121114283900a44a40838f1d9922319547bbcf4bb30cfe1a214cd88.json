{"ast":null,"code":"var _jsxFileName = \"I:\\\\dispecerat\\\\github_release\\\\dss-edge\\\\local-ui\\\\src\\\\pages\\\\PlaybackModern.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport API from \"../api\";\nimport EnterprisePlayer, { PlayerState } from \"../services/EnterprisePlayer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlaybackModern() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const camId = searchParams.get(\"camId\");\n\n  // --- STATE ---\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [playerState, setPlayerState] = useState(PlayerState.IDLE);\n\n  // Timeline State\n  const [currentTimeMs, setCurrentTimeMs] = useState(Date.now());\n  const [viewStartMs, setViewStartMs] = useState(new Date().setHours(0, 0, 0, 0));\n  const [zoomPxPerSec, setZoomPxPerSec] = useState(0.015);\n  const [containerWidth, setContainerWidth] = useState(1000);\n  const [segments, setSegments] = useState([]);\n  const videoRef = useRef(null);\n  const playerRef = useRef(null);\n  const timelineContainerRef = useRef(null);\n  const dragRef = useRef({\n    isDragging: false,\n    startX: 0,\n    startViewTime: 0\n  });\n  const dayStartMs = new Date(selectedDate).setHours(0, 0, 0, 0);\n  const dayEndMs = dayStartMs + 86400000;\n\n  // --- 1. INITIALIZE PLAYER ---\n  useEffect(() => {\n    if (videoRef.current && camId) {\n      console.log(\"[Playback] Initializing Enterprise Player for\", camId);\n      playerRef.current = new EnterprisePlayer(videoRef.current, camId, state => {\n        setPlayerState(state);\n      });\n    }\n    return () => {\n      if (playerRef.current) {\n        playerRef.current.destroy();\n        playerRef.current = null;\n      }\n    };\n  }, [camId]);\n\n  // --- 2. LOAD DATA ---\n  useEffect(() => {\n    if (!camId || !selectedDate || !playerRef.current) return;\n    const load = async () => {\n      try {\n        // Determine API endpoint - handle possible proxy/prefix needs\n        // Using /api prefix as seen elsewhere\n        const res = await API.get(`/api/playback/timeline-day/${camId}/${selectedDate}`);\n        const data = res.data;\n        const segs = (data.segments || []).map(s => ({\n          start: Number(s.start_ts || s.startTs),\n          end: Number(s.end_ts || s.endTs),\n          file: s.file\n        }));\n        setSegments(segs);\n        playerRef.current.loadSegments(segs);\n\n        // Auto-fit to Day initially if zoom is default\n        if (containerWidth > 0 && zoomPxPerSec === 0.015) {\n          const ds = new Date(selectedDate).setHours(0, 0, 0, 0);\n          setViewStartMs(ds);\n          setZoomPxPerSec(containerWidth / 86400);\n        }\n      } catch (e) {\n        console.error(\"Failed to load timeline\", e);\n      }\n    };\n    load();\n  }, [camId, selectedDate, containerWidth]);\n\n  // --- 3. SYNC TIME ---\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (playerState === PlayerState.PLAYING && playerRef.current) {\n        const epoch = playerRef.current.getCurrentTime();\n        // Ensure reasonable sync, don't jump massively or UI flickers\n        if (epoch && Math.abs(epoch - currentTimeMs) > 200) {\n          setCurrentTimeMs(epoch);\n        }\n      }\n    }, 100);\n    return () => clearInterval(interval);\n  }, [playerState, currentTimeMs]);\n\n  // --- 4. INTERACTION HANDLERS ---\n  const performSeek = epoch => {\n    setCurrentTimeMs(epoch);\n    if (playerRef.current) {\n      // Seek and auto-play\n      playerRef.current.seekTo(epoch, true);\n    }\n  };\n  const handleZoom = secondsVisible => {\n    if (containerWidth > 0) {\n      setZoomPxPerSec(containerWidth / secondsVisible);\n    }\n  };\n  const handleWheel = e => {\n    e.preventDefault();\n    const rect = timelineContainerRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseTime = viewStartMs + mouseX / zoomPxPerSec * 1000;\n    const delta = e.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(containerWidth / 86400, Math.min(200, zoomPxPerSec * delta));\n    setZoomPxPerSec(newZoom);\n    setViewStartMs(mouseTime - mouseX / newZoom * 1000);\n  };\n  const handleMouseDown = e => {\n    dragRef.current = {\n      isDragging: true,\n      startX: e.clientX,\n      startViewTime: viewStartMs\n    };\n    document.body.style.cursor = 'grabbing';\n  };\n  const handleMouseMove = e => {\n    if (!dragRef.current.isDragging) return;\n    const diffPx = dragRef.current.startX - e.clientX;\n    const dtMs = diffPx / zoomPxPerSec * 1000;\n    setViewStartMs(dragRef.current.startViewTime + dtMs);\n  };\n  const handleMouseUp = e => {\n    if (dragRef.current.isDragging) {\n      dragRef.current.isDragging = false;\n      document.body.style.cursor = 'default';\n      const dist = Math.abs(e.clientX - dragRef.current.startX);\n      if (dist < 5) {\n        const rect = timelineContainerRef.current.getBoundingClientRect();\n        const clickX = e.clientX - rect.left;\n        const clickTime = viewStartMs + clickX / zoomPxPerSec * 1000;\n        performSeek(clickTime);\n      }\n    }\n  };\n\n  // --- RENDER HELPERS ---\n  const timeToPx = ts => (ts - viewStartMs) / 1000 * zoomPxPerSec;\n  const renderGrid = () => {\n    // Prevent infinite loops if zoom is 0\n    if (zoomPxPerSec <= 0) return null;\n    const ticks = [];\n    const startMs = viewStartMs;\n    const endMs = viewStartMs + containerWidth / zoomPxPerSec * 1000;\n\n    // Target 100px per tick\n    const targetTickPx = 100;\n    const secondsPer100Px = targetTickPx / zoomPxPerSec;\n    const steps = [1, 5, 10, 30, 60, 300, 600, 1800, 3600, 7200, 14400];\n    let stepSec = 3600;\n    for (let s of steps) {\n      if (s >= secondsPer100Px) {\n        stepSec = s;\n        break;\n      }\n    }\n    const stepMs = stepSec * 1000;\n    // Align to step boundary\n    const firstTick = Math.ceil(startMs / stepMs) * stepMs;\n    for (let t = firstTick; t < endMs; t += stepMs) {\n      const x = timeToPx(t);\n      const d = new Date(t);\n      let label;\n      if (stepSec >= 3600) label = d.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });else if (stepSec >= 60) label = d.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });else label = d.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n      ticks.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: x,\n          top: 0,\n          bottom: 0,\n          borderLeft: '1px solid #333',\n          pointerEvents: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            bottom: 2,\n            left: 4,\n            fontSize: 10,\n            fontFamily: 'monospace',\n            color: '#888'\n          },\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)\n      }, `tick-${t}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this));\n    }\n    return ticks;\n  };\n  const renderSegments = () => {\n    const endVis = viewStartMs + containerWidth / zoomPxPerSec * 1000;\n    return segments.map((s, i) => {\n      if (s.end < viewStartMs || s.start > endVis) return null;\n      const x1 = timeToPx(s.start);\n      // Ensure nice minimum width for visibility\n      const w = Math.max(1, (s.end - s.start) / 1000 * zoomPxPerSec);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: x1,\n          top: 10,\n          bottom: 20,\n          width: w,\n          background: '#2ecc71',\n          opacity: 0.8,\n          pointerEvents: 'none',\n          border: '1px solid #27ae60'\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 20\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100vh\",\n      background: \"#1b1d21\",\n      color: \"#e0e6ed\",\n      userSelect: \"none\"\n    },\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseUp,\n    onMouseMove: handleMouseMove,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 48,\n        background: \"#1f1f1f\",\n        borderBottom: \"1px solid #333\",\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"0 16px\",\n        gap: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/\"),\n        style: {\n          background: \"#333\",\n          border: \"none\",\n          color: \"#fff\",\n          padding: \"6px 12px\",\n          borderRadius: 4,\n          cursor: \"pointer\",\n          fontWeight: 600\n        },\n        children: \"\\u2190 LIVE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 600,\n          color: '#fff'\n        },\n        children: \"PLAYBACK ENTERPRISE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleZoom(60),\n          style: {\n            background: \"#333\",\n            color: \"#fff\",\n            border: \"1px solid #444\",\n            borderRadius: 4,\n            padding: \"4px 8px\",\n            cursor: \"pointer\",\n            fontSize: 11\n          },\n          children: \"1m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleZoom(900),\n          style: {\n            background: \"#333\",\n            color: \"#fff\",\n            border: \"1px solid #444\",\n            borderRadius: 4,\n            padding: \"4px 8px\",\n            cursor: \"pointer\",\n            fontSize: 11\n          },\n          children: \"15m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleZoom(3600),\n          style: {\n            background: \"#333\",\n            color: \"#fff\",\n            border: \"1px solid #444\",\n            borderRadius: 4,\n            padding: \"4px 8px\",\n            cursor: \"pointer\",\n            fontSize: 11\n          },\n          children: \"1h\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 1,\n          height: 24,\n          background: \"#444\",\n          margin: \"0 8px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _playerRef$current;\n            return (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.seekTo(Math.max(dayStartMs, currentTimeMs - 10000));\n          },\n          style: {\n            background: \"#333\",\n            color: \"#fff\",\n            border: \"1px solid #444\",\n            borderRadius: 4,\n            padding: \"6px 12px\",\n            cursor: \"pointer\"\n          },\n          children: \"-10s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _playerRef$current2, _playerRef$current3;\n            return playerState === PlayerState.PLAYING ? (_playerRef$current2 = playerRef.current) === null || _playerRef$current2 === void 0 ? void 0 : _playerRef$current2.pause() : (_playerRef$current3 = playerRef.current) === null || _playerRef$current3 === void 0 ? void 0 : _playerRef$current3.play();\n          },\n          style: {\n            background: \"#2ecc71\",\n            color: \"#fff\",\n            border: \"none\",\n            padding: \"6px 20px\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n            fontWeight: \"bold\"\n          },\n          children: playerState === PlayerState.PLAYING ? \"PAUSE\" : \"PLAY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _playerRef$current4;\n            return (_playerRef$current4 = playerRef.current) === null || _playerRef$current4 === void 0 ? void 0 : _playerRef$current4.seekTo(Math.min(dayEndMs, currentTimeMs + 10000));\n          },\n          style: {\n            background: \"#333\",\n            color: \"#fff\",\n            border: \"1px solid #444\",\n            borderRadius: 4,\n            padding: \"6px 12px\",\n            cursor: \"pointer\"\n          },\n          children: \"+10s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: \"monospace\",\n          fontSize: 14,\n          color: \"#2ecc71\",\n          fontWeight: \"bold\",\n          marginLeft: 10\n        },\n        children: new Date(currentTimeMs).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate,\n        onChange: e => setSelectedDate(e.target.value),\n        style: {\n          background: \"#111\",\n          color: \"#fff\",\n          border: \"1px solid #444\",\n          padding: \"4px 8px\",\n          borderRadius: 4\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        background: \"#000\",\n        position: 'relative',\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        onClick: () => {\n          var _playerRef$current5, _playerRef$current6;\n          return playerState === PlayerState.PLAYING ? (_playerRef$current5 = playerRef.current) === null || _playerRef$current5 === void 0 ? void 0 : _playerRef$current5.pause() : (_playerRef$current6 = playerRef.current) === null || _playerRef$current6 === void 0 ? void 0 : _playerRef$current6.play();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this), playerState === PlayerState.BUFFERING && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          color: \"#fff\",\n          background: \"rgba(0,0,0,0.7)\",\n          padding: \"10px 20px\",\n          borderRadius: 8,\n          display: 'flex',\n          alignItems: 'center',\n          gap: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 16,\n            height: 16,\n            borderRadius: '50%',\n            border: '2px solid #fff',\n            borderTopColor: 'transparent',\n            animation: 'spin 1s linear infinite'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this), \"BUFFERING...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this), playerState === PlayerState.SEEKING && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          color: \"#fff\",\n          background: \"rgba(0,0,0,0.7)\",\n          padding: \"10px 20px\",\n          borderRadius: 8\n        },\n        children: \"SEEKING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }, this), playerState === PlayerState.IDLE && segments.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          color: \"#aaa\",\n          background: \"rgba(0,0,0,0.5)\",\n          padding: 20,\n          borderRadius: 8\n        },\n        children: [\"NO RECORDINGS FOUND FOR \", selectedDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: timelineContainerRef,\n      style: {\n        height: 100,\n        background: \"#1a1a1a\",\n        borderTop: \"1px solid #333\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        cursor: dragRef.current.isDragging ? \"grabbing\" : \"default\"\n      },\n      onWheel: handleWheel,\n      onMouseDown: handleMouseDown,\n      children: [renderGrid(), renderSegments(), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: timeToPx(currentTimeMs),\n          top: 0,\n          bottom: 0,\n          width: 2,\n          background: \"#ff3333\",\n          zIndex: 10,\n          pointerEvents: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: -5,\n            width: 0,\n            height: 0,\n            borderLeft: '6px solid transparent',\n            borderRight: '6px solid transparent',\n            borderTop: '6px solid #ff3333'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n}\n_s(PlaybackModern, \"S+EkohZ/SYSXB6s1hO/xS9HtNfM=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = PlaybackModern;\nvar _c;\n$RefreshReg$(_c, \"PlaybackModern\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useSearchParams","useNavigate","API","EnterprisePlayer","PlayerState","jsxDEV","_jsxDEV","PlaybackModern","_s","searchParams","navigate","camId","get","selectedDate","setSelectedDate","Date","toISOString","split","playerState","setPlayerState","IDLE","currentTimeMs","setCurrentTimeMs","now","viewStartMs","setViewStartMs","setHours","zoomPxPerSec","setZoomPxPerSec","containerWidth","setContainerWidth","segments","setSegments","videoRef","playerRef","timelineContainerRef","dragRef","isDragging","startX","startViewTime","dayStartMs","dayEndMs","current","console","log","state","destroy","load","res","data","segs","map","s","start","Number","start_ts","startTs","end","end_ts","endTs","file","loadSegments","ds","e","error","interval","setInterval","PLAYING","epoch","getCurrentTime","Math","abs","clearInterval","performSeek","seekTo","handleZoom","secondsVisible","handleWheel","preventDefault","rect","getBoundingClientRect","mouseX","clientX","left","mouseTime","delta","deltaY","newZoom","max","min","handleMouseDown","document","body","style","cursor","handleMouseMove","diffPx","dtMs","handleMouseUp","dist","clickX","clickTime","timeToPx","ts","renderGrid","ticks","startMs","endMs","targetTickPx","secondsPer100Px","steps","stepSec","stepMs","firstTick","ceil","t","x","d","label","toLocaleTimeString","hour","minute","second","push","position","top","bottom","borderLeft","pointerEvents","children","fontSize","fontFamily","color","fileName","_jsxFileName","lineNumber","columnNumber","renderSegments","endVis","i","x1","w","width","background","opacity","border","display","flexDirection","height","userSelect","onMouseUp","onMouseLeave","onMouseMove","borderBottom","alignItems","padding","gap","onClick","borderRadius","fontWeight","flex","margin","_playerRef$current","_playerRef$current2","_playerRef$current3","pause","play","_playerRef$current4","marginLeft","type","value","onChange","target","justifyContent","ref","_playerRef$current5","_playerRef$current6","BUFFERING","borderTopColor","animation","SEEKING","length","borderTop","overflow","onWheel","onMouseDown","zIndex","borderRight","_c","$RefreshReg$"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/PlaybackModern.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport API from \"../api\";\r\nimport EnterprisePlayer, { PlayerState } from \"../services/EnterprisePlayer\";\r\n\r\nexport default function PlaybackModern() {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const camId = searchParams.get(\"camId\");\r\n\r\n    // --- STATE ---\r\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [playerState, setPlayerState] = useState(PlayerState.IDLE);\r\n\r\n    // Timeline State\r\n    const [currentTimeMs, setCurrentTimeMs] = useState(Date.now());\r\n    const [viewStartMs, setViewStartMs] = useState(new Date().setHours(0, 0, 0, 0));\r\n    const [zoomPxPerSec, setZoomPxPerSec] = useState(0.015);\r\n    const [containerWidth, setContainerWidth] = useState(1000);\r\n    const [segments, setSegments] = useState([]);\r\n\r\n    const videoRef = useRef(null);\r\n    const playerRef = useRef(null);\r\n    const timelineContainerRef = useRef(null);\r\n    const dragRef = useRef({ isDragging: false, startX: 0, startViewTime: 0 });\r\n\r\n    const dayStartMs = new Date(selectedDate).setHours(0, 0, 0, 0);\r\n    const dayEndMs = dayStartMs + 86400000;\r\n\r\n    // --- 1. INITIALIZE PLAYER ---\r\n    useEffect(() => {\r\n        if (videoRef.current && camId) {\r\n            console.log(\"[Playback] Initializing Enterprise Player for\", camId);\r\n            playerRef.current = new EnterprisePlayer(videoRef.current, camId, (state) => {\r\n                setPlayerState(state);\r\n            });\r\n        }\r\n        return () => {\r\n            if (playerRef.current) {\r\n                playerRef.current.destroy();\r\n                playerRef.current = null;\r\n            }\r\n        };\r\n    }, [camId]);\r\n\r\n    // --- 2. LOAD DATA ---\r\n    useEffect(() => {\r\n        if (!camId || !selectedDate || !playerRef.current) return;\r\n\r\n        const load = async () => {\r\n            try {\r\n                // Determine API endpoint - handle possible proxy/prefix needs\r\n                // Using /api prefix as seen elsewhere\r\n                const res = await API.get(`/api/playback/timeline-day/${camId}/${selectedDate}`);\r\n                const data = res.data;\r\n                const segs = (data.segments || []).map(s => ({\r\n                    start: Number(s.start_ts || s.startTs),\r\n                    end: Number(s.end_ts || s.endTs),\r\n                    file: s.file\r\n                }));\r\n\r\n                setSegments(segs);\r\n                playerRef.current.loadSegments(segs);\r\n\r\n                // Auto-fit to Day initially if zoom is default\r\n                if (containerWidth > 0 && zoomPxPerSec === 0.015) {\r\n                    const ds = new Date(selectedDate).setHours(0, 0, 0, 0);\r\n                    setViewStartMs(ds);\r\n                    setZoomPxPerSec(containerWidth / 86400);\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Failed to load timeline\", e);\r\n            }\r\n        };\r\n        load();\r\n    }, [camId, selectedDate, containerWidth]);\r\n\r\n    // --- 3. SYNC TIME ---\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if (playerState === PlayerState.PLAYING && playerRef.current) {\r\n                const epoch = playerRef.current.getCurrentTime();\r\n                // Ensure reasonable sync, don't jump massively or UI flickers\r\n                if (epoch && Math.abs(epoch - currentTimeMs) > 200) {\r\n                    setCurrentTimeMs(epoch);\r\n                }\r\n            }\r\n        }, 100);\r\n        return () => clearInterval(interval);\r\n    }, [playerState, currentTimeMs]);\r\n\r\n\r\n    // --- 4. INTERACTION HANDLERS ---\r\n    const performSeek = (epoch) => {\r\n        setCurrentTimeMs(epoch);\r\n        if (playerRef.current) {\r\n            // Seek and auto-play\r\n            playerRef.current.seekTo(epoch, true);\r\n        }\r\n    };\r\n\r\n    const handleZoom = (secondsVisible) => {\r\n        if (containerWidth > 0) {\r\n            setZoomPxPerSec(containerWidth / secondsVisible);\r\n        }\r\n    };\r\n\r\n    const handleWheel = (e) => {\r\n        e.preventDefault();\r\n        const rect = timelineContainerRef.current.getBoundingClientRect();\r\n        const mouseX = e.clientX - rect.left;\r\n        const mouseTime = viewStartMs + ((mouseX / zoomPxPerSec) * 1000);\r\n\r\n        const delta = e.deltaY > 0 ? 0.9 : 1.1;\r\n        const newZoom = Math.max(containerWidth / 86400, Math.min(200, zoomPxPerSec * delta));\r\n\r\n        setZoomPxPerSec(newZoom);\r\n        setViewStartMs(mouseTime - ((mouseX / newZoom) * 1000));\r\n    };\r\n\r\n    const handleMouseDown = (e) => {\r\n        dragRef.current = { isDragging: true, startX: e.clientX, startViewTime: viewStartMs };\r\n        document.body.style.cursor = 'grabbing';\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragRef.current.isDragging) return;\r\n        const diffPx = dragRef.current.startX - e.clientX;\r\n        const dtMs = (diffPx / zoomPxPerSec) * 1000;\r\n        setViewStartMs(dragRef.current.startViewTime + dtMs);\r\n    };\r\n\r\n    const handleMouseUp = (e) => {\r\n        if (dragRef.current.isDragging) {\r\n            dragRef.current.isDragging = false;\r\n            document.body.style.cursor = 'default';\r\n            const dist = Math.abs(e.clientX - dragRef.current.startX);\r\n            if (dist < 5) {\r\n                const rect = timelineContainerRef.current.getBoundingClientRect();\r\n                const clickX = e.clientX - rect.left;\r\n                const clickTime = viewStartMs + ((clickX / zoomPxPerSec) * 1000);\r\n                performSeek(clickTime);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    // --- RENDER HELPERS ---\r\n    const timeToPx = (ts) => ((ts - viewStartMs) / 1000) * zoomPxPerSec;\r\n\r\n    const renderGrid = () => {\r\n        // Prevent infinite loops if zoom is 0\r\n        if (zoomPxPerSec <= 0) return null;\r\n\r\n        const ticks = [];\r\n        const startMs = viewStartMs;\r\n        const endMs = viewStartMs + (containerWidth / zoomPxPerSec * 1000);\r\n\r\n        // Target 100px per tick\r\n        const targetTickPx = 100;\r\n        const secondsPer100Px = targetTickPx / zoomPxPerSec;\r\n\r\n        const steps = [1, 5, 10, 30, 60, 300, 600, 1800, 3600, 7200, 14400];\r\n        let stepSec = 3600;\r\n        for (let s of steps) { if (s >= secondsPer100Px) { stepSec = s; break; } }\r\n\r\n        const stepMs = stepSec * 1000;\r\n        // Align to step boundary\r\n        const firstTick = Math.ceil(startMs / stepMs) * stepMs;\r\n\r\n        for (let t = firstTick; t < endMs; t += stepMs) {\r\n            const x = timeToPx(t);\r\n            const d = new Date(t);\r\n\r\n            let label;\r\n            if (stepSec >= 3600) label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n            else if (stepSec >= 60) label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n            else label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });\r\n\r\n            ticks.push(\r\n                <div key={`tick-${t}`} style={{ position: 'absolute', left: x, top: 0, bottom: 0, borderLeft: '1px solid #333', pointerEvents: 'none' }}>\r\n                    <div style={{ position: 'absolute', bottom: 2, left: 4, fontSize: 10, fontFamily: 'monospace', color: '#888' }}>{label}</div>\r\n                </div>\r\n            );\r\n        }\r\n        return ticks;\r\n    };\r\n\r\n    const renderSegments = () => {\r\n        const endVis = viewStartMs + (containerWidth / zoomPxPerSec * 1000);\r\n        return segments.map((s, i) => {\r\n            if (s.end < viewStartMs || s.start > endVis) return null;\r\n            const x1 = timeToPx(s.start);\r\n            // Ensure nice minimum width for visibility\r\n            const w = Math.max(1, ((s.end - s.start) / 1000) * zoomPxPerSec);\r\n            return <div key={i} style={{ position: 'absolute', left: x1, top: 10, bottom: 20, width: w, background: '#2ecc71', opacity: 0.8, pointerEvents: 'none', border: '1px solid #27ae60' }} />;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100vh\", background: \"#1b1d21\", color: \"#e0e6ed\", userSelect: \"none\" }}\r\n            onMouseUp={handleMouseUp} onMouseLeave={handleMouseUp} onMouseMove={handleMouseMove}>\r\n\r\n            {/* TOOLBAR */}\r\n            <div style={{ height: 48, background: \"#1f1f1f\", borderBottom: \"1px solid #333\", display: \"flex\", alignItems: \"center\", padding: \"0 16px\", gap: 16 }}>\r\n                <button onClick={() => navigate(\"/\")} style={{ background: \"#333\", border: \"none\", color: \"#fff\", padding: \"6px 12px\", borderRadius: 4, cursor: \"pointer\", fontWeight: 600 }}>‚Üê LIVE</button>\r\n                <div style={{ fontWeight: 600, color: '#fff' }}>PLAYBACK ENTERPRISE</div>\r\n                <div style={{ flex: 1 }} />\r\n\r\n                {/* Controls */}\r\n                <div style={{ display: 'flex', gap: 4 }}>\r\n                    <button onClick={() => handleZoom(60)} style={{ background: \"#333\", color: \"#fff\", border: \"1px solid #444\", borderRadius: 4, padding: \"4px 8px\", cursor: \"pointer\", fontSize: 11 }}>1m</button>\r\n                    <button onClick={() => handleZoom(900)} style={{ background: \"#333\", color: \"#fff\", border: \"1px solid #444\", borderRadius: 4, padding: \"4px 8px\", cursor: \"pointer\", fontSize: 11 }}>15m</button>\r\n                    <button onClick={() => handleZoom(3600)} style={{ background: \"#333\", color: \"#fff\", border: \"1px solid #444\", borderRadius: 4, padding: \"4px 8px\", cursor: \"pointer\", fontSize: 11 }}>1h</button>\r\n                </div>\r\n\r\n                <div style={{ width: 1, height: 24, background: \"#444\", margin: \"0 8px\" }} />\r\n\r\n                <div style={{ display: 'flex', gap: 8 }}>\r\n                    <button onClick={() => playerRef.current?.seekTo(Math.max(dayStartMs, currentTimeMs - 10000))} style={{ background: \"#333\", color: \"#fff\", border: \"1px solid #444\", borderRadius: 4, padding: \"6px 12px\", cursor: \"pointer\" }}>-10s</button>\r\n                    <button onClick={() => playerState === PlayerState.PLAYING ? playerRef.current?.pause() : playerRef.current?.play()} style={{ background: \"#2ecc71\", color: \"#fff\", border: \"none\", padding: \"6px 20px\", borderRadius: 4, cursor: \"pointer\", fontWeight: \"bold\" }}>\r\n                        {playerState === PlayerState.PLAYING ? \"PAUSE\" : \"PLAY\"}\r\n                    </button>\r\n                    <button onClick={() => playerRef.current?.seekTo(Math.min(dayEndMs, currentTimeMs + 10000))} style={{ background: \"#333\", color: \"#fff\", border: \"1px solid #444\", borderRadius: 4, padding: \"6px 12px\", cursor: \"pointer\" }}>+10s</button>\r\n                </div>\r\n\r\n                <div style={{ fontFamily: \"monospace\", fontSize: 14, color: \"#2ecc71\", fontWeight: \"bold\", marginLeft: 10 }}>\r\n                    {new Date(currentTimeMs).toLocaleTimeString()}\r\n                </div>\r\n\r\n                <input type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} style={{ background: \"#111\", color: \"#fff\", border: \"1px solid #444\", padding: \"4px 8px\", borderRadius: 4 }} />\r\n            </div>\r\n\r\n            {/* VIDEO PLAYER */}\r\n            <div style={{ flex: 1, background: \"#000\", position: 'relative', display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                <video ref={videoRef} style={{ width: '100%', height: '100%' }} onClick={() => playerState === PlayerState.PLAYING ? playerRef.current?.pause() : playerRef.current?.play()} />\r\n\r\n                {/* STATE OVERLAYS */}\r\n                {playerState === PlayerState.BUFFERING && (\r\n                    <div style={{ position: \"absolute\", color: \"#fff\", background: \"rgba(0,0,0,0.7)\", padding: \"10px 20px\", borderRadius: 8, display: 'flex', alignItems: 'center', gap: 10 }}>\r\n                        <div style={{ width: 16, height: 16, borderRadius: '50%', border: '2px solid #fff', borderTopColor: 'transparent', animation: 'spin 1s linear infinite' }} />\r\n                        BUFFERING...\r\n                    </div>\r\n                )}\r\n                {playerState === PlayerState.SEEKING && (\r\n                    <div style={{ position: \"absolute\", color: \"#fff\", background: \"rgba(0,0,0,0.7)\", padding: \"10px 20px\", borderRadius: 8 }}>\r\n                        SEEKING...\r\n                    </div>\r\n                )}\r\n                {playerState === PlayerState.IDLE && segments.length === 0 && (\r\n                    <div style={{ position: \"absolute\", color: \"#aaa\", background: \"rgba(0,0,0,0.5)\", padding: 20, borderRadius: 8 }}>\r\n                        NO RECORDINGS FOUND FOR {selectedDate}\r\n                    </div>\r\n                )}\r\n\r\n                <style>{`@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }`}</style>\r\n            </div>\r\n\r\n            {/* TIMELINE */}\r\n            <div ref={timelineContainerRef} style={{ height: 100, background: \"#1a1a1a\", borderTop: \"1px solid #333\", position: \"relative\", overflow: \"hidden\", cursor: dragRef.current.isDragging ? \"grabbing\" : \"default\" }}\r\n                onWheel={handleWheel} onMouseDown={handleMouseDown}>\r\n                {renderGrid()}\r\n                {renderSegments()}\r\n\r\n                {/* Playhead */}\r\n                <div style={{ position: \"absolute\", left: timeToPx(currentTimeMs), top: 0, bottom: 0, width: 2, background: \"#ff3333\", zIndex: 10, pointerEvents: \"none\" }}>\r\n                    <div style={{ position: 'absolute', top: 0, left: -5, width: 0, height: 0, borderLeft: '6px solid transparent', borderRight: '6px solid transparent', borderTop: '6px solid #ff3333' }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}