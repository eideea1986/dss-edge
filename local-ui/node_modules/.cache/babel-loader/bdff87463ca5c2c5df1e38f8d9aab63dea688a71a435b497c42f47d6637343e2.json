{"ast":null,"code":"import React,{useEffect,useState,useRef,useMemo}from\"react\";import{useSearchParams}from\"react-router-dom\";import API from\"../api\";// --- CSS STYLES (Trassir Enterprise Pro Aesthetic) ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const styles=\"\\n.trassir-player { \\n    height: 100vh; display: flex; flex-direction: column; background: #0a0a0a; color: #eee; font-family: 'Inter', 'Segoe UI', Roboto, sans-serif; \\n}\\n.video-container { \\n    flex: 1; background: #000; display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; min-height: 0;\\n}\\n.video-el { \\n    max-height: 100%; max-width: 100%; width: 100%; height: 100%; object-fit: contain;\\n}\\n.status-badge {\\n    position: absolute; top: 15px; left: 15px; background: rgba(0,0,0,0.8); padding: 5px 12px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; border: 1px solid #444; color: #3498db; pointer-events: none; z-index: 100;\\n}\\n.timeline-container { \\n    background: #151515; border-top: 1px solid #333; display: flex; flex-direction: column; padding: 10px 20px;\\n}\\n.timeline-axis { \\n    position: relative; height: 50px; background: #222; margin-top: 5px; border-radius: 4px; overflow: hidden; cursor: crosshair; border: 1px solid #333;\\n}\\n.timeline-seg-video { \\n    position: absolute; height: 100%; background: #2ecc71; opacity: 0.8; border-right: 1px solid #27ae60; min-width: 2px;\\n}\\n.timeline-cursor { \\n    position: absolute; width: 2px; height: 100%; background: #fff; z-index: 10; box-shadow: 0 0 10px #fff; pointer-events: none;\\n}\\n.controls-bar { \\n    height: 70px; background: #1a1a1a; display: flex; align-items: center; gap: 15px; padding: 0 20px; border-top: 1px solid #222;\\n}\\n.btn-control { \\n    background: #333; color: #fff; border: 1px solid #444; padding: 8px 12px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 0.85rem; white-space: nowrap; transition: all 0.2s;\\n}\\n.btn-control:hover { background: #444; border-color: #555; }\\n.btn-active { background: #3498db !important; border-color: #2980b9 !important; }\\n.btn-export { background: #d35400; border-color: #e67e22; }\\n.jog-container { display: flex; flex-direction: column; align-items: center; gap: 2px; min-width: 150px; }\\n.jog-slider { width: 100%; cursor: pointer; accent-color: #3498db; }\\n.zoom-btn { padding: 4px 8px; font-size: 0.75rem; background: #222; border: 1px solid #444; color: #888; border-radius: 3px; cursor: pointer; }\\n.zoom-btn.active { background: #444; color: #fff; }\\n\";const ZOOM_LEVELS=[{label:\"24h\",range:86400000},{label:\"6h\",range:21600000},{label:\"1h\",range:3600000},{label:\"1m\",range:60000}];export default function Playback(){const[params]=useSearchParams();const camId=params.get(\"camId\");const[segments,setSegments]=useState([]);const[currentTime,setCurrentTime]=useState(Date.now());const[isPlaying,setIsPlaying]=useState(false);const[speed,setSpeed]=useState(1);const[status,setStatus]=useState(\"IDLE\");const[zoomLevel,setZoomLevel]=useState(ZOOM_LEVELS[0]);const[streamUrl,setStreamUrl]=useState(null);const dayStart=useMemo(()=>{const d=new Date();d.setHours(0,0,0,0);return d.getTime();},[]);// Timeline window\nconst timelineWindow=useMemo(()=>{const halfRange=zoomLevel.range/2;let start=currentTime-halfRange;let end=currentTime+halfRange;if(start<dayStart){start=dayStart;end=dayStart+zoomLevel.range;}if(end>dayStart+86400000){end=dayStart+86400000;start=end-zoomLevel.range;}return{start,end};},[currentTime,zoomLevel,dayStart]);// 1. Fetch Timeline\nuseEffect(()=>{if(!camId)return;API.get(\"/playback/timeline/\".concat(camId)).then(res=>{const segs=res.data.segments||[];setSegments(segs);if(segs.length>0){// Set current time to first segment\nsetCurrentTime(segs[0].start_ts);}}).catch(e=>console.error(\"Timeline fetch error:\",e));},[camId]);// 2. Start Playback\nconst startPlayback=async function(from,to){let spd=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;setStatus(\"CONNECTING...\");try{const res=await API.post('/playback/start',{camId,from,to,speed:spd});const{rtspUrl,webrtcUrl}=res.data;// Use WebRTC if go2rtc is available\nconsole.log(\"Playback started:\",res.data);console.log(\"RTSP URL:\",rtspUrl);console.log(\"WebRTC URL:\",webrtcUrl);// Set WebRTC stream\nsetStreamUrl(\"/rtc/webrtc?src=playback&_t=\".concat(Date.now()));setIsPlaying(true);setStatus(\"PLAYING\");}catch(e){console.error(\"Playback error:\",e);setStatus(\"ERROR: \"+e.message);}};// 3. Actions\nconst togglePlay=()=>{if(isPlaying){// Stop playback\nAPI.post('/playback/stop').then(()=>{setIsPlaying(false);setStatus(\"STOPPED\");setStreamUrl(null);});}else{// Find segment containing current time\nconst seg=segments.find(s=>currentTime>=s.start_ts&&currentTime<=s.end_ts);if(seg){startPlayback(seg.start_ts,seg.end_ts,speed);}else if(segments.length>0){// Start from first segment\nstartPlayback(segments[0].start_ts,segments[segments.length-1].end_ts,speed);}}};const handleSeek=targetTs=>{setCurrentTime(targetTs);// Find segment for this timestamp\nconst seg=segments.find(s=>targetTs>=s.start_ts&&targetTs<=s.end_ts);if(seg&&isPlaying){// Restart playback from new position\nstartPlayback(targetTs,seg.end_ts,speed);}};const step=secs=>{handleSeek(currentTime+secs*1000);};const formatAbsoluteTime=ms=>{const d=new Date(ms);return d.toLocaleTimeString([],{hour12:false})+\".\"+d.getMilliseconds().toString().padStart(3,'0');};return/*#__PURE__*/_jsxs(\"div\",{className:\"trassir-player\",children:[/*#__PURE__*/_jsx(\"style\",{children:styles}),/*#__PURE__*/_jsxs(\"div\",{style:{height:50,background:\"#1a1a1a\",display:\"flex\",alignItems:\"center\",padding:\"0 20px\",borderBottom:\"1px solid #333\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/',className:\"btn-control\",style:{marginRight:20},children:\"\\u2190 Back\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"0.95rem\",fontWeight:\"bold\"},children:camId}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"0.75rem\",color:\"#3498db\"},children:\"TRASSIR Professional Archive\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\",display:\"flex\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:{fontFamily:\"monospace\",fontSize:\"1.1rem\",color:\"#3498db\",minWidth:160,textAlign:\"right\"},children:formatAbsoluteTime(currentTime)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-badge\",children:[status,\" \",Math.abs(speed)!==1&&isPlaying?\"(\".concat(speed,\"x)\"):'']}),streamUrl?/*#__PURE__*/_jsx(\"iframe\",{src:streamUrl,className:\"video-el\",allow:\"camera;microphone;fullscreen;picture-in-picture;display-capture;autoplay\",style:{border:'none',width:'100%',height:'100%'},title:\"Playback Stream\"}):/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',fontSize:'0.9rem'},children:segments.length===0?'No recordings available':'Press PLAY to start playback'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-container\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:5},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"0.75rem\",color:\"#888\",textTransform:\"uppercase\",letterSpacing:1},children:\"Timeline Zoom:\"}),ZOOM_LEVELS.map(z=>/*#__PURE__*/_jsx(\"button\",{className:\"zoom-btn \".concat(zoomLevel.label===z.label?'active':''),onClick:()=>setZoomLevel(z),children:z.label},z.label))]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"0.75rem\",color:\"#888\"},children:[segments.length,\" segments\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-axis\",onClick:e=>{const rect=e.currentTarget.getBoundingClientRect();const pct=(e.clientX-rect.left)/rect.width;handleSeek(timelineWindow.start+pct*zoomLevel.range);},children:[segments.filter(s=>s.end_ts>timelineWindow.start&&s.start_ts<timelineWindow.end).map((seg,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"timeline-seg-video\",style:{left:\"\".concat((Math.max(seg.start_ts,timelineWindow.start)-timelineWindow.start)/zoomLevel.range*100,\"%\"),width:\"\".concat((Math.min(seg.end_ts,timelineWindow.end)-Math.max(seg.start_ts,timelineWindow.start))/zoomLevel.range*100,\"%\"),zIndex:1}},idx)),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-cursor\",style:{left:\"\".concat((currentTime-timelineWindow.start)/zoomLevel.range*100,\"%\"),zIndex:10,display:currentTime>=timelineWindow.start&&currentTime<=timelineWindow.end?'block':'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"#666\",fontSize:\"0.7rem\",marginTop:5},children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(timelineWindow.start).toLocaleTimeString([],{hour12:false})}),/*#__PURE__*/_jsx(\"span\",{children:new Date(timelineWindow.start+zoomLevel.range/2).toLocaleTimeString([],{hour12:false})}),/*#__PURE__*/_jsx(\"span\",{children:new Date(timelineWindow.end).toLocaleTimeString([],{hour12:false})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls-bar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-control \".concat(isPlaying?'btn-active':''),onClick:togglePlay,style:{width:100,fontWeight:\"bold\"},children:isPlaying?\"⏸ PAUSE\":\"▶ PLAY\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:5},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-control\",onClick:()=>step(-10),title:\"Rewind 10s\",children:\"\\xAB 10s\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-control\",onClick:()=>step(-1),title:\"Rewind 1s\",children:\"\\xAB 1s\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-control\",onClick:()=>step(1),title:\"Forward 1s\",children:\"1s \\xBB\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-control\",onClick:()=>step(10),title:\"Forward 10s\",children:\"10s \\xBB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"jog-container\",style:{marginLeft:30},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"0.7rem\",color:\"#666\",fontWeight:\"bold\"},children:\"JOG SHUTTLE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"-2\",max:\"2\",step:\"0.25\",value:speed,onChange:e=>setSpeed(parseFloat(e.target.value)),className:\"jog-slider\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"0.8rem\",color:\"#3498db\"},children:[speed,\"x\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\",fontSize:\"0.75rem\",color:\"#666\"},children:\"Enterprise RTSP Playback \\u2022 Fixed Endpoint\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","useMemo","useSearchParams","API","jsx","_jsx","jsxs","_jsxs","styles","ZOOM_LEVELS","label","range","Playback","params","camId","get","segments","setSegments","currentTime","setCurrentTime","Date","now","isPlaying","setIsPlaying","speed","setSpeed","status","setStatus","zoomLevel","setZoomLevel","streamUrl","setStreamUrl","dayStart","d","setHours","getTime","timelineWindow","halfRange","start","end","concat","then","res","segs","data","length","start_ts","catch","e","console","error","startPlayback","from","to","spd","arguments","undefined","post","rtspUrl","webrtcUrl","log","message","togglePlay","seg","find","s","end_ts","handleSeek","targetTs","step","secs","formatAbsoluteTime","ms","toLocaleTimeString","hour12","getMilliseconds","toString","padStart","className","children","style","height","background","display","alignItems","padding","borderBottom","onClick","window","location","href","marginRight","flexDirection","justifyContent","fontSize","fontWeight","color","marginLeft","fontFamily","minWidth","textAlign","Math","abs","src","allow","border","width","title","marginBottom","gap","textTransform","letterSpacing","map","z","rect","currentTarget","getBoundingClientRect","pct","clientX","left","filter","idx","max","min","zIndex","marginTop","type","value","onChange","parseFloat","target"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/Playback.js"],"sourcesContent":["import React, { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport API from \"../api\";\r\n\r\n// --- CSS STYLES (Trassir Enterprise Pro Aesthetic) ---\r\nconst styles = `\r\n.trassir-player { \r\n    height: 100vh; display: flex; flex-direction: column; background: #0a0a0a; color: #eee; font-family: 'Inter', 'Segoe UI', Roboto, sans-serif; \r\n}\r\n.video-container { \r\n    flex: 1; background: #000; display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; min-height: 0;\r\n}\r\n.video-el { \r\n    max-height: 100%; max-width: 100%; width: 100%; height: 100%; object-fit: contain;\r\n}\r\n.status-badge {\r\n    position: absolute; top: 15px; left: 15px; background: rgba(0,0,0,0.8); padding: 5px 12px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; border: 1px solid #444; color: #3498db; pointer-events: none; z-index: 100;\r\n}\r\n.timeline-container { \r\n    background: #151515; border-top: 1px solid #333; display: flex; flex-direction: column; padding: 10px 20px;\r\n}\r\n.timeline-axis { \r\n    position: relative; height: 50px; background: #222; margin-top: 5px; border-radius: 4px; overflow: hidden; cursor: crosshair; border: 1px solid #333;\r\n}\r\n.timeline-seg-video { \r\n    position: absolute; height: 100%; background: #2ecc71; opacity: 0.8; border-right: 1px solid #27ae60; min-width: 2px;\r\n}\r\n.timeline-cursor { \r\n    position: absolute; width: 2px; height: 100%; background: #fff; z-index: 10; box-shadow: 0 0 10px #fff; pointer-events: none;\r\n}\r\n.controls-bar { \r\n    height: 70px; background: #1a1a1a; display: flex; align-items: center; gap: 15px; padding: 0 20px; border-top: 1px solid #222;\r\n}\r\n.btn-control { \r\n    background: #333; color: #fff; border: 1px solid #444; padding: 8px 12px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 0.85rem; white-space: nowrap; transition: all 0.2s;\r\n}\r\n.btn-control:hover { background: #444; border-color: #555; }\r\n.btn-active { background: #3498db !important; border-color: #2980b9 !important; }\r\n.btn-export { background: #d35400; border-color: #e67e22; }\r\n.jog-container { display: flex; flex-direction: column; align-items: center; gap: 2px; min-width: 150px; }\r\n.jog-slider { width: 100%; cursor: pointer; accent-color: #3498db; }\r\n.zoom-btn { padding: 4px 8px; font-size: 0.75rem; background: #222; border: 1px solid #444; color: #888; border-radius: 3px; cursor: pointer; }\r\n.zoom-btn.active { background: #444; color: #fff; }\r\n`;\r\n\r\nconst ZOOM_LEVELS = [\r\n    { label: \"24h\", range: 86400000 },\r\n    { label: \"6h\", range: 21600000 },\r\n    { label: \"1h\", range: 3600000 },\r\n    { label: \"1m\", range: 60000 }\r\n];\r\n\r\nexport default function Playback() {\r\n    const [params] = useSearchParams();\r\n    const camId = params.get(\"camId\");\r\n\r\n    const [segments, setSegments] = useState([]);\r\n    const [currentTime, setCurrentTime] = useState(Date.now());\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [speed, setSpeed] = useState(1);\r\n    const [status, setStatus] = useState(\"IDLE\");\r\n    const [zoomLevel, setZoomLevel] = useState(ZOOM_LEVELS[0]);\r\n    const [streamUrl, setStreamUrl] = useState(null);\r\n\r\n    const dayStart = useMemo(() => {\r\n        const d = new Date();\r\n        d.setHours(0, 0, 0, 0);\r\n        return d.getTime();\r\n    }, []);\r\n\r\n    // Timeline window\r\n    const timelineWindow = useMemo(() => {\r\n        const halfRange = zoomLevel.range / 2;\r\n        let start = currentTime - halfRange;\r\n        let end = currentTime + halfRange;\r\n\r\n        if (start < dayStart) { start = dayStart; end = dayStart + zoomLevel.range; }\r\n        if (end > dayStart + 86400000) { end = dayStart + 86400000; start = end - zoomLevel.range; }\r\n        return { start, end };\r\n    }, [currentTime, zoomLevel, dayStart]);\r\n\r\n    // 1. Fetch Timeline\r\n    useEffect(() => {\r\n        if (!camId) return;\r\n\r\n        API.get(`/playback/timeline/${camId}`)\r\n            .then(res => {\r\n                const segs = res.data.segments || [];\r\n                setSegments(segs);\r\n\r\n                if (segs.length > 0) {\r\n                    // Set current time to first segment\r\n                    setCurrentTime(segs[0].start_ts);\r\n                }\r\n            })\r\n            .catch(e => console.error(\"Timeline fetch error:\", e));\r\n    }, [camId]);\r\n\r\n    // 2. Start Playback\r\n    const startPlayback = async (from, to, spd = 1) => {\r\n        setStatus(\"CONNECTING...\");\r\n\r\n        try {\r\n            const res = await API.post('/playback/start', {\r\n                camId,\r\n                from,\r\n                to,\r\n                speed: spd\r\n            });\r\n\r\n            const { rtspUrl, webrtcUrl } = res.data;\r\n\r\n            // Use WebRTC if go2rtc is available\r\n            console.log(\"Playback started:\", res.data);\r\n            console.log(\"RTSP URL:\", rtspUrl);\r\n            console.log(\"WebRTC URL:\", webrtcUrl);\r\n\r\n            // Set WebRTC stream\r\n            setStreamUrl(`/rtc/webrtc?src=playback&_t=${Date.now()}`);\r\n            setIsPlaying(true);\r\n            setStatus(\"PLAYING\");\r\n\r\n        } catch (e) {\r\n            console.error(\"Playback error:\", e);\r\n            setStatus(\"ERROR: \" + e.message);\r\n        }\r\n    };\r\n\r\n    // 3. Actions\r\n    const togglePlay = () => {\r\n        if (isPlaying) {\r\n            // Stop playback\r\n            API.post('/playback/stop').then(() => {\r\n                setIsPlaying(false);\r\n                setStatus(\"STOPPED\");\r\n                setStreamUrl(null);\r\n            });\r\n        } else {\r\n            // Find segment containing current time\r\n            const seg = segments.find(s => currentTime >= s.start_ts && currentTime <= s.end_ts);\r\n\r\n            if (seg) {\r\n                startPlayback(seg.start_ts, seg.end_ts, speed);\r\n            } else if (segments.length > 0) {\r\n                // Start from first segment\r\n                startPlayback(segments[0].start_ts, segments[segments.length - 1].end_ts, speed);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSeek = (targetTs) => {\r\n        setCurrentTime(targetTs);\r\n\r\n        // Find segment for this timestamp\r\n        const seg = segments.find(s => targetTs >= s.start_ts && targetTs <= s.end_ts);\r\n\r\n        if (seg && isPlaying) {\r\n            // Restart playback from new position\r\n            startPlayback(targetTs, seg.end_ts, speed);\r\n        }\r\n    };\r\n\r\n    const step = (secs) => { handleSeek(currentTime + secs * 1000); };\r\n\r\n    const formatAbsoluteTime = (ms) => {\r\n        const d = new Date(ms);\r\n        return d.toLocaleTimeString([], { hour12: false }) + \".\" + d.getMilliseconds().toString().padStart(3, '0');\r\n    };\r\n\r\n    return (\r\n        <div className=\"trassir-player\">\r\n            <style>{styles}</style>\r\n\r\n            {/* Header */}\r\n            <div style={{ height: 50, background: \"#1a1a1a\", display: \"flex\", alignItems: \"center\", padding: \"0 20px\", borderBottom: \"1px solid #333\" }}>\r\n                <button onClick={() => window.location.href = '/'} className=\"btn-control\" style={{ marginRight: 20 }}>← Back</button>\r\n                <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\r\n                    <span style={{ fontSize: \"0.95rem\", fontWeight: \"bold\" }}>{camId}</span>\r\n                    <span style={{ fontSize: \"0.75rem\", color: \"#3498db\" }}>TRASSIR Professional Archive</span>\r\n                </div>\r\n                <div style={{ marginLeft: \"auto\", display: \"flex\", alignItems: \"center\" }}>\r\n                    <div style={{ fontFamily: \"monospace\", fontSize: \"1.1rem\", color: \"#3498db\", minWidth: 160, textAlign: \"right\" }}>{formatAbsoluteTime(currentTime)}</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Video Area */}\r\n            <div className=\"video-container\">\r\n                <div className=\"status-badge\">{status} {Math.abs(speed) !== 1 && isPlaying ? `(${speed}x)` : ''}</div>\r\n                {streamUrl ? (\r\n                    <iframe\r\n                        src={streamUrl}\r\n                        className=\"video-el\"\r\n                        allow=\"camera;microphone;fullscreen;picture-in-picture;display-capture;autoplay\"\r\n                        style={{ border: 'none', width: '100%', height: '100%' }}\r\n                        title=\"Playback Stream\"\r\n                    />\r\n                ) : (\r\n                    <div style={{ color: '#666', fontSize: '0.9rem' }}>\r\n                        {segments.length === 0 ? 'No recordings available' : 'Press PLAY to start playback'}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Timeline Area */}\r\n            <div className=\"timeline-container\">\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 5 }}>\r\n                    <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n                        <span style={{ fontSize: \"0.75rem\", color: \"#888\", textTransform: \"uppercase\", letterSpacing: 1 }}>Timeline Zoom:</span>\r\n                        {ZOOM_LEVELS.map(z => (\r\n                            <button\r\n                                key={z.label}\r\n                                className={`zoom-btn ${zoomLevel.label === z.label ? 'active' : ''}`}\r\n                                onClick={() => setZoomLevel(z)}\r\n                            >\r\n                                {z.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                    <div style={{ fontSize: \"0.75rem\", color: \"#888\" }}>\r\n                        {segments.length} segments\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    className=\"timeline-axis\"\r\n                    onClick={(e) => {\r\n                        const rect = e.currentTarget.getBoundingClientRect();\r\n                        const pct = (e.clientX - rect.left) / rect.width;\r\n                        handleSeek(timelineWindow.start + (pct * zoomLevel.range));\r\n                    }}\r\n                >\r\n                    {/* Recording Segments */}\r\n                    {segments.filter(s => s.end_ts > timelineWindow.start && s.start_ts < timelineWindow.end).map((seg, idx) => (\r\n                        <div\r\n                            key={idx}\r\n                            className=\"timeline-seg-video\"\r\n                            style={{\r\n                                left: `${((Math.max(seg.start_ts, timelineWindow.start) - timelineWindow.start) / zoomLevel.range) * 100}%`,\r\n                                width: `${((Math.min(seg.end_ts, timelineWindow.end) - Math.max(seg.start_ts, timelineWindow.start)) / zoomLevel.range) * 100}%`,\r\n                                zIndex: 1\r\n                            }}\r\n                        />\r\n                    ))}\r\n\r\n                    {/* Cursor */}\r\n                    <div\r\n                        className=\"timeline-cursor\"\r\n                        style={{\r\n                            left: `${((currentTime - timelineWindow.start) / zoomLevel.range) * 100}%`,\r\n                            zIndex: 10,\r\n                            display: (currentTime >= timelineWindow.start && currentTime <= timelineWindow.end) ? 'block' : 'none'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", color: \"#666\", fontSize: \"0.7rem\", marginTop: 5 }}>\r\n                    <span>{new Date(timelineWindow.start).toLocaleTimeString([], { hour12: false })}</span>\r\n                    <span>{new Date(timelineWindow.start + zoomLevel.range / 2).toLocaleTimeString([], { hour12: false })}</span>\r\n                    <span>{new Date(timelineWindow.end).toLocaleTimeString([], { hour12: false })}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Controls Bar */}\r\n            <div className=\"controls-bar\">\r\n                <button className={`btn-control ${isPlaying ? 'btn-active' : ''}`} onClick={togglePlay} style={{ width: 100, fontWeight: \"bold\" }}>\r\n                    {isPlaying ? \"⏸ PAUSE\" : \"▶ PLAY\"}\r\n                </button>\r\n\r\n                <div style={{ display: \"flex\", gap: 5 }}>\r\n                    <button className=\"btn-control\" onClick={() => step(-10)} title=\"Rewind 10s\">« 10s</button>\r\n                    <button className=\"btn-control\" onClick={() => step(-1)} title=\"Rewind 1s\">« 1s</button>\r\n                    <button className=\"btn-control\" onClick={() => step(1)} title=\"Forward 1s\">1s »</button>\r\n                    <button className=\"btn-control\" onClick={() => step(10)} title=\"Forward 10s\">10s »</button>\r\n                </div>\r\n\r\n                {/* Jog Shuttle */}\r\n                <div className=\"jog-container\" style={{ marginLeft: 30 }}>\r\n                    <span style={{ fontSize: \"0.7rem\", color: \"#666\", fontWeight: \"bold\" }}>JOG SHUTTLE</span>\r\n                    <input\r\n                        type=\"range\" min=\"-2\" max=\"2\" step=\"0.25\"\r\n                        value={speed}\r\n                        onChange={(e) => setSpeed(parseFloat(e.target.value))}\r\n                        className=\"jog-slider\"\r\n                    />\r\n                    <div style={{ fontSize: \"0.8rem\", color: \"#3498db\" }}>{speed}x</div>\r\n                </div>\r\n\r\n                <div style={{ marginLeft: \"auto\", fontSize: \"0.75rem\", color: \"#666\" }}>\r\n                    Enterprise RTSP Playback • Fixed Endpoint\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}