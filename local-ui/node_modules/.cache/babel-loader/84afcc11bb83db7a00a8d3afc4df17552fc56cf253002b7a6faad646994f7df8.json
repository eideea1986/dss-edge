{"ast":null,"code":"import{HashRouter,Routes,Route,useLocation}from\"react-router-dom\";import Navbar from\"./components/Navbar\";import React,{Suspense,lazy}from\"react\";// Lazy‑load page components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Live=/*#__PURE__*/lazy(()=>import(\"./pages/Live\"));const Playback=/*#__PURE__*/lazy(()=>import(\"./pages/Playback\"));const Status=/*#__PURE__*/lazy(()=>import(\"./pages/Status\"));const Settings=/*#__PURE__*/lazy(()=>import(\"./pages/Settings\"));const Login=/*#__PURE__*/lazy(()=>import(\"./pages/Login\"));const RequireAuth=/*#__PURE__*/lazy(()=>import(\"./components/RequireAuth\"));const ErrorBoundary=/*#__PURE__*/lazy(()=>import(\"./components/ErrorBoundary\"));const MainContent=()=>{const location=useLocation();const isLive=location.pathname===\"/\"||location.pathname===\"/live\";return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',height:'100vh',width:'100vw',background:'#000',overflow:'hidden'},children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,position:\"relative\",overflow:\"hidden\"},children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{style:{padding:40,textAlign:\"center\",color:\"#888\"},children:\"\\xCEnc\\u0103rcare...\"}),children:[/*#__PURE__*/_jsx(\"div\",{style:{display:isLive?'block':'none',height:'100%',width:'100%',position:'absolute',top:0,left:0,zIndex:isLive?1:-1},children:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Live,{})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:!isLive?'block':'none',height:'100%',width:'100%',position:'absolute',top:0,left:0,zIndex:!isLive?1:-1,background:'#1e1e1e'// Ensure background covers Live when active\n},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/playback\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Playback,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/status\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Status,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Settings,{})})})})]})})]})})]});};export default function App(){return/*#__PURE__*/_jsxs(HashRouter,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n                /* GRID FILL FIX - ULTRA AGGRESSIVE */\\n                video, img, canvas, .rtc-player, .rtc-player-el {\\n                    object-fit: fill !important; \\n                    width: 100% !important; \\n                    height: 100% !important;\\n                    display: block !important;\\n                    min-width: 100% !important;\\n                    min-height: 100% !important;\\n                }\\n                .rtc-player div {\\n                    width: 100% !important;\\n                    height: 100% !important;\\n                }\\n                body { margin: 0; padding: 0; background: #000; overflow: hidden; }\\n            \"}),/*#__PURE__*/_jsx(MainContent,{})]});}","map":{"version":3,"names":["HashRouter","Routes","Route","useLocation","Navbar","React","Suspense","lazy","jsx","_jsx","jsxs","_jsxs","Live","Playback","Status","Settings","Login","RequireAuth","ErrorBoundary","MainContent","location","isLive","pathname","style","display","flexDirection","height","width","background","overflow","children","flex","position","fallback","padding","textAlign","color","top","left","zIndex","path","element","App"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/App.js"],"sourcesContent":["import { HashRouter, Routes, Route, useLocation } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport React, { Suspense, lazy } from \"react\";\r\n\r\n// Lazy‑load page components\r\nconst Live = lazy(() => import(\"./pages/Live\"));\r\nconst Playback = lazy(() => import(\"./pages/Playback\"));\r\nconst Status = lazy(() => import(\"./pages/Status\"));\r\nconst Settings = lazy(() => import(\"./pages/Settings\"));\r\nconst Login = lazy(() => import(\"./pages/Login\"));\r\nconst RequireAuth = lazy(() => import(\"./components/RequireAuth\"));\r\nconst ErrorBoundary = lazy(() => import(\"./components/ErrorBoundary\"));\r\n\r\nconst MainContent = () => {\r\n    const location = useLocation();\r\n    const isLive = location.pathname === \"/\" || location.pathname === \"/live\";\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', height: '100vh', width: '100vw', background: '#000', overflow: 'hidden' }}>\r\n            <Navbar />\r\n            <div style={{ flex: 1, position: \"relative\", overflow: \"hidden\" }}>\r\n                <Suspense fallback={<div style={{ padding: 40, textAlign: \"center\", color: \"#888\" }}>Încărcare...</div>}>\r\n\r\n                    {/* PERSISTENT LIVE PAGE: Always mounted, just hidden via CSS */}\r\n                    <div style={{\r\n                        display: isLive ? 'block' : 'none',\r\n                        height: '100%', width: '100%',\r\n                        position: 'absolute', top: 0, left: 0,\r\n                        zIndex: isLive ? 1 : -1\r\n                    }}>\r\n                        <RequireAuth>\r\n                            <Live />\r\n                        </RequireAuth>\r\n                    </div>\r\n\r\n                    {/* OTHER PAGES: Rendered typically via Routes */}\r\n                    <div style={{\r\n                        display: !isLive ? 'block' : 'none',\r\n                        height: '100%', width: '100%',\r\n                        position: 'absolute', top: 0, left: 0,\r\n                        zIndex: !isLive ? 1 : -1,\r\n                        background: '#1e1e1e' // Ensure background covers Live when active\r\n                    }}>\r\n                        <Routes>\r\n                            <Route path=\"/login\" element={<Login />} />\r\n                            {/* Live route removed from here as it is handled manually above */}\r\n                            <Route path=\"/playback\" element={<RequireAuth><Playback /></RequireAuth>} />\r\n                            <Route path=\"/status\" element={<RequireAuth><Status /></RequireAuth>} />\r\n                            <Route path=\"/settings\" element={<RequireAuth><ErrorBoundary><Settings /></ErrorBoundary></RequireAuth>} />\r\n                        </Routes>\r\n                    </div>\r\n\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default function App() {\r\n    return (\r\n        <HashRouter>\r\n            <style>{`\r\n                /* GRID FILL FIX - ULTRA AGGRESSIVE */\r\n                video, img, canvas, .rtc-player, .rtc-player-el {\r\n                    object-fit: fill !important; \r\n                    width: 100% !important; \r\n                    height: 100% !important;\r\n                    display: block !important;\r\n                    min-width: 100% !important;\r\n                    min-height: 100% !important;\r\n                }\r\n                .rtc-player div {\r\n                    width: 100% !important;\r\n                    height: 100% !important;\r\n                }\r\n                body { margin: 0; padding: 0; background: #000; overflow: hidden; }\r\n            `}</style>\r\n            <MainContent />\r\n        </HashRouter>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}