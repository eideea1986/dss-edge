{"ast":null,"code":"import _objectSpread from\"I:/dispecerat/github_release/dss-edge/local-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useRef,useMemo}from\"react\";import{useSearchParams,useNavigate}from\"react-router-dom\";import API from\"../api\";import PlaybackCoreV2 from\"../services/PlaybackCoreV2\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlaybackModern(){const[searchParams]=useSearchParams();const navigate=useNavigate();const camId=searchParams.get(\"camId\");// --- STATE ---\nconst[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[segments,setSegments]=useState([]);// 1. Where are we in the video? (The Red Line)\nconst[currentTimeMs,setCurrentTimeMs]=useState(Date.now());// 2. What part of the day are we looking at? (The Left Edge of the Timeline)\nconst[viewStartMs,setViewStartMs]=useState(new Date().setHours(0,0,0,0));// 3. How zoomed in are we? (Pixels per Second)\nconst[zoomPxPerSec,setZoomPxPerSec]=useState(0.015);// Start zoomed out (approx full day)\nconst[isPlaying,setIsPlaying]=useState(false);const[isLoading,setIsLoading]=useState(false);const[containerWidth,setContainerWidth]=useState(1000);const videoRef=useRef(null);const coreRef=useRef(null);const timelineContainerRef=useRef(null);const dragRef=useRef({isDragging:false,startX:0,startViewTime:0});const dayStartMs=new Date(selectedDate).setHours(0,0,0,0);const dayEndMs=dayStartMs+86400000;// --- 1. LOAD DATA ---\nuseEffect(()=>{if(!camId||!selectedDate)return;const load=async()=>{setIsLoading(true);try{const res=await API.get(\"playback/timeline-day/\".concat(camId,\"/\").concat(selectedDate));const data=res.data;const segs=(data.segments||[]).map(s=>_objectSpread(_objectSpread({},s),{},{start_ts:Number(s.start_ts),end_ts:Number(s.end_ts)}));setSegments(segs);// Auto-fit to Day initially\nif(containerWidth>0){const ds=new Date(selectedDate).setHours(0,0,0,0);setViewStartMs(ds);setZoomPxPerSec(containerWidth/86400);}}catch(e){console.error(e);}finally{setIsLoading(false);}};load();},[camId,selectedDate,containerWidth]);// --- 2. PLAYER CORE ---\nuseEffect(()=>{if(videoRef.current&&camId){coreRef.current=new PlaybackCoreV2(videoRef.current,camId);}return()=>{var _coreRef$current;return(_coreRef$current=coreRef.current)===null||_coreRef$current===void 0?void 0:_coreRef$current.destroy();};},[camId]);useEffect(()=>{if(coreRef.current&&segments.length>0){coreRef.current.setSegments(segments.map(s=>({startTs:s.start_ts,endTs:s.end_ts,file:s.file})));}},[segments]);useEffect(()=>{const interval=setInterval(()=>{if(isPlaying&&coreRef.current){const epoch=coreRef.current.getCurrentEpochMs();if(epoch&&Math.abs(epoch-currentTimeMs)>200){setCurrentTimeMs(epoch);}}},50);return()=>clearInterval(interval);},[isPlaying,currentTimeMs]);const performSeek=epoch=>{setCurrentTimeMs(epoch);if(coreRef.current){coreRef.current.seekTo(epoch);if(!isPlaying){videoRef.current.play().catch(()=>{});setIsPlaying(true);}}};// --- 3. INTERACTION ---\nuseEffect(()=>{const handleResize=()=>{if(timelineContainerRef.current){const w=timelineContainerRef.current.clientWidth;setContainerWidth(w);if(zoomPxPerSec<0.1)setZoomPxPerSec(w/86400);}};window.addEventListener('resize',handleResize);handleResize();return()=>window.removeEventListener('resize',handleResize);},[]);const handleWheel=e=>{e.preventDefault();// 1. Get Mouse Position rel to Timeline\nconst rect=timelineContainerRef.current.getBoundingClientRect();const mouseX=e.clientX-rect.left;// 2. Calculate Time at Mouse Cursor (Pre-Zoom)\nconst mouseTime=viewStartMs+mouseX/zoomPxPerSec*1000;// 3. Apply Zoom\nconst delta=e.deltaY>0?0.9:1.1;// Out : In\nconst newZoom=Math.max(containerWidth/86400,Math.min(200,zoomPxPerSec*delta));setZoomPxPerSec(newZoom);// 4. Adjust ViewStart so MouseTime stays at MouseX\nconst newViewStart=mouseTime-mouseX/newZoom*1000;setViewStartMs(newViewStart);};const handleMouseDown=e=>{dragRef.current={isDragging:true,startX:e.clientX,startViewTime:viewStartMs};document.body.style.cursor='grabbing';};const handleMouseMove=e=>{if(!dragRef.current.isDragging)return;const diffPx=dragRef.current.startX-e.clientX;const dtMs=diffPx/zoomPxPerSec*1000;setViewStartMs(dragRef.current.startViewTime+dtMs);};const handleMouseUp=e=>{if(dragRef.current.isDragging){dragRef.current.isDragging=false;document.body.style.cursor='default';const dist=Math.abs(e.clientX-dragRef.current.startX);if(dist<5){const rect=timelineContainerRef.current.getBoundingClientRect();const clickX=e.clientX-rect.left;const clickTime=viewStartMs+clickX/zoomPxPerSec*1000;performSeek(clickTime);}}};// --- 4. RENDER V3 (TRASSIR STYLE) ---\n// Colors\n// BG: #222\n// Track: #1a1a1a\n// Grid: #444\n// Segments: #2ea043\n// Playhead: #ff3333\nconst timeToPx=ts=>(ts-viewStartMs)/1000*zoomPxPerSec;const renderGrid=()=>{const ticks=[];const startMs=viewStartMs;const endMs=viewStartMs+containerWidth/zoomPxPerSec*1000;// Determine Scale and Steps\n// Strategy: We want ticks every ~100px\nconst targetTickPx=100;const secondsPer100Px=targetTickPx/zoomPxPerSec;// Available steps (seconds)\nconst steps=[1,5,10,30,60,300,600,1800,3600,7200,14400];let stepSec=3600;// Find best fit step (smallest step > target)\nfor(let s of steps){if(s>=secondsPer100Px){stepSec=s;break;}}const stepMs=stepSec*1000;const firstTick=Math.floor(startMs/stepMs)*stepMs;for(let t=firstTick;t<endMs;t+=stepMs){const x=timeToPx(t);const d=new Date(t);// Format Label based on granularity\nlet label=\"\";let isMajor=false;if(stepSec>=3600){// Hour View (00:00)\nlabel=d.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});isMajor=true;}else if(stepSec>=60){// Minute View (00:30)\nlabel=d.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});if(d.getMinutes()===0)isMajor=true;}else{// Second View (00:00:15)\nlabel=d.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit',second:'2-digit'});if(d.getSeconds()===0)isMajor=true;}// Render Tick Line\nticks.push(/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:x,top:0,bottom:0,borderLeft:isMajor?'1px solid #666':'1px solid #333',pointerEvents:'none'},children:/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:2,left:4,fontSize:10,fontFamily:'monospace',color:isMajor?'#fff':'#888'},children:label})},\"tick-\".concat(t)));}return ticks;};const renderSegments=()=>{const endVis=viewStartMs+containerWidth/zoomPxPerSec*1000;return segments.map((s,i)=>{if(s.end_ts<viewStartMs||s.start_ts>endVis)return null;const x1=timeToPx(s.start_ts);const durationSec=(s.end_ts-s.start_ts)/1000;const w=Math.max(1,durationSec*zoomPxPerSec);return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:x1,top:10,// Slightly padded from top\nbottom:20,// Leave room for time text\nwidth:w,background:'linear-gradient(180deg, #2ecc71 0%, #27ae60 100%)',// Gradient Green\nopacity:0.9,border:'1px solid #1e8449',borderRadius:1,pointerEvents:'none'}},i);});};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",height:\"100vh\",background:\"var(--bg-dark)\",color:\"var(--text-primary)\",userSelect:\"none\",fontFamily:'\"Segoe UI\", Roboto, \"Helvetica Neue\", sans-serif'},onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,onMouseMove:handleMouseMove,children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:48,background:\"#1f1f1f\",borderBottom:\"1px solid #333\",display:\"flex\",alignItems:\"center\",padding:\"0 16px\",gap:16,boxShadow:\"0 2px 4px rgba(0,0,0,0.2)\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),style:{background:\"#333\",border:\"1px solid #444\",borderRadius:4,color:\"#fff\",height:32,padding:\"0 12px\",cursor:\"pointer\",fontWeight:600},children:\"\\u2190 LIVE\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,fontSize:14,color:'#fff'},children:\"PLAYBACK ARCHIVE\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:10,color:'#888'},children:\"CURRENT TIME\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:14,fontWeight:'bold',color:'#2ecc71',fontFamily:'monospace'},children:new Date(currentTimeMs).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),style:{background:'#111',color:'#fff',border:'1px solid #444',padding:'4px 8px',borderRadius:4,fontFamily:'inherit'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,background:\"#000\",position:'relative'},children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,style:{width:'100%',height:'100%'},onClick:()=>{if(isPlaying){videoRef.current.pause();setIsPlaying(false);}else{videoRef.current.play();setIsPlaying(true);}}}),!isPlaying&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',background:'rgba(0,0,0,0.5)',borderRadius:'50%',width:64,height:64,display:'flex',alignItems:'center',justifyContent:'center',pointerEvents:'none'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:0,height:0,borderTop:'15px solid transparent',borderBottom:'15px solid transparent',borderLeft:'25px solid white',marginLeft:4}})})]}),/*#__PURE__*/_jsxs(\"div\",{ref:timelineContainerRef,style:{height:90,background:\"#1a1a1a\",borderTop:\"1px solid #333\",position:\"relative\",overflow:\"hidden\",cursor:dragRef.current.isDragging?\"grabbing\":\"default\"},onWheel:handleWheel,onMouseDown:handleMouseDown,children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:10,bottom:20,left:0,right:0,background:'#111',borderTop:'1px solid #333',borderBottom:'1px solid #333'}}),renderGrid(),renderSegments(),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:timeToPx(currentTimeMs),top:0,bottom:0,width:2,background:\"#ff3333\",// Bright Red/Orange\nboxShadow:\"0 0 4px rgba(255, 51, 51, 0.4)\",transform:\"translateX(-1px)\",zIndex:20,pointerEvents:\"none\"},children:/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:-6,width:0,height:0,borderLeft:'7px solid transparent',borderRight:'7px solid transparent',borderTop:'8px solid #ff3333'}})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","useMemo","useSearchParams","useNavigate","API","PlaybackCoreV2","jsx","_jsx","jsxs","_jsxs","PlaybackModern","searchParams","navigate","camId","get","selectedDate","setSelectedDate","Date","toISOString","split","segments","setSegments","currentTimeMs","setCurrentTimeMs","now","viewStartMs","setViewStartMs","setHours","zoomPxPerSec","setZoomPxPerSec","isPlaying","setIsPlaying","isLoading","setIsLoading","containerWidth","setContainerWidth","videoRef","coreRef","timelineContainerRef","dragRef","isDragging","startX","startViewTime","dayStartMs","dayEndMs","load","res","concat","data","segs","map","s","_objectSpread","start_ts","Number","end_ts","ds","e","console","error","current","_coreRef$current","destroy","length","startTs","endTs","file","interval","setInterval","epoch","getCurrentEpochMs","Math","abs","clearInterval","performSeek","seekTo","play","catch","handleResize","w","clientWidth","window","addEventListener","removeEventListener","handleWheel","preventDefault","rect","getBoundingClientRect","mouseX","clientX","left","mouseTime","delta","deltaY","newZoom","max","min","newViewStart","handleMouseDown","document","body","style","cursor","handleMouseMove","diffPx","dtMs","handleMouseUp","dist","clickX","clickTime","timeToPx","ts","renderGrid","ticks","startMs","endMs","targetTickPx","secondsPer100Px","steps","stepSec","stepMs","firstTick","floor","t","x","d","label","isMajor","toLocaleTimeString","hour","minute","getMinutes","second","getSeconds","push","position","top","bottom","borderLeft","pointerEvents","children","fontSize","fontFamily","color","renderSegments","endVis","i","x1","durationSec","width","background","opacity","border","borderRadius","display","flexDirection","height","userSelect","onMouseUp","onMouseLeave","onMouseMove","borderBottom","alignItems","padding","gap","boxShadow","onClick","fontWeight","flex","type","value","onChange","target","ref","pause","transform","justifyContent","borderTop","marginLeft","overflow","onWheel","onMouseDown","right","zIndex","borderRight"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/PlaybackModern.js"],"sourcesContent":["import React, { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport API from \"../api\";\r\nimport PlaybackCoreV2 from \"../services/PlaybackCoreV2\";\r\n\r\nexport default function PlaybackModern() {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const camId = searchParams.get(\"camId\");\r\n\r\n    // --- STATE ---\r\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [segments, setSegments] = useState([]);\r\n\r\n    // 1. Where are we in the video? (The Red Line)\r\n    const [currentTimeMs, setCurrentTimeMs] = useState(Date.now());\r\n\r\n    // 2. What part of the day are we looking at? (The Left Edge of the Timeline)\r\n    const [viewStartMs, setViewStartMs] = useState(new Date().setHours(0, 0, 0, 0));\r\n\r\n    // 3. How zoomed in are we? (Pixels per Second)\r\n    const [zoomPxPerSec, setZoomPxPerSec] = useState(0.015); // Start zoomed out (approx full day)\r\n\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [containerWidth, setContainerWidth] = useState(1000);\r\n\r\n    const videoRef = useRef(null);\r\n    const coreRef = useRef(null);\r\n    const timelineContainerRef = useRef(null);\r\n    const dragRef = useRef({ isDragging: false, startX: 0, startViewTime: 0 });\r\n\r\n    const dayStartMs = new Date(selectedDate).setHours(0, 0, 0, 0);\r\n    const dayEndMs = dayStartMs + 86400000;\r\n\r\n    // --- 1. LOAD DATA ---\r\n    useEffect(() => {\r\n        if (!camId || !selectedDate) return;\r\n\r\n        const load = async () => {\r\n            setIsLoading(true);\r\n            try {\r\n                const res = await API.get(`playback/timeline-day/${camId}/${selectedDate}`);\r\n                const data = res.data;\r\n                const segs = (data.segments || []).map(s => ({\r\n                    ...s,\r\n                    start_ts: Number(s.start_ts),\r\n                    end_ts: Number(s.end_ts)\r\n                }));\r\n                setSegments(segs);\r\n\r\n                // Auto-fit to Day initially\r\n                if (containerWidth > 0) {\r\n                    const ds = new Date(selectedDate).setHours(0, 0, 0, 0);\r\n                    setViewStartMs(ds);\r\n                    setZoomPxPerSec(containerWidth / 86400);\r\n                }\r\n\r\n            } catch (e) {\r\n                console.error(e);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        load();\r\n    }, [camId, selectedDate, containerWidth]);\r\n\r\n    // --- 2. PLAYER CORE ---\r\n    useEffect(() => {\r\n        if (videoRef.current && camId) {\r\n            coreRef.current = new PlaybackCoreV2(videoRef.current, camId);\r\n        }\r\n        return () => coreRef.current?.destroy();\r\n    }, [camId]);\r\n\r\n    useEffect(() => {\r\n        if (coreRef.current && segments.length > 0) {\r\n            coreRef.current.setSegments(segments.map(s => ({\r\n                startTs: s.start_ts,\r\n                endTs: s.end_ts,\r\n                file: s.file\r\n            })));\r\n        }\r\n    }, [segments]);\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if (isPlaying && coreRef.current) {\r\n                const epoch = coreRef.current.getCurrentEpochMs();\r\n                if (epoch && Math.abs(epoch - currentTimeMs) > 200) {\r\n                    setCurrentTimeMs(epoch);\r\n                }\r\n            }\r\n        }, 50);\r\n        return () => clearInterval(interval);\r\n    }, [isPlaying, currentTimeMs]);\r\n\r\n    const performSeek = (epoch) => {\r\n        setCurrentTimeMs(epoch);\r\n        if (coreRef.current) {\r\n            coreRef.current.seekTo(epoch);\r\n            if (!isPlaying) {\r\n                videoRef.current.play().catch(() => { });\r\n                setIsPlaying(true);\r\n            }\r\n        }\r\n    };\r\n\r\n    // --- 3. INTERACTION ---\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (timelineContainerRef.current) {\r\n                const w = timelineContainerRef.current.clientWidth;\r\n                setContainerWidth(w);\r\n                if (zoomPxPerSec < 0.1) setZoomPxPerSec(w / 86400);\r\n            }\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        handleResize();\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    const handleWheel = (e) => {\r\n        e.preventDefault();\r\n\r\n        // 1. Get Mouse Position rel to Timeline\r\n        const rect = timelineContainerRef.current.getBoundingClientRect();\r\n        const mouseX = e.clientX - rect.left;\r\n\r\n        // 2. Calculate Time at Mouse Cursor (Pre-Zoom)\r\n        const mouseTime = viewStartMs + ((mouseX / zoomPxPerSec) * 1000);\r\n\r\n        // 3. Apply Zoom\r\n        const delta = e.deltaY > 0 ? 0.9 : 1.1; // Out : In\r\n        const newZoom = Math.max(containerWidth / 86400, Math.min(200, zoomPxPerSec * delta));\r\n        setZoomPxPerSec(newZoom);\r\n\r\n        // 4. Adjust ViewStart so MouseTime stays at MouseX\r\n        const newViewStart = mouseTime - ((mouseX / newZoom) * 1000);\r\n        setViewStartMs(newViewStart);\r\n    };\r\n\r\n    const handleMouseDown = (e) => {\r\n        dragRef.current = { isDragging: true, startX: e.clientX, startViewTime: viewStartMs };\r\n        document.body.style.cursor = 'grabbing';\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragRef.current.isDragging) return;\r\n        const diffPx = dragRef.current.startX - e.clientX;\r\n        const dtMs = (diffPx / zoomPxPerSec) * 1000;\r\n        setViewStartMs(dragRef.current.startViewTime + dtMs);\r\n    };\r\n\r\n    const handleMouseUp = (e) => {\r\n        if (dragRef.current.isDragging) {\r\n            dragRef.current.isDragging = false;\r\n            document.body.style.cursor = 'default';\r\n\r\n            const dist = Math.abs(e.clientX - dragRef.current.startX);\r\n            if (dist < 5) {\r\n                const rect = timelineContainerRef.current.getBoundingClientRect();\r\n                const clickX = e.clientX - rect.left;\r\n                const clickTime = viewStartMs + ((clickX / zoomPxPerSec) * 1000);\r\n                performSeek(clickTime);\r\n            }\r\n        }\r\n    };\r\n\r\n    // --- 4. RENDER V3 (TRASSIR STYLE) ---\r\n    // Colors\r\n    // BG: #222\r\n    // Track: #1a1a1a\r\n    // Grid: #444\r\n    // Segments: #2ea043\r\n    // Playhead: #ff3333\r\n\r\n    const timeToPx = (ts) => ((ts - viewStartMs) / 1000) * zoomPxPerSec;\r\n\r\n    const renderGrid = () => {\r\n        const ticks = [];\r\n        const startMs = viewStartMs;\r\n        const endMs = viewStartMs + (containerWidth / zoomPxPerSec * 1000);\r\n\r\n        // Determine Scale and Steps\r\n        // Strategy: We want ticks every ~100px\r\n        const targetTickPx = 100;\r\n        const secondsPer100Px = targetTickPx / zoomPxPerSec;\r\n\r\n        // Available steps (seconds)\r\n        const steps = [1, 5, 10, 30, 60, 300, 600, 1800, 3600, 7200, 14400];\r\n        let stepSec = 3600;\r\n\r\n        // Find best fit step (smallest step > target)\r\n        for (let s of steps) {\r\n            if (s >= secondsPer100Px) {\r\n                stepSec = s;\r\n                break;\r\n            }\r\n        }\r\n\r\n        const stepMs = stepSec * 1000;\r\n        const firstTick = Math.floor(startMs / stepMs) * stepMs;\r\n\r\n        for (let t = firstTick; t < endMs; t += stepMs) {\r\n            const x = timeToPx(t);\r\n            const d = new Date(t);\r\n\r\n            // Format Label based on granularity\r\n            let label = \"\";\r\n            let isMajor = false;\r\n\r\n            if (stepSec >= 3600) {\r\n                // Hour View (00:00)\r\n                label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n                isMajor = true;\r\n            } else if (stepSec >= 60) {\r\n                // Minute View (00:30)\r\n                label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n                if (d.getMinutes() === 0) isMajor = true;\r\n            } else {\r\n                // Second View (00:00:15)\r\n                label = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });\r\n                if (d.getSeconds() === 0) isMajor = true;\r\n            }\r\n\r\n            // Render Tick Line\r\n            ticks.push(\r\n                <div key={`tick-${t}`} style={{\r\n                    position: 'absolute',\r\n                    left: x,\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    borderLeft: isMajor ? '1px solid #666' : '1px solid #333',\r\n                    pointerEvents: 'none'\r\n                }}>\r\n                    {/* Timestamp Label */}\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        bottom: 2,\r\n                        left: 4,\r\n                        fontSize: 10,\r\n                        fontFamily: 'monospace',\r\n                        color: isMajor ? '#fff' : '#888'\r\n                    }}>\r\n                        {label}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return ticks;\r\n    };\r\n\r\n    const renderSegments = () => {\r\n        const endVis = viewStartMs + (containerWidth / zoomPxPerSec * 1000);\r\n        return segments.map((s, i) => {\r\n            if (s.end_ts < viewStartMs || s.start_ts > endVis) return null;\r\n\r\n            const x1 = timeToPx(s.start_ts);\r\n            const durationSec = (s.end_ts - s.start_ts) / 1000;\r\n            const w = Math.max(1, durationSec * zoomPxPerSec);\r\n\r\n            return (\r\n                <div key={i} style={{\r\n                    position: 'absolute',\r\n                    left: x1,\r\n                    top: 10, // Slightly padded from top\r\n                    bottom: 20, // Leave room for time text\r\n                    width: w,\r\n                    background: 'linear-gradient(180deg, #2ecc71 0%, #27ae60 100%)', // Gradient Green\r\n                    opacity: 0.9,\r\n                    border: '1px solid #1e8449',\r\n                    borderRadius: 1,\r\n                    pointerEvents: 'none'\r\n                }} />\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            height: \"100vh\",\r\n            background: \"var(--bg-dark)\",\r\n            color: \"var(--text-primary)\",\r\n            userSelect: \"none\",\r\n            fontFamily: '\"Segoe UI\", Roboto, \"Helvetica Neue\", sans-serif'\r\n        }}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseLeave={handleMouseUp}\r\n            onMouseMove={handleMouseMove}\r\n        >\r\n            {/* TOOLBAR */}\r\n            <div style={{\r\n                height: 48,\r\n                background: \"#1f1f1f\",\r\n                borderBottom: \"1px solid #333\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                padding: \"0 16px\",\r\n                gap: 16,\r\n                boxShadow: \"0 2px 4px rgba(0,0,0,0.2)\"\r\n            }}>\r\n                <button onClick={() => navigate(\"/\")} style={{\r\n                    background: \"#333\", border: \"1px solid #444\", borderRadius: 4,\r\n                    color: \"#fff\", height: 32, padding: \"0 12px\", cursor: \"pointer\", fontWeight: 600\r\n                }}>\r\n                    ‚Üê LIVE\r\n                </button>\r\n                <div style={{ fontWeight: 600, fontSize: 14, color: '#fff' }}>PLAYBACK ARCHIVE</div>\r\n\r\n                <div style={{ flex: 1 }} />\r\n\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <div style={{ fontSize: 10, color: '#888' }}>CURRENT TIME</div>\r\n                    <div style={{ fontSize: 14, fontWeight: 'bold', color: '#2ecc71', fontFamily: 'monospace' }}>\r\n                        {new Date(currentTimeMs).toLocaleTimeString()}\r\n                    </div>\r\n                </div>\r\n\r\n                <input\r\n                    type=\"date\"\r\n                    value={selectedDate}\r\n                    onChange={e => setSelectedDate(e.target.value)}\r\n                    style={{\r\n                        background: '#111', color: '#fff', border: '1px solid #444',\r\n                        padding: '4px 8px', borderRadius: 4, fontFamily: 'inherit'\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            {/* VIDEO PLAYER */}\r\n            <div style={{ flex: 1, background: \"#000\", position: 'relative' }}>\r\n                <video ref={videoRef} style={{ width: '100%', height: '100%' }} onClick={() => {\r\n                    if (isPlaying) { videoRef.current.pause(); setIsPlaying(false); }\r\n                    else { videoRef.current.play(); setIsPlaying(true); }\r\n                }} />\r\n\r\n                {/* Overlay Play Button */}\r\n                {!isPlaying && (\r\n                    <div style={{\r\n                        position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)',\r\n                        background: 'rgba(0,0,0,0.5)', borderRadius: '50%', width: 64, height: 64,\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center', pointerEvents: 'none'\r\n                    }}>\r\n                        <div style={{\r\n                            width: 0, height: 0,\r\n                            borderTop: '15px solid transparent',\r\n                            borderBottom: '15px solid transparent',\r\n                            borderLeft: '25px solid white',\r\n                            marginLeft: 4\r\n                        }} />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* TIMELINE AREA */}\r\n            <div\r\n                ref={timelineContainerRef}\r\n                style={{\r\n                    height: 90,\r\n                    background: \"#1a1a1a\",\r\n                    borderTop: \"1px solid #333\",\r\n                    position: \"relative\",\r\n                    overflow: \"hidden\",\r\n                    cursor: dragRef.current.isDragging ? \"grabbing\" : \"default\"\r\n                }}\r\n                onWheel={handleWheel}\r\n                onMouseDown={handleMouseDown}\r\n            >\r\n                {/* Track Background */}\r\n                <div style={{ position: 'absolute', top: 10, bottom: 20, left: 0, right: 0, background: '#111', borderTop: '1px solid #333', borderBottom: '1px solid #333' }} />\r\n\r\n                {/* Grid & Segments */}\r\n                {renderGrid()}\r\n                {renderSegments()}\r\n\r\n                {/* PLAYHEAD (Red Line) */}\r\n                <div style={{\r\n                    position: \"absolute\",\r\n                    left: timeToPx(currentTimeMs),\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    width: 2,\r\n                    background: \"#ff3333\", // Bright Red/Orange\r\n                    boxShadow: \"0 0 4px rgba(255, 51, 51, 0.4)\",\r\n                    transform: \"translateX(-1px)\",\r\n                    zIndex: 20,\r\n                    pointerEvents: \"none\"\r\n                }}>\r\n                    {/* Triangle Top */}\r\n                    <div style={{\r\n                        position: 'absolute', top: 0, left: -6,\r\n                        width: 0, height: 0,\r\n                        borderLeft: '7px solid transparent',\r\n                        borderRight: '7px solid transparent',\r\n                        borderTop: '8px solid #ff3333'\r\n                    }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}