{"ast":null,"code":"/* Standard DSS Time Utilities using Luxon */import{DateTime}from'luxon';/**\r\n * Returns the UTC Timestamp (ms) for a given Date (\"YYYY-MM-DD\") and Time (\"HH:MM\")\r\n * in the NVR's Timezone.\r\n * Usage: UI Click -> Backend Request.\r\n * timeStr format: \"HH:mm\" or \"HH:mm:ss\"\r\n */export function localToUtcTs(dateStr,timeStr,timezone){if(!timezone){// Fallback safely if TZ not loaded yet\nreturn DateTime.fromISO(\"\".concat(dateStr,\"T\").concat(timeStr)).toMillis();}return DateTime.fromISO(\"\".concat(dateStr,\"T\").concat(timeStr),{zone:timezone}).toMillis();}/**\r\n * Returns the Epoch (ms) corresponding to 00:00:00 in the Target Timezone.\r\n * Usage: Setting the Timeline anchor (x=0).\r\n */export function getLocalDayStart(dateStr,timezone){if(!timezone)return DateTime.fromISO(dateStr).startOf('day').toMillis();return DateTime.fromISO(dateStr,{zone:timezone}).startOf('day').toMillis();}/**\r\n * Formats a UTC Timestamp into \"HH:mm:ss\" in the Target Timezone.\r\n * Usage: Displaying Playhead time, Debug info.\r\n */export function formatLocalTime(ts,timezone){if(!ts)return\"--:--:--\";const opts=timezone?{zone:timezone}:{};return DateTime.fromMillis(ts,opts).toFormat('HH:mm:ss');}/**\r\n * Formats a UTC Timestamp into \"yyyy-MM-dd\" in the Target Timezone.\r\n */export function formatLocalDate(ts,timezone){if(!ts)return\"\";const opts=timezone?{zone:timezone}:{};return DateTime.fromMillis(ts,opts).toFormat('yyyy-MM-dd');}","map":{"version":3,"names":["DateTime","localToUtcTs","dateStr","timeStr","timezone","fromISO","concat","toMillis","zone","getLocalDayStart","startOf","formatLocalTime","ts","opts","fromMillis","toFormat","formatLocalDate"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/utils/time.js"],"sourcesContent":["/* Standard DSS Time Utilities using Luxon */\r\nimport { DateTime } from 'luxon';\r\n\r\n/**\r\n * Returns the UTC Timestamp (ms) for a given Date (\"YYYY-MM-DD\") and Time (\"HH:MM\")\r\n * in the NVR's Timezone.\r\n * Usage: UI Click -> Backend Request.\r\n * timeStr format: \"HH:mm\" or \"HH:mm:ss\"\r\n */\r\nexport function localToUtcTs(dateStr, timeStr, timezone) {\r\n    if (!timezone) {\r\n        // Fallback safely if TZ not loaded yet\r\n        return DateTime.fromISO(`${dateStr}T${timeStr}`).toMillis();\r\n    }\r\n    return DateTime.fromISO(`${dateStr}T${timeStr}`, { zone: timezone }).toMillis();\r\n}\r\n\r\n/**\r\n * Returns the Epoch (ms) corresponding to 00:00:00 in the Target Timezone.\r\n * Usage: Setting the Timeline anchor (x=0).\r\n */\r\nexport function getLocalDayStart(dateStr, timezone) {\r\n    if (!timezone) return DateTime.fromISO(dateStr).startOf('day').toMillis();\r\n    return DateTime.fromISO(dateStr, { zone: timezone }).startOf('day').toMillis();\r\n}\r\n\r\n/**\r\n * Formats a UTC Timestamp into \"HH:mm:ss\" in the Target Timezone.\r\n * Usage: Displaying Playhead time, Debug info.\r\n */\r\nexport function formatLocalTime(ts, timezone) {\r\n    if (!ts) return \"--:--:--\";\r\n    const opts = timezone ? { zone: timezone } : {};\r\n    return DateTime.fromMillis(ts, opts).toFormat('HH:mm:ss');\r\n}\r\n\r\n/**\r\n * Formats a UTC Timestamp into \"yyyy-MM-dd\" in the Target Timezone.\r\n */\r\nexport function formatLocalDate(ts, timezone) {\r\n    if (!ts) return \"\";\r\n    const opts = timezone ? { zone: timezone } : {};\r\n    return DateTime.fromMillis(ts, opts).toFormat('yyyy-MM-dd');\r\n}\r\n"],"mappings":"AAAA,6CACA,OAASA,QAAQ,KAAQ,OAAO,CAEhC;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,YAAYA,CAACC,OAAO,CAAEC,OAAO,CAAEC,QAAQ,CAAE,CACrD,GAAI,CAACA,QAAQ,CAAE,CACX;AACA,MAAO,CAAAJ,QAAQ,CAACK,OAAO,IAAAC,MAAA,CAAIJ,OAAO,MAAAI,MAAA,CAAIH,OAAO,CAAE,CAAC,CAACI,QAAQ,CAAC,CAAC,CAC/D,CACA,MAAO,CAAAP,QAAQ,CAACK,OAAO,IAAAC,MAAA,CAAIJ,OAAO,MAAAI,MAAA,CAAIH,OAAO,EAAI,CAAEK,IAAI,CAAEJ,QAAS,CAAC,CAAC,CAACG,QAAQ,CAAC,CAAC,CACnF,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAE,gBAAgBA,CAACP,OAAO,CAAEE,QAAQ,CAAE,CAChD,GAAI,CAACA,QAAQ,CAAE,MAAO,CAAAJ,QAAQ,CAACK,OAAO,CAACH,OAAO,CAAC,CAACQ,OAAO,CAAC,KAAK,CAAC,CAACH,QAAQ,CAAC,CAAC,CACzE,MAAO,CAAAP,QAAQ,CAACK,OAAO,CAACH,OAAO,CAAE,CAAEM,IAAI,CAAEJ,QAAS,CAAC,CAAC,CAACM,OAAO,CAAC,KAAK,CAAC,CAACH,QAAQ,CAAC,CAAC,CAClF,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAI,eAAeA,CAACC,EAAE,CAAER,QAAQ,CAAE,CAC1C,GAAI,CAACQ,EAAE,CAAE,MAAO,UAAU,CAC1B,KAAM,CAAAC,IAAI,CAAGT,QAAQ,CAAG,CAAEI,IAAI,CAAEJ,QAAS,CAAC,CAAG,CAAC,CAAC,CAC/C,MAAO,CAAAJ,QAAQ,CAACc,UAAU,CAACF,EAAE,CAAEC,IAAI,CAAC,CAACE,QAAQ,CAAC,UAAU,CAAC,CAC7D,CAEA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,eAAeA,CAACJ,EAAE,CAAER,QAAQ,CAAE,CAC1C,GAAI,CAACQ,EAAE,CAAE,MAAO,EAAE,CAClB,KAAM,CAAAC,IAAI,CAAGT,QAAQ,CAAG,CAAEI,IAAI,CAAEJ,QAAS,CAAC,CAAG,CAAC,CAAC,CAC/C,MAAO,CAAAJ,QAAQ,CAACc,UAAU,CAACF,EAAE,CAAEC,IAAI,CAAC,CAACE,QAAQ,CAAC,YAAY,CAAC,CAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}