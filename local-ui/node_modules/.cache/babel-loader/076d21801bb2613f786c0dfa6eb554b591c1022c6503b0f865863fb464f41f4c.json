{"ast":null,"code":"var _jsxFileName = \"I:\\\\dispecerat\\\\github_release\\\\dss-edge\\\\local-ui\\\\src\\\\pages\\\\PlaybackModern.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useLayoutEffect } from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport API from \"../api\";\nimport PlaybackController, { PlayerStates } from \"../services/PlaybackController\";\n\n// --- ENTERPRISE THEME ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst THEME = {\n  bg: \"#1e1e1e\",\n  // Dark Professional Background\n  header: \"#2d2d2d\",\n  text: \"#ffffff\",\n  accent: \"#2196f3\",\n  // Primary Blue\n  segment: \"#4caf50\",\n  // Green (Normal Recording)\n  segmentEvent: \"#2196f3\",\n  // Blue (Event Recording)\n  gap: \"#333333\",\n  // Empty Checkered\n  rulerBg: \"#252526\",\n  rulerText: \"#9e9e9e\",\n  playhead: \"#ff9800\",\n  // Orange High-Visibility\n  panelBorder: \"#3e3e42\"\n};\nexport default function PlaybackModern() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const camId = searchParams.get(\"camId\");\n\n  // --- STATE ---\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [playerState, setPlayerState] = useState(PlayerStates.IDLE);\n  const [playbackRate, setPlaybackRate] = useState(1.0);\n\n  // --- TIMELINE STATE ---\n  const [currentTimeMs, setCurrentTimeMs] = useState(Date.now());\n  const [viewportStartMs, setViewportStartMs] = useState(new Date().setHours(0, 0, 0, 0));\n  const [zoomPxPerSec, setZoomPxPerSec] = useState(1000 / 86400); // Fit Day Default\n  const [containerWidth, setContainerWidth] = useState(1000);\n  const [segments, setSegments] = useState([]);\n  const [isLoadingData, setIsLoadingData] = useState(false);\n  const videoRef = useRef(null);\n  const playerRef = useRef(null);\n  const timelineRef = useRef(null);\n  const dragRef = useRef({\n    isDragging: false,\n    startX: 0,\n    startViewTime: 0\n  });\n\n  // --- DATA SETUP ---\n  useEffect(() => {\n    if (selectedDate) setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\n  }, [selectedDate]);\n  useEffect(() => {\n    if (videoRef.current && camId) {\n      playerRef.current = new PlaybackController(videoRef.current, camId, s => setPlayerState(s));\n      return () => {\n        var _playerRef$current;\n        return (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.destroy();\n      };\n    }\n  }, [camId]);\n  useLayoutEffect(() => {\n    const updateWidth = () => {\n      if (timelineRef.current) setContainerWidth(timelineRef.current.clientWidth);\n    };\n    window.addEventListener('resize', updateWidth);\n    updateWidth();\n    return () => window.removeEventListener('resize', updateWidth);\n  }, []);\n  useEffect(() => {\n    if (!camId || !selectedDate) return;\n    const fetchData = async () => {\n      setIsLoadingData(true);\n      try {\n        const res = await API.get(`/api/playback/timeline-day/${camId}/${selectedDate}`);\n        const data = res.data;\n        const segs = (data.segments || []).map(s => ({\n          start: Number(s.start_ts || s.startTs),\n          end: Number(s.end_ts || s.endTs),\n          type: s.type || 'normal',\n          // normal vs event\n          file: s.file\n        })).sort((a, b) => a.start - b.start);\n        setSegments(segs);\n        if (playerRef.current) playerRef.current.loadSegments(segs);\n\n        // Auto Fit\n        if (containerWidth > 0) {\n          setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\n          setZoomPxPerSec(containerWidth / 86400);\n        }\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setIsLoadingData(false);\n      }\n    };\n    fetchData();\n  }, [camId, selectedDate]);\n\n  // --- SYNC LOOP & GAP SKIP ---\n  useEffect(() => {\n    const i = setInterval(() => {\n      if (playerState === PlayerStates.PLAYING && playerRef.current) {\n        const now = playerRef.current.getCurrentTime();\n        if (Math.abs(now - currentTimeMs) > 100) setCurrentTimeMs(now);\n\n        // Gap Auto-Skip Logic (Enterprise Feature)\n        // If we are essentially at the end of a segment, jump to next\n        const currentSeg = segments.find(s => now >= s.start && now < s.end);\n        if (currentSeg && currentSeg.end - now < 500) {\n          // Check next\n          const nextSeg = segments.find(s => s.start >= currentSeg.end);\n          if (nextSeg) {\n            // Only skip if gap is significant (> 1s)\n            if (nextSeg.start - currentSeg.end > 1000) {\n              console.log(\"Auto-Skipping Gap...\");\n              playerRef.current.seekTo(nextSeg.start);\n            }\n          }\n        }\n      }\n    }, 100);\n    return () => clearInterval(i);\n  }, [playerState, currentTimeMs, segments]);\n\n  // --- ACTIONS ---\n  const changeSpeed = rate => {\n    setPlaybackRate(rate);\n    if (videoRef.current) videoRef.current.playbackRate = rate;\n  };\n  const performSeek = ts => {\n    var _playerRef$current2;\n    // Snap to segment start if close? Optional enterprise feature.\n    setCurrentTimeMs(ts);\n    (_playerRef$current2 = playerRef.current) === null || _playerRef$current2 === void 0 ? void 0 : _playerRef$current2.seekTo(ts);\n  };\n  const fitDay = () => {\n    setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\n    setZoomPxPerSec(containerWidth / 86400);\n  };\n\n  // --- MOUSE HANDLERS (Timeline) ---\n  const handleMouseDown = e => {\n    dragRef.current = {\n      isDragging: true,\n      startX: e.clientX,\n      startViewTime: viewportStartMs\n    };\n    document.body.style.cursor = 'grabbing';\n  };\n  const handleMouseMove = e => {\n    if (!dragRef.current.isDragging) return;\n    const dx = e.clientX - dragRef.current.startX;\n    const dt = -(dx / zoomPxPerSec) * 1000;\n    setViewportStartMs(dragRef.current.startViewTime + dt);\n  };\n  const handleMouseUp = e => {\n    if (dragRef.current.isDragging) {\n      dragRef.current.isDragging = false;\n      document.body.style.cursor = 'default';\n      if (Math.abs(e.clientX - dragRef.current.startX) < 5) {\n        const rect = timelineRef.current.getBoundingClientRect();\n        const clickX = e.clientX - rect.left;\n        const ts = viewportStartMs + clickX / zoomPxPerSec * 1000;\n        performSeek(ts);\n      }\n    }\n  };\n  const handleWheel = e => {\n    if (e.target.closest('.timeline-area')) {\n      e.preventDefault();\n      const rect = timelineRef.current.getBoundingClientRect();\n      const mouseX = e.clientX - rect.left;\n      const timeUnderMouse = viewportStartMs + mouseX / zoomPxPerSec * 1000;\n      const factor = e.deltaY > 0 ? 0.9 : 1.1;\n      const newZoom = Math.max(containerWidth / 86400, Math.min(5.0, zoomPxPerSec * factor));\n      setZoomPxPerSec(newZoom);\n      setViewportStartMs(timeUnderMouse - mouseX / newZoom * 1000);\n    }\n  };\n\n  // --- RENDER HELPERS ---\n  const timeToPx = t => (t - viewportStartMs) / 1000 * zoomPxPerSec;\n  const renderRuler = () => {\n    const ticks = [];\n    const pxPerMin = zoomPxPerSec * 60;\n    // Adaptive step\n    let stepMin = 60;\n    if (pxPerMin > 200) stepMin = 5;\n    if (pxPerMin > 500) stepMin = 1;\n    const stepMs = stepMin * 60 * 1000;\n    const viewEnd = viewportStartMs + containerWidth / zoomPxPerSec * 1000;\n    const start = Math.floor(viewportStartMs / stepMs) * stepMs;\n    for (let t = start; t < viewEnd; t += stepMs) {\n      const x = timeToPx(t);\n      const date = new Date(t);\n      const isHour = date.getMinutes() === 0;\n      if (x < -20 || x > containerWidth) continue;\n      ticks.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: x,\n          top: 0,\n          height: 25,\n          borderLeft: `1px solid ${isHour ? '#888' : '#444'}`\n        },\n        children: isHour && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 2,\n            left: 4,\n            fontSize: 10,\n            color: '#aaa',\n            pointerEvents: 'none'\n          },\n          children: [date.getHours(), \":00\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 32\n        }, this)\n      }, t, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this));\n    }\n    return ticks;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh',\n      background: THEME.bg,\n      color: THEME.text\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        height: 40,\n        background: THEME.header,\n        borderBottom: `1px solid ${THEME.panelBorder}`,\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontWeight: 'bold',\n          color: THEME.accent,\n          marginRight: 20\n        },\n        children: \"DSS EDGE VMS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 13,\n          background: '#444',\n          padding: '2px 8px',\n          borderRadius: 4\n        },\n        children: camId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate,\n        onChange: e => setSelectedDate(e.target.value),\n        style: {\n          background: '#333',\n          color: '#fff',\n          border: 'none',\n          borderRadius: 4,\n          padding: '4px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        position: 'relative',\n        background: '#000',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          width: '100%',\n          maxHeight: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), isLoadingData && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          color: '#fff'\n        },\n        children: \"Loading Timeline...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 35\n      }, this), segments.length === 0 && !isLoadingData && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          color: '#aaa'\n        },\n        children: \"No Recordings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 61\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 48,\n        background: '#252526',\n        borderTop: `1px solid ${THEME.panelBorder}`,\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 10px',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnStyle,\n        onClick: () => performSeek(currentTimeMs - 10000),\n        children: \"\\u23EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnStyle,\n        onClick: () => {\n          var _playerRef$current3, _playerRef$current4;\n          return playerState === PlayerStates.PLAYING ? (_playerRef$current3 = playerRef.current) === null || _playerRef$current3 === void 0 ? void 0 : _playerRef$current3.pause() : (_playerRef$current4 = playerRef.current) === null || _playerRef$current4 === void 0 ? void 0 : _playerRef$current4.play();\n        },\n        children: playerState === PlayerStates.PLAYING ? \"⏸\" : \"▶\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnStyle,\n        onClick: () => performSeek(currentTimeMs + 10000),\n        children: \"\\u23E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 1,\n          height: 20,\n          background: '#555',\n          margin: '0 8px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), [0.25, 0.5, 1, 2, 4].map(rate => /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          ...btnStyle,\n          background: playbackRate === rate ? THEME.accent : 'transparent',\n          color: playbackRate === rate ? '#fff' : '#aaa'\n        },\n        onClick: () => changeSpeed(rate),\n        children: [rate, \"x\"]\n      }, rate, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontFamily: 'monospace',\n          fontSize: 14\n        },\n        children: new Date(currentTimeMs).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnStyle,\n        onClick: fitDay,\n        children: \"\\u26F6 24H\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline-area\",\n      ref: timelineRef,\n      style: {\n        height: 120,\n        background: THEME.rulerBg,\n        position: 'relative',\n        overflow: 'hidden',\n        cursor: dragRef.current.isDragging ? 'grabbing' : 'default',\n        userSelect: 'none'\n      },\n      onMouseUp: handleMouseUp,\n      onMouseLeave: handleMouseUp,\n      onMouseMove: handleMouseMove,\n      onMouseDown: handleMouseDown,\n      onWheel: handleWheel,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 25,\n          borderBottom: '1px solid #444'\n        },\n        children: renderRuler()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          top: 10,\n          height: 40\n        },\n        children: segments.map((s, i) => {\n          const x = timeToPx(s.start);\n          const w = Math.max(2, (s.end - s.start) / 1000 * zoomPxPerSec);\n          if (x + w < 0 || x > containerWidth) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            title: new Date(s.start).toLocaleTimeString(),\n            style: {\n              position: 'absolute',\n              left: x,\n              width: w,\n              height: '100%',\n              background: s.type === 'event' ? THEME.segmentEvent : THEME.segment,\n              borderRadius: 2,\n              borderLeft: '1px solid rgba(0,0,0,0.2)'\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: timeToPx(currentTimeMs),\n          top: 0,\n          bottom: 0,\n          width: 2,\n          background: THEME.playhead,\n          zIndex: 10,\n          pointerEvents: 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: -4,\n            width: 10,\n            height: 10,\n            background: THEME.playhead,\n            transform: 'rotate(45deg)',\n            marginTop: -5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            bottom: 2,\n            left: 4,\n            background: THEME.playhead,\n            color: '#000',\n            fontSize: 10,\n            padding: '0 2px',\n            borderRadius: 2\n          },\n          children: new Date(currentTimeMs).toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 9\n  }, this);\n}\n_s(PlaybackModern, \"viinbDyb7XtKPkQyHTgaM+JxRvU=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = PlaybackModern;\nconst btnStyle = {\n  background: 'transparent',\n  border: 'none',\n  color: '#e0e0e0',\n  cursor: 'pointer',\n  padding: '4px 8px',\n  borderRadius: 4,\n  fontSize: 14\n};\nvar _c;\n$RefreshReg$(_c, \"PlaybackModern\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useLayoutEffect","useSearchParams","useNavigate","API","PlaybackController","PlayerStates","jsxDEV","_jsxDEV","THEME","bg","header","text","accent","segment","segmentEvent","gap","rulerBg","rulerText","playhead","panelBorder","PlaybackModern","_s","searchParams","navigate","camId","get","selectedDate","setSelectedDate","Date","toISOString","split","playerState","setPlayerState","IDLE","playbackRate","setPlaybackRate","currentTimeMs","setCurrentTimeMs","now","viewportStartMs","setViewportStartMs","setHours","zoomPxPerSec","setZoomPxPerSec","containerWidth","setContainerWidth","segments","setSegments","isLoadingData","setIsLoadingData","videoRef","playerRef","timelineRef","dragRef","isDragging","startX","startViewTime","current","s","_playerRef$current","destroy","updateWidth","clientWidth","window","addEventListener","removeEventListener","fetchData","res","data","segs","map","start","Number","start_ts","startTs","end","end_ts","endTs","type","file","sort","a","b","loadSegments","e","console","error","i","setInterval","PLAYING","getCurrentTime","Math","abs","currentSeg","find","nextSeg","log","seekTo","clearInterval","changeSpeed","rate","performSeek","ts","_playerRef$current2","fitDay","handleMouseDown","clientX","document","body","style","cursor","handleMouseMove","dx","dt","handleMouseUp","rect","getBoundingClientRect","clickX","left","handleWheel","target","closest","preventDefault","mouseX","timeUnderMouse","factor","deltaY","newZoom","max","min","timeToPx","t","renderRuler","ticks","pxPerMin","stepMin","stepMs","viewEnd","floor","x","date","isHour","getMinutes","push","position","top","height","borderLeft","children","fontSize","color","pointerEvents","getHours","fileName","_jsxFileName","lineNumber","columnNumber","display","flexDirection","background","borderBottom","alignItems","padding","fontWeight","marginRight","borderRadius","flex","value","onChange","border","justifyContent","ref","width","maxHeight","length","borderTop","btnStyle","onClick","_playerRef$current3","_playerRef$current4","pause","play","margin","fontFamily","toLocaleTimeString","className","overflow","userSelect","onMouseUp","onMouseLeave","onMouseMove","onMouseDown","onWheel","w","title","bottom","zIndex","transform","marginTop","_c","$RefreshReg$"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/PlaybackModern.js"],"sourcesContent":["import React, { useEffect, useState, useRef, useLayoutEffect } from \"react\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport API from \"../api\";\r\nimport PlaybackController, { PlayerStates } from \"../services/PlaybackController\";\r\n\r\n// --- ENTERPRISE THEME ---\r\nconst THEME = {\r\n    bg: \"#1e1e1e\",           // Dark Professional Background\r\n    header: \"#2d2d2d\",\r\n    text: \"#ffffff\",\r\n    accent: \"#2196f3\",       // Primary Blue\r\n    segment: \"#4caf50\",      // Green (Normal Recording)\r\n    segmentEvent: \"#2196f3\", // Blue (Event Recording)\r\n    gap: \"#333333\",          // Empty Checkered\r\n    rulerBg: \"#252526\",\r\n    rulerText: \"#9e9e9e\",\r\n    playhead: \"#ff9800\",     // Orange High-Visibility\r\n    panelBorder: \"#3e3e42\"\r\n};\r\n\r\nexport default function PlaybackModern() {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const camId = searchParams.get(\"camId\");\r\n\r\n    // --- STATE ---\r\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [playerState, setPlayerState] = useState(PlayerStates.IDLE);\r\n    const [playbackRate, setPlaybackRate] = useState(1.0);\r\n\r\n    // --- TIMELINE STATE ---\r\n    const [currentTimeMs, setCurrentTimeMs] = useState(Date.now());\r\n    const [viewportStartMs, setViewportStartMs] = useState(new Date().setHours(0, 0, 0, 0));\r\n    const [zoomPxPerSec, setZoomPxPerSec] = useState(1000 / 86400); // Fit Day Default\r\n    const [containerWidth, setContainerWidth] = useState(1000);\r\n    const [segments, setSegments] = useState([]);\r\n    const [isLoadingData, setIsLoadingData] = useState(false);\r\n\r\n    const videoRef = useRef(null);\r\n    const playerRef = useRef(null);\r\n    const timelineRef = useRef(null);\r\n    const dragRef = useRef({ isDragging: false, startX: 0, startViewTime: 0 });\r\n\r\n    // --- DATA SETUP ---\r\n    useEffect(() => {\r\n        if (selectedDate) setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\r\n    }, [selectedDate]);\r\n\r\n    useEffect(() => {\r\n        if (videoRef.current && camId) {\r\n            playerRef.current = new PlaybackController(videoRef.current, camId, (s) => setPlayerState(s));\r\n            return () => playerRef.current?.destroy();\r\n        }\r\n    }, [camId]);\r\n\r\n    useLayoutEffect(() => {\r\n        const updateWidth = () => { if (timelineRef.current) setContainerWidth(timelineRef.current.clientWidth); };\r\n        window.addEventListener('resize', updateWidth);\r\n        updateWidth();\r\n        return () => window.removeEventListener('resize', updateWidth);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!camId || !selectedDate) return;\r\n        const fetchData = async () => {\r\n            setIsLoadingData(true);\r\n            try {\r\n                const res = await API.get(`/api/playback/timeline-day/${camId}/${selectedDate}`);\r\n                const data = res.data;\r\n                const segs = (data.segments || []).map(s => ({\r\n                    start: Number(s.start_ts || s.startTs),\r\n                    end: Number(s.end_ts || s.endTs),\r\n                    type: s.type || 'normal', // normal vs event\r\n                    file: s.file\r\n                })).sort((a, b) => a.start - b.start);\r\n\r\n                setSegments(segs);\r\n                if (playerRef.current) playerRef.current.loadSegments(segs);\r\n\r\n                // Auto Fit\r\n                if (containerWidth > 0) {\r\n                    setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\r\n                    setZoomPxPerSec(containerWidth / 86400);\r\n                }\r\n            } catch (e) { console.error(e); } finally { setIsLoadingData(false); }\r\n        };\r\n        fetchData();\r\n    }, [camId, selectedDate]);\r\n\r\n    // --- SYNC LOOP & GAP SKIP ---\r\n    useEffect(() => {\r\n        const i = setInterval(() => {\r\n            if (playerState === PlayerStates.PLAYING && playerRef.current) {\r\n                const now = playerRef.current.getCurrentTime();\r\n                if (Math.abs(now - currentTimeMs) > 100) setCurrentTimeMs(now);\r\n\r\n                // Gap Auto-Skip Logic (Enterprise Feature)\r\n                // If we are essentially at the end of a segment, jump to next\r\n                const currentSeg = segments.find(s => now >= s.start && now < s.end);\r\n                if (currentSeg && (currentSeg.end - now) < 500) {\r\n                    // Check next\r\n                    const nextSeg = segments.find(s => s.start >= currentSeg.end);\r\n                    if (nextSeg) {\r\n                        // Only skip if gap is significant (> 1s)\r\n                        if (nextSeg.start - currentSeg.end > 1000) {\r\n                            console.log(\"Auto-Skipping Gap...\");\r\n                            playerRef.current.seekTo(nextSeg.start);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, 100);\r\n        return () => clearInterval(i);\r\n    }, [playerState, currentTimeMs, segments]);\r\n\r\n    // --- ACTIONS ---\r\n    const changeSpeed = (rate) => {\r\n        setPlaybackRate(rate);\r\n        if (videoRef.current) videoRef.current.playbackRate = rate;\r\n    };\r\n\r\n    const performSeek = (ts) => {\r\n        // Snap to segment start if close? Optional enterprise feature.\r\n        setCurrentTimeMs(ts);\r\n        playerRef.current?.seekTo(ts);\r\n    };\r\n\r\n    const fitDay = () => {\r\n        setViewportStartMs(new Date(selectedDate).setHours(0, 0, 0, 0));\r\n        setZoomPxPerSec(containerWidth / 86400);\r\n    };\r\n\r\n    // --- MOUSE HANDLERS (Timeline) ---\r\n    const handleMouseDown = (e) => {\r\n        dragRef.current = { isDragging: true, startX: e.clientX, startViewTime: viewportStartMs };\r\n        document.body.style.cursor = 'grabbing';\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragRef.current.isDragging) return;\r\n        const dx = e.clientX - dragRef.current.startX;\r\n        const dt = -(dx / zoomPxPerSec) * 1000;\r\n        setViewportStartMs(dragRef.current.startViewTime + dt);\r\n    };\r\n\r\n    const handleMouseUp = (e) => {\r\n        if (dragRef.current.isDragging) {\r\n            dragRef.current.isDragging = false;\r\n            document.body.style.cursor = 'default';\r\n            if (Math.abs(e.clientX - dragRef.current.startX) < 5) {\r\n                const rect = timelineRef.current.getBoundingClientRect();\r\n                const clickX = e.clientX - rect.left;\r\n                const ts = viewportStartMs + (clickX / zoomPxPerSec) * 1000;\r\n                performSeek(ts);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleWheel = (e) => {\r\n        if (e.target.closest('.timeline-area')) {\r\n            e.preventDefault();\r\n            const rect = timelineRef.current.getBoundingClientRect();\r\n            const mouseX = e.clientX - rect.left;\r\n            const timeUnderMouse = viewportStartMs + (mouseX / zoomPxPerSec) * 1000;\r\n            const factor = e.deltaY > 0 ? 0.9 : 1.1;\r\n            const newZoom = Math.max(containerWidth / 86400, Math.min(5.0, zoomPxPerSec * factor));\r\n            setZoomPxPerSec(newZoom);\r\n            setViewportStartMs(timeUnderMouse - (mouseX / newZoom) * 1000);\r\n        }\r\n    };\r\n\r\n    // --- RENDER HELPERS ---\r\n    const timeToPx = (t) => (t - viewportStartMs) / 1000 * zoomPxPerSec;\r\n\r\n    const renderRuler = () => {\r\n        const ticks = [];\r\n        const pxPerMin = zoomPxPerSec * 60;\r\n        // Adaptive step\r\n        let stepMin = 60;\r\n        if (pxPerMin > 200) stepMin = 5;\r\n        if (pxPerMin > 500) stepMin = 1;\r\n\r\n        const stepMs = stepMin * 60 * 1000;\r\n        const viewEnd = viewportStartMs + (containerWidth / zoomPxPerSec * 1000);\r\n        const start = Math.floor(viewportStartMs / stepMs) * stepMs;\r\n\r\n        for (let t = start; t < viewEnd; t += stepMs) {\r\n            const x = timeToPx(t);\r\n            const date = new Date(t);\r\n            const isHour = date.getMinutes() === 0;\r\n            if (x < -20 || x > containerWidth) continue;\r\n\r\n            ticks.push(\r\n                <div key={t} style={{ position: 'absolute', left: x, top: 0, height: 25, borderLeft: `1px solid ${isHour ? '#888' : '#444'}` }}>\r\n                    {isHour && <div style={{ position: 'absolute', top: 2, left: 4, fontSize: 10, color: '#aaa', pointerEvents: 'none' }}>\r\n                        {date.getHours()}:00\r\n                    </div>}\r\n                </div>\r\n            );\r\n        }\r\n        return ticks;\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', height: '100vh', background: THEME.bg, color: THEME.text }}>\r\n\r\n            {/* HEADER */}\r\n            <header style={{ height: 40, background: THEME.header, borderBottom: `1px solid ${THEME.panelBorder}`, display: 'flex', alignItems: 'center', padding: '0 16px' }}>\r\n                <span style={{ fontWeight: 'bold', color: THEME.accent, marginRight: 20 }}>DSS EDGE VMS</span>\r\n                <span style={{ fontSize: 13, background: '#444', padding: '2px 8px', borderRadius: 4 }}>{camId}</span>\r\n                <div style={{ flex: 1 }} />\r\n                <input type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)}\r\n                    style={{ background: '#333', color: '#fff', border: 'none', borderRadius: 4, padding: '4px' }} />\r\n            </header>\r\n\r\n            {/* PLAYER AREA */}\r\n            <div style={{ flex: 1, position: 'relative', background: '#000', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                <video ref={videoRef} style={{ width: '100%', maxHeight: '100%' }} />\r\n                {isLoadingData && <div style={{ position: 'absolute', color: '#fff' }}>Loading Timeline...</div>}\r\n                {segments.length === 0 && !isLoadingData && <div style={{ position: 'absolute', color: '#aaa' }}>No Recordings</div>}\r\n            </div>\r\n\r\n            {/* CONTROLS BAR */}\r\n            <div style={{ height: 48, background: '#252526', borderTop: `1px solid ${THEME.panelBorder}`, display: 'flex', alignItems: 'center', padding: '0 10px', gap: 8 }}>\r\n\r\n                {/* Playback Controls */}\r\n                <button style={btnStyle} onClick={() => performSeek(currentTimeMs - 10000)}>⏪</button>\r\n                <button style={btnStyle} onClick={() => playerState === PlayerStates.PLAYING ? playerRef.current?.pause() : playerRef.current?.play()}>\r\n                    {playerState === PlayerStates.PLAYING ? \"⏸\" : \"▶\"}\r\n                </button>\r\n                <button style={btnStyle} onClick={() => performSeek(currentTimeMs + 10000)}>⏩</button>\r\n\r\n                <div style={{ width: 1, height: 20, background: '#555', margin: '0 8px' }} />\r\n\r\n                {/* Speed Controls */}\r\n                {[0.25, 0.5, 1, 2, 4].map(rate => (\r\n                    <button key={rate}\r\n                        style={{ ...btnStyle, background: playbackRate === rate ? THEME.accent : 'transparent', color: playbackRate === rate ? '#fff' : '#aaa' }}\r\n                        onClick={() => changeSpeed(rate)}>\r\n                        {rate}x\r\n                    </button>\r\n                ))}\r\n\r\n                <div style={{ flex: 1 }} />\r\n\r\n                {/* Time Display */}\r\n                <span style={{ fontFamily: 'monospace', fontSize: 14 }}>\r\n                    {new Date(currentTimeMs).toLocaleTimeString()}\r\n                </span>\r\n\r\n                <button style={btnStyle} onClick={fitDay}>⛶ 24H</button>\r\n            </div>\r\n\r\n            {/* TIMELINE AREA */}\r\n            <div className=\"timeline-area\" ref={timelineRef}\r\n                style={{ height: 120, background: THEME.rulerBg, position: 'relative', overflow: 'hidden', cursor: dragRef.current.isDragging ? 'grabbing' : 'default', userSelect: 'none' }}\r\n                onMouseUp={handleMouseUp} onMouseLeave={handleMouseUp} onMouseMove={handleMouseMove} onMouseDown={handleMouseDown} onWheel={handleWheel}\r\n            >\r\n                {/* Ruler Track */}\r\n                <div style={{ height: 25, borderBottom: '1px solid #444' }}>\r\n                    {renderRuler()}\r\n                </div>\r\n\r\n                {/* Recording Track */}\r\n                <div style={{ position: 'relative', top: 10, height: 40 }}>\r\n                    {segments.map((s, i) => {\r\n                        const x = timeToPx(s.start);\r\n                        const w = Math.max(2, (s.end - s.start) / 1000 * zoomPxPerSec);\r\n                        if (x + w < 0 || x > containerWidth) return null;\r\n                        return (\r\n                            <div key={i} title={new Date(s.start).toLocaleTimeString()} style={{\r\n                                position: 'absolute', left: x, width: w, height: '100%',\r\n                                background: s.type === 'event' ? THEME.segmentEvent : THEME.segment,\r\n                                borderRadius: 2, borderLeft: '1px solid rgba(0,0,0,0.2)'\r\n                            }} />\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {/* Cursor */}\r\n                <div style={{\r\n                    position: 'absolute', left: timeToPx(currentTimeMs), top: 0, bottom: 0,\r\n                    width: 2, background: THEME.playhead, zIndex: 10, pointerEvents: 'none'\r\n                }}>\r\n                    <div style={{\r\n                        position: 'absolute', top: 0, left: -4,\r\n                        width: 10, height: 10, background: THEME.playhead,\r\n                        transform: 'rotate(45deg)', marginTop: -5\r\n                    }} />\r\n                    <div style={{ position: 'absolute', bottom: 2, left: 4, background: THEME.playhead, color: '#000', fontSize: 10, padding: '0 2px', borderRadius: 2 }}>\r\n                        {new Date(currentTimeMs).toLocaleTimeString()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst btnStyle = {\r\n    background: 'transparent', border: 'none', color: '#e0e0e0',\r\n    cursor: 'pointer', padding: '4px 8px', borderRadius: 4, fontSize: 14\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,eAAe,QAAQ,OAAO;AAC3E,SAASC,eAAe,EAAEC,WAAW,QAAQ,kBAAkB;AAC/D,OAAOC,GAAG,MAAM,QAAQ;AACxB,OAAOC,kBAAkB,IAAIC,YAAY,QAAQ,gCAAgC;;AAEjF;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,KAAK,GAAG;EACVC,EAAE,EAAE,SAAS;EAAY;EACzBC,MAAM,EAAE,SAAS;EACjBC,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EAAQ;EACzBC,OAAO,EAAE,SAAS;EAAO;EACzBC,YAAY,EAAE,SAAS;EAAE;EACzBC,GAAG,EAAE,SAAS;EAAW;EACzBC,OAAO,EAAE,SAAS;EAClBC,SAAS,EAAE,SAAS;EACpBC,QAAQ,EAAE,SAAS;EAAM;EACzBC,WAAW,EAAE;AACjB,CAAC;AAED,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,YAAY,CAAC,GAAGrB,eAAe,CAAC,CAAC;EACxC,MAAMsB,QAAQ,GAAGrB,WAAW,CAAC,CAAC;EAC9B,MAAMsB,KAAK,GAAGF,YAAY,CAACG,GAAG,CAAC,OAAO,CAAC;;EAEvC;EACA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,IAAI8B,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACxF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGlC,QAAQ,CAACO,YAAY,CAAC4B,IAAI,CAAC;EACjE,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGrC,QAAQ,CAAC,GAAG,CAAC;;EAErD;EACA,MAAM,CAACsC,aAAa,EAAEC,gBAAgB,CAAC,GAAGvC,QAAQ,CAAC8B,IAAI,CAACU,GAAG,CAAC,CAAC,CAAC;EAC9D,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAG1C,QAAQ,CAAC,IAAI8B,IAAI,CAAC,CAAC,CAACa,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACvF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG7C,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;EAChE,MAAM,CAAC8C,cAAc,EAAEC,iBAAiB,CAAC,GAAG/C,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACgD,QAAQ,EAAEC,WAAW,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkD,aAAa,EAAEC,gBAAgB,CAAC,GAAGnD,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMoD,QAAQ,GAAGnD,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMoD,SAAS,GAAGpD,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMqD,WAAW,GAAGrD,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMsD,OAAO,GAAGtD,MAAM,CAAC;IAAEuD,UAAU,EAAE,KAAK;IAAEC,MAAM,EAAE,CAAC;IAAEC,aAAa,EAAE;EAAE,CAAC,CAAC;;EAE1E;EACA3D,SAAS,CAAC,MAAM;IACZ,IAAI6B,YAAY,EAAEc,kBAAkB,CAAC,IAAIZ,IAAI,CAACF,YAAY,CAAC,CAACe,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACrF,CAAC,EAAE,CAACf,YAAY,CAAC,CAAC;EAElB7B,SAAS,CAAC,MAAM;IACZ,IAAIqD,QAAQ,CAACO,OAAO,IAAIjC,KAAK,EAAE;MAC3B2B,SAAS,CAACM,OAAO,GAAG,IAAIrD,kBAAkB,CAAC8C,QAAQ,CAACO,OAAO,EAAEjC,KAAK,EAAGkC,CAAC,IAAK1B,cAAc,CAAC0B,CAAC,CAAC,CAAC;MAC7F,OAAO;QAAA,IAAAC,kBAAA;QAAA,QAAAA,kBAAA,GAAMR,SAAS,CAACM,OAAO,cAAAE,kBAAA,uBAAjBA,kBAAA,CAAmBC,OAAO,CAAC,CAAC;MAAA;IAC7C;EACJ,CAAC,EAAE,CAACpC,KAAK,CAAC,CAAC;EAEXxB,eAAe,CAAC,MAAM;IAClB,MAAM6D,WAAW,GAAGA,CAAA,KAAM;MAAE,IAAIT,WAAW,CAACK,OAAO,EAAEZ,iBAAiB,CAACO,WAAW,CAACK,OAAO,CAACK,WAAW,CAAC;IAAE,CAAC;IAC1GC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEH,WAAW,CAAC;IAC9CA,WAAW,CAAC,CAAC;IACb,OAAO,MAAME,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEJ,WAAW,CAAC;EAClE,CAAC,EAAE,EAAE,CAAC;EAENhE,SAAS,CAAC,MAAM;IACZ,IAAI,CAAC2B,KAAK,IAAI,CAACE,YAAY,EAAE;IAC7B,MAAMwC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1BjB,gBAAgB,CAAC,IAAI,CAAC;MACtB,IAAI;QACA,MAAMkB,GAAG,GAAG,MAAMhE,GAAG,CAACsB,GAAG,CAAC,8BAA8BD,KAAK,IAAIE,YAAY,EAAE,CAAC;QAChF,MAAM0C,IAAI,GAAGD,GAAG,CAACC,IAAI;QACrB,MAAMC,IAAI,GAAG,CAACD,IAAI,CAACtB,QAAQ,IAAI,EAAE,EAAEwB,GAAG,CAACZ,CAAC,KAAK;UACzCa,KAAK,EAAEC,MAAM,CAACd,CAAC,CAACe,QAAQ,IAAIf,CAAC,CAACgB,OAAO,CAAC;UACtCC,GAAG,EAAEH,MAAM,CAACd,CAAC,CAACkB,MAAM,IAAIlB,CAAC,CAACmB,KAAK,CAAC;UAChCC,IAAI,EAAEpB,CAAC,CAACoB,IAAI,IAAI,QAAQ;UAAE;UAC1BC,IAAI,EAAErB,CAAC,CAACqB;QACZ,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACV,KAAK,GAAGW,CAAC,CAACX,KAAK,CAAC;QAErCxB,WAAW,CAACsB,IAAI,CAAC;QACjB,IAAIlB,SAAS,CAACM,OAAO,EAAEN,SAAS,CAACM,OAAO,CAAC0B,YAAY,CAACd,IAAI,CAAC;;QAE3D;QACA,IAAIzB,cAAc,GAAG,CAAC,EAAE;UACpBJ,kBAAkB,CAAC,IAAIZ,IAAI,CAACF,YAAY,CAAC,CAACe,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;UAC/DE,eAAe,CAACC,cAAc,GAAG,KAAK,CAAC;QAC3C;MACJ,CAAC,CAAC,OAAOwC,CAAC,EAAE;QAAEC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;MAAE,CAAC,SAAS;QAAEnC,gBAAgB,CAAC,KAAK,CAAC;MAAE;IACzE,CAAC;IACDiB,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAAC1C,KAAK,EAAEE,YAAY,CAAC,CAAC;;EAEzB;EACA7B,SAAS,CAAC,MAAM;IACZ,MAAM0F,CAAC,GAAGC,WAAW,CAAC,MAAM;MACxB,IAAIzD,WAAW,KAAK1B,YAAY,CAACoF,OAAO,IAAItC,SAAS,CAACM,OAAO,EAAE;QAC3D,MAAMnB,GAAG,GAAGa,SAAS,CAACM,OAAO,CAACiC,cAAc,CAAC,CAAC;QAC9C,IAAIC,IAAI,CAACC,GAAG,CAACtD,GAAG,GAAGF,aAAa,CAAC,GAAG,GAAG,EAAEC,gBAAgB,CAACC,GAAG,CAAC;;QAE9D;QACA;QACA,MAAMuD,UAAU,GAAG/C,QAAQ,CAACgD,IAAI,CAACpC,CAAC,IAAIpB,GAAG,IAAIoB,CAAC,CAACa,KAAK,IAAIjC,GAAG,GAAGoB,CAAC,CAACiB,GAAG,CAAC;QACpE,IAAIkB,UAAU,IAAKA,UAAU,CAAClB,GAAG,GAAGrC,GAAG,GAAI,GAAG,EAAE;UAC5C;UACA,MAAMyD,OAAO,GAAGjD,QAAQ,CAACgD,IAAI,CAACpC,CAAC,IAAIA,CAAC,CAACa,KAAK,IAAIsB,UAAU,CAAClB,GAAG,CAAC;UAC7D,IAAIoB,OAAO,EAAE;YACT;YACA,IAAIA,OAAO,CAACxB,KAAK,GAAGsB,UAAU,CAAClB,GAAG,GAAG,IAAI,EAAE;cACvCU,OAAO,CAACW,GAAG,CAAC,sBAAsB,CAAC;cACnC7C,SAAS,CAACM,OAAO,CAACwC,MAAM,CAACF,OAAO,CAACxB,KAAK,CAAC;YAC3C;UACJ;QACJ;MACJ;IACJ,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAM2B,aAAa,CAACX,CAAC,CAAC;EACjC,CAAC,EAAE,CAACxD,WAAW,EAAEK,aAAa,EAAEU,QAAQ,CAAC,CAAC;;EAE1C;EACA,MAAMqD,WAAW,GAAIC,IAAI,IAAK;IAC1BjE,eAAe,CAACiE,IAAI,CAAC;IACrB,IAAIlD,QAAQ,CAACO,OAAO,EAAEP,QAAQ,CAACO,OAAO,CAACvB,YAAY,GAAGkE,IAAI;EAC9D,CAAC;EAED,MAAMC,WAAW,GAAIC,EAAE,IAAK;IAAA,IAAAC,mBAAA;IACxB;IACAlE,gBAAgB,CAACiE,EAAE,CAAC;IACpB,CAAAC,mBAAA,GAAApD,SAAS,CAACM,OAAO,cAAA8C,mBAAA,uBAAjBA,mBAAA,CAAmBN,MAAM,CAACK,EAAE,CAAC;EACjC,CAAC;EAED,MAAME,MAAM,GAAGA,CAAA,KAAM;IACjBhE,kBAAkB,CAAC,IAAIZ,IAAI,CAACF,YAAY,CAAC,CAACe,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/DE,eAAe,CAACC,cAAc,GAAG,KAAK,CAAC;EAC3C,CAAC;;EAED;EACA,MAAM6D,eAAe,GAAIrB,CAAC,IAAK;IAC3B/B,OAAO,CAACI,OAAO,GAAG;MAAEH,UAAU,EAAE,IAAI;MAAEC,MAAM,EAAE6B,CAAC,CAACsB,OAAO;MAAElD,aAAa,EAAEjB;IAAgB,CAAC;IACzFoE,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,UAAU;EAC3C,CAAC;EAED,MAAMC,eAAe,GAAI3B,CAAC,IAAK;IAC3B,IAAI,CAAC/B,OAAO,CAACI,OAAO,CAACH,UAAU,EAAE;IACjC,MAAM0D,EAAE,GAAG5B,CAAC,CAACsB,OAAO,GAAGrD,OAAO,CAACI,OAAO,CAACF,MAAM;IAC7C,MAAM0D,EAAE,GAAG,EAAED,EAAE,GAAGtE,YAAY,CAAC,GAAG,IAAI;IACtCF,kBAAkB,CAACa,OAAO,CAACI,OAAO,CAACD,aAAa,GAAGyD,EAAE,CAAC;EAC1D,CAAC;EAED,MAAMC,aAAa,GAAI9B,CAAC,IAAK;IACzB,IAAI/B,OAAO,CAACI,OAAO,CAACH,UAAU,EAAE;MAC5BD,OAAO,CAACI,OAAO,CAACH,UAAU,GAAG,KAAK;MAClCqD,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,SAAS;MACtC,IAAInB,IAAI,CAACC,GAAG,CAACR,CAAC,CAACsB,OAAO,GAAGrD,OAAO,CAACI,OAAO,CAACF,MAAM,CAAC,GAAG,CAAC,EAAE;QAClD,MAAM4D,IAAI,GAAG/D,WAAW,CAACK,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;QACxD,MAAMC,MAAM,GAAGjC,CAAC,CAACsB,OAAO,GAAGS,IAAI,CAACG,IAAI;QACpC,MAAMhB,EAAE,GAAG/D,eAAe,GAAI8E,MAAM,GAAG3E,YAAY,GAAI,IAAI;QAC3D2D,WAAW,CAACC,EAAE,CAAC;MACnB;IACJ;EACJ,CAAC;EAED,MAAMiB,WAAW,GAAInC,CAAC,IAAK;IACvB,IAAIA,CAAC,CAACoC,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAAC,EAAE;MACpCrC,CAAC,CAACsC,cAAc,CAAC,CAAC;MAClB,MAAMP,IAAI,GAAG/D,WAAW,CAACK,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;MACxD,MAAMO,MAAM,GAAGvC,CAAC,CAACsB,OAAO,GAAGS,IAAI,CAACG,IAAI;MACpC,MAAMM,cAAc,GAAGrF,eAAe,GAAIoF,MAAM,GAAGjF,YAAY,GAAI,IAAI;MACvE,MAAMmF,MAAM,GAAGzC,CAAC,CAAC0C,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG;MACvC,MAAMC,OAAO,GAAGpC,IAAI,CAACqC,GAAG,CAACpF,cAAc,GAAG,KAAK,EAAE+C,IAAI,CAACsC,GAAG,CAAC,GAAG,EAAEvF,YAAY,GAAGmF,MAAM,CAAC,CAAC;MACtFlF,eAAe,CAACoF,OAAO,CAAC;MACxBvF,kBAAkB,CAACoF,cAAc,GAAID,MAAM,GAAGI,OAAO,GAAI,IAAI,CAAC;IAClE;EACJ,CAAC;;EAED;EACA,MAAMG,QAAQ,GAAIC,CAAC,IAAK,CAACA,CAAC,GAAG5F,eAAe,IAAI,IAAI,GAAGG,YAAY;EAEnE,MAAM0F,WAAW,GAAGA,CAAA,KAAM;IACtB,MAAMC,KAAK,GAAG,EAAE;IAChB,MAAMC,QAAQ,GAAG5F,YAAY,GAAG,EAAE;IAClC;IACA,IAAI6F,OAAO,GAAG,EAAE;IAChB,IAAID,QAAQ,GAAG,GAAG,EAAEC,OAAO,GAAG,CAAC;IAC/B,IAAID,QAAQ,GAAG,GAAG,EAAEC,OAAO,GAAG,CAAC;IAE/B,MAAMC,MAAM,GAAGD,OAAO,GAAG,EAAE,GAAG,IAAI;IAClC,MAAME,OAAO,GAAGlG,eAAe,GAAIK,cAAc,GAAGF,YAAY,GAAG,IAAK;IACxE,MAAM6B,KAAK,GAAGoB,IAAI,CAAC+C,KAAK,CAACnG,eAAe,GAAGiG,MAAM,CAAC,GAAGA,MAAM;IAE3D,KAAK,IAAIL,CAAC,GAAG5D,KAAK,EAAE4D,CAAC,GAAGM,OAAO,EAAEN,CAAC,IAAIK,MAAM,EAAE;MAC1C,MAAMG,CAAC,GAAGT,QAAQ,CAACC,CAAC,CAAC;MACrB,MAAMS,IAAI,GAAG,IAAIhH,IAAI,CAACuG,CAAC,CAAC;MACxB,MAAMU,MAAM,GAAGD,IAAI,CAACE,UAAU,CAAC,CAAC,KAAK,CAAC;MACtC,IAAIH,CAAC,GAAG,CAAC,EAAE,IAAIA,CAAC,GAAG/F,cAAc,EAAE;MAEnCyF,KAAK,CAACU,IAAI,cACNxI,OAAA;QAAasG,KAAK,EAAE;UAAEmC,QAAQ,EAAE,UAAU;UAAE1B,IAAI,EAAEqB,CAAC;UAAEM,GAAG,EAAE,CAAC;UAAEC,MAAM,EAAE,EAAE;UAAEC,UAAU,EAAE,aAAaN,MAAM,GAAG,MAAM,GAAG,MAAM;QAAG,CAAE;QAAAO,QAAA,EAC1HP,MAAM,iBAAItI,OAAA;UAAKsG,KAAK,EAAE;YAAEmC,QAAQ,EAAE,UAAU;YAAEC,GAAG,EAAE,CAAC;YAAE3B,IAAI,EAAE,CAAC;YAAE+B,QAAQ,EAAE,EAAE;YAAEC,KAAK,EAAE,MAAM;YAAEC,aAAa,EAAE;UAAO,CAAE;UAAAH,QAAA,GAChHR,IAAI,CAACY,QAAQ,CAAC,CAAC,EAAC,KACrB;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC,GAHAzB,CAAC;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIN,CACT,CAAC;IACL;IACA,OAAOvB,KAAK;EAChB,CAAC;EAED,oBACI9H,OAAA;IAAKsG,KAAK,EAAE;MAAEgD,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEZ,MAAM,EAAE,OAAO;MAAEa,UAAU,EAAEvJ,KAAK,CAACC,EAAE;MAAE6I,KAAK,EAAE9I,KAAK,CAACG;IAAK,CAAE;IAAAyI,QAAA,gBAG/G7I,OAAA;MAAQsG,KAAK,EAAE;QAAEqC,MAAM,EAAE,EAAE;QAAEa,UAAU,EAAEvJ,KAAK,CAACE,MAAM;QAAEsJ,YAAY,EAAE,aAAaxJ,KAAK,CAACW,WAAW,EAAE;QAAE0I,OAAO,EAAE,MAAM;QAAEI,UAAU,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAAS,CAAE;MAAAd,QAAA,gBAC9J7I,OAAA;QAAMsG,KAAK,EAAE;UAAEsD,UAAU,EAAE,MAAM;UAAEb,KAAK,EAAE9I,KAAK,CAACI,MAAM;UAAEwJ,WAAW,EAAE;QAAG,CAAE;QAAAhB,QAAA,EAAC;MAAY;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9FrJ,OAAA;QAAMsG,KAAK,EAAE;UAAEwC,QAAQ,EAAE,EAAE;UAAEU,UAAU,EAAE,MAAM;UAAEG,OAAO,EAAE,SAAS;UAAEG,YAAY,EAAE;QAAE,CAAE;QAAAjB,QAAA,EAAE5H;MAAK;QAAAiI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACtGrJ,OAAA;QAAKsG,KAAK,EAAE;UAAEyD,IAAI,EAAE;QAAE;MAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC3BrJ,OAAA;QAAOuE,IAAI,EAAC,MAAM;QAACyF,KAAK,EAAE7I,YAAa;QAAC8I,QAAQ,EAAEpF,CAAC,IAAIzD,eAAe,CAACyD,CAAC,CAACoC,MAAM,CAAC+C,KAAK,CAAE;QACnF1D,KAAK,EAAE;UAAEkD,UAAU,EAAE,MAAM;UAAET,KAAK,EAAE,MAAM;UAAEmB,MAAM,EAAE,MAAM;UAAEJ,YAAY,EAAE,CAAC;UAAEH,OAAO,EAAE;QAAM;MAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjG,CAAC,eAGTrJ,OAAA;MAAKsG,KAAK,EAAE;QAAEyD,IAAI,EAAE,CAAC;QAAEtB,QAAQ,EAAE,UAAU;QAAEe,UAAU,EAAE,MAAM;QAAEF,OAAO,EAAE,MAAM;QAAEa,cAAc,EAAE,QAAQ;QAAET,UAAU,EAAE;MAAS,CAAE;MAAAb,QAAA,gBAC/H7I,OAAA;QAAOoK,GAAG,EAAEzH,QAAS;QAAC2D,KAAK,EAAE;UAAE+D,KAAK,EAAE,MAAM;UAAEC,SAAS,EAAE;QAAO;MAAE;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACpE5G,aAAa,iBAAIzC,OAAA;QAAKsG,KAAK,EAAE;UAAEmC,QAAQ,EAAE,UAAU;UAAEM,KAAK,EAAE;QAAO,CAAE;QAAAF,QAAA,EAAC;MAAmB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC/F9G,QAAQ,CAACgI,MAAM,KAAK,CAAC,IAAI,CAAC9H,aAAa,iBAAIzC,OAAA;QAAKsG,KAAK,EAAE;UAAEmC,QAAQ,EAAE,UAAU;UAAEM,KAAK,EAAE;QAAO,CAAE;QAAAF,QAAA,EAAC;MAAa;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnH,CAAC,eAGNrJ,OAAA;MAAKsG,KAAK,EAAE;QAAEqC,MAAM,EAAE,EAAE;QAAEa,UAAU,EAAE,SAAS;QAAEgB,SAAS,EAAE,aAAavK,KAAK,CAACW,WAAW,EAAE;QAAE0I,OAAO,EAAE,MAAM;QAAEI,UAAU,EAAE,QAAQ;QAAEC,OAAO,EAAE,QAAQ;QAAEnJ,GAAG,EAAE;MAAE,CAAE;MAAAqI,QAAA,gBAG7J7I,OAAA;QAAQsG,KAAK,EAAEmE,QAAS;QAACC,OAAO,EAAEA,CAAA,KAAM5E,WAAW,CAACjE,aAAa,GAAG,KAAK,CAAE;QAAAgH,QAAA,EAAC;MAAC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtFrJ,OAAA;QAAQsG,KAAK,EAAEmE,QAAS;QAACC,OAAO,EAAEA,CAAA;UAAA,IAAAC,mBAAA,EAAAC,mBAAA;UAAA,OAAMpJ,WAAW,KAAK1B,YAAY,CAACoF,OAAO,IAAAyF,mBAAA,GAAG/H,SAAS,CAACM,OAAO,cAAAyH,mBAAA,uBAAjBA,mBAAA,CAAmBE,KAAK,CAAC,CAAC,IAAAD,mBAAA,GAAGhI,SAAS,CAACM,OAAO,cAAA0H,mBAAA,uBAAjBA,mBAAA,CAAmBE,IAAI,CAAC,CAAC;QAAA,CAAC;QAAAjC,QAAA,EACjIrH,WAAW,KAAK1B,YAAY,CAACoF,OAAO,GAAG,GAAG,GAAG;MAAG;QAAAgE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,eACTrJ,OAAA;QAAQsG,KAAK,EAAEmE,QAAS;QAACC,OAAO,EAAEA,CAAA,KAAM5E,WAAW,CAACjE,aAAa,GAAG,KAAK,CAAE;QAAAgH,QAAA,EAAC;MAAC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAEtFrJ,OAAA;QAAKsG,KAAK,EAAE;UAAE+D,KAAK,EAAE,CAAC;UAAE1B,MAAM,EAAE,EAAE;UAAEa,UAAU,EAAE,MAAM;UAAEuB,MAAM,EAAE;QAAQ;MAAE;QAAA7B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAG5E,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACtF,GAAG,CAAC8B,IAAI,iBAC1B7F,OAAA;QACIsG,KAAK,EAAE;UAAE,GAAGmE,QAAQ;UAAEjB,UAAU,EAAE7H,YAAY,KAAKkE,IAAI,GAAG5F,KAAK,CAACI,MAAM,GAAG,aAAa;UAAE0I,KAAK,EAAEpH,YAAY,KAAKkE,IAAI,GAAG,MAAM,GAAG;QAAO,CAAE;QACzI6E,OAAO,EAAEA,CAAA,KAAM9E,WAAW,CAACC,IAAI,CAAE;QAAAgD,QAAA,GAChChD,IAAI,EAAC,GACV;MAAA,GAJaA,IAAI;QAAAqD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIT,CACX,CAAC,eAEFrJ,OAAA;QAAKsG,KAAK,EAAE;UAAEyD,IAAI,EAAE;QAAE;MAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAG3BrJ,OAAA;QAAMsG,KAAK,EAAE;UAAE0E,UAAU,EAAE,WAAW;UAAElC,QAAQ,EAAE;QAAG,CAAE;QAAAD,QAAA,EAClD,IAAIxH,IAAI,CAACQ,aAAa,CAAC,CAACoJ,kBAAkB,CAAC;MAAC;QAAA/B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAEPrJ,OAAA;QAAQsG,KAAK,EAAEmE,QAAS;QAACC,OAAO,EAAEzE,MAAO;QAAA4C,QAAA,EAAC;MAAK;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC,eAGNrJ,OAAA;MAAKkL,SAAS,EAAC,eAAe;MAACd,GAAG,EAAEvH,WAAY;MAC5CyD,KAAK,EAAE;QAAEqC,MAAM,EAAE,GAAG;QAAEa,UAAU,EAAEvJ,KAAK,CAACQ,OAAO;QAAEgI,QAAQ,EAAE,UAAU;QAAE0C,QAAQ,EAAE,QAAQ;QAAE5E,MAAM,EAAEzD,OAAO,CAACI,OAAO,CAACH,UAAU,GAAG,UAAU,GAAG,SAAS;QAAEqI,UAAU,EAAE;MAAO,CAAE;MAC7KC,SAAS,EAAE1E,aAAc;MAAC2E,YAAY,EAAE3E,aAAc;MAAC4E,WAAW,EAAE/E,eAAgB;MAACgF,WAAW,EAAEtF,eAAgB;MAACuF,OAAO,EAAEzE,WAAY;MAAA6B,QAAA,gBAGxI7I,OAAA;QAAKsG,KAAK,EAAE;UAAEqC,MAAM,EAAE,EAAE;UAAEc,YAAY,EAAE;QAAiB,CAAE;QAAAZ,QAAA,EACtDhB,WAAW,CAAC;MAAC;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CAAC,eAGNrJ,OAAA;QAAKsG,KAAK,EAAE;UAAEmC,QAAQ,EAAE,UAAU;UAAEC,GAAG,EAAE,EAAE;UAAEC,MAAM,EAAE;QAAG,CAAE;QAAAE,QAAA,EACrDtG,QAAQ,CAACwB,GAAG,CAAC,CAACZ,CAAC,EAAE6B,CAAC,KAAK;UACpB,MAAMoD,CAAC,GAAGT,QAAQ,CAACxE,CAAC,CAACa,KAAK,CAAC;UAC3B,MAAM0H,CAAC,GAAGtG,IAAI,CAACqC,GAAG,CAAC,CAAC,EAAE,CAACtE,CAAC,CAACiB,GAAG,GAAGjB,CAAC,CAACa,KAAK,IAAI,IAAI,GAAG7B,YAAY,CAAC;UAC9D,IAAIiG,CAAC,GAAGsD,CAAC,GAAG,CAAC,IAAItD,CAAC,GAAG/F,cAAc,EAAE,OAAO,IAAI;UAChD,oBACIrC,OAAA;YAAa2L,KAAK,EAAE,IAAItK,IAAI,CAAC8B,CAAC,CAACa,KAAK,CAAC,CAACiH,kBAAkB,CAAC,CAAE;YAAC3E,KAAK,EAAE;cAC/DmC,QAAQ,EAAE,UAAU;cAAE1B,IAAI,EAAEqB,CAAC;cAAEiC,KAAK,EAAEqB,CAAC;cAAE/C,MAAM,EAAE,MAAM;cACvDa,UAAU,EAAErG,CAAC,CAACoB,IAAI,KAAK,OAAO,GAAGtE,KAAK,CAACM,YAAY,GAAGN,KAAK,CAACK,OAAO;cACnEwJ,YAAY,EAAE,CAAC;cAAElB,UAAU,EAAE;YACjC;UAAE,GAJQ5D,CAAC;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIP,CAAC;QAEb,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAGNrJ,OAAA;QAAKsG,KAAK,EAAE;UACRmC,QAAQ,EAAE,UAAU;UAAE1B,IAAI,EAAEY,QAAQ,CAAC9F,aAAa,CAAC;UAAE6G,GAAG,EAAE,CAAC;UAAEkD,MAAM,EAAE,CAAC;UACtEvB,KAAK,EAAE,CAAC;UAAEb,UAAU,EAAEvJ,KAAK,CAACU,QAAQ;UAAEkL,MAAM,EAAE,EAAE;UAAE7C,aAAa,EAAE;QACrE,CAAE;QAAAH,QAAA,gBACE7I,OAAA;UAAKsG,KAAK,EAAE;YACRmC,QAAQ,EAAE,UAAU;YAAEC,GAAG,EAAE,CAAC;YAAE3B,IAAI,EAAE,CAAC,CAAC;YACtCsD,KAAK,EAAE,EAAE;YAAE1B,MAAM,EAAE,EAAE;YAAEa,UAAU,EAAEvJ,KAAK,CAACU,QAAQ;YACjDmL,SAAS,EAAE,eAAe;YAAEC,SAAS,EAAE,CAAC;UAC5C;QAAE;UAAA7C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACLrJ,OAAA;UAAKsG,KAAK,EAAE;YAAEmC,QAAQ,EAAE,UAAU;YAAEmD,MAAM,EAAE,CAAC;YAAE7E,IAAI,EAAE,CAAC;YAAEyC,UAAU,EAAEvJ,KAAK,CAACU,QAAQ;YAAEoI,KAAK,EAAE,MAAM;YAAED,QAAQ,EAAE,EAAE;YAAEa,OAAO,EAAE,OAAO;YAAEG,YAAY,EAAE;UAAE,CAAE;UAAAjB,QAAA,EAChJ,IAAIxH,IAAI,CAACQ,aAAa,CAAC,CAACoJ,kBAAkB,CAAC;QAAC;UAAA/B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACvI,EAAA,CApRuBD,cAAc;EAAA,QACXnB,eAAe,EACrBC,WAAW;AAAA;AAAAqM,EAAA,GAFRnL,cAAc;AAsRtC,MAAM4J,QAAQ,GAAG;EACbjB,UAAU,EAAE,aAAa;EAAEU,MAAM,EAAE,MAAM;EAAEnB,KAAK,EAAE,SAAS;EAC3DxC,MAAM,EAAE,SAAS;EAAEoD,OAAO,EAAE,SAAS;EAAEG,YAAY,EAAE,CAAC;EAAEhB,QAAQ,EAAE;AACtE,CAAC;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}