{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{useSearchParams}from\"react-router-dom\";import API from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const styles=\"\\n* { box-sizing: border-box; margin: 0; padding: 0; }\\n\\n.playback-page {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  background: #000;\\n  color: #fff;\\n  font-family: Arial, sans-serif;\\n}\\n\\n.playback-header {\\n  height: 45px;\\n  background: #1a1a1a;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 15px;\\n  gap: 15px;\\n  border-bottom: 1px solid #333;\\n  flex-shrink: 0;\\n}\\n\\n.video-area {\\n  flex: 1;\\n  background: #000;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\nvideo {\\n  max-width: 100%;\\n  max-height: 100%;\\n}\\n\\n.error-msg {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n  background: rgba(0,0,0,0.8);\\n  padding: 8px 12px;\\n  border-radius: 4px;\\n  color: #ff4444;\\n  font-size: 13px;\\n}\\n\\n.timeline-bar {\\n  height: 50px;\\n  background: #2a2a2a;\\n  position: relative;\\n  flex-shrink: 0;\\n  cursor: pointer;\\n}\\n\\n.time-labels {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 18px;\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 0 5px;\\n  font-size: 10px;\\n  color: #888;\\n  pointer-events: none;\\n}\\n\\n.time-labels span {\\n  flex: 1;\\n  text-align: center;\\n}\\n\\n.timeline-content {\\n  position: absolute;\\n  top: 20px;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: #1a1a1a;\\n}\\n\\n.segment {\\n  position: absolute;\\n  height: 100%;\\n  background: #00ff00;\\n  opacity: 0.9;\\n}\\n\\n.cursor {\\n  position: absolute;\\n  top: 0;\\n  width: 2px;\\n  height: 100%;\\n  background: #fff;\\n  z-index: 10;\\n}\\n\\nbutton {\\n  background: #2a2a2a;\\n  color: #fff;\\n  border: 1px solid #444;\\n  padding: 5px 12px;\\n  border-radius: 3px;\\n  cursor: pointer;\\n  font-size: 12px;\\n}\\n\\nbutton:hover {\\n  background: #333;\\n}\\n\\nbutton.play {\\n  background: #1db954;\\n  color: #000;\\n  font-weight: 600;\\n}\\n\\nselect {\\n  background: #2a2a2a;\\n  color: #fff;\\n  border: 1px solid #444;\\n  padding: 4px 8px;\\n  border-radius: 3px;\\n  font-size: 12px;\\n}\\n\\n.info {\\n  font-size: 11px;\\n  color: #888;\\n}\\n\";export default function Playback(){const[params]=useSearchParams();const camId=params.get(\"camId\");const[segments,setSegments]=useState([]);const[isPlaying,setIsPlaying]=useState(false);const[error,setError]=useState(null);const videoRef=useRef(null);const pcRef=useRef(null);const cursorRef=useRef(null);const timelineRef=useRef(null);// 24h range\nconst[timeRange]=useState(()=>{const now=new Date();const start=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0,0);return{from:start.getTime(),to:start.getTime()+24*60*60*1000};});useEffect(()=>{if(!camId)return;API.get(\"/playback/timeline/\".concat(camId,\"?from=\").concat(timeRange.from,\"&to=\").concat(timeRange.to)).then(res=>{setSegments(res.data.segments||[]);setError(null);}).catch(e=>{console.error(\"Timeline error:\",e);setError(\"Eroare la încărcare\");});},[camId]);const startPlayback=async()=>{if(segments.length===0){setError(\"Nicio înregistrare\");return;}setError(\"Loading...\");try{var _document$getElementB;const res=await API.post('/playback/start',{camId,from:segments[0].start_ts,to:segments[segments.length-1].end_ts||Date.now(),speed:parseFloat(((_document$getElementB=document.getElementById(\"spd\"))===null||_document$getElementB===void 0?void 0:_document$getElementB.value)||1)});const pc=new RTCPeerConnection({iceServers:[{urls:'stun:stun.l.google.com:19302'}]});pcRef.current=pc;pc.ontrack=e=>{if(videoRef.current){videoRef.current.srcObject=e.streams[0];}};const offer=await pc.createOffer({offerToReceiveVideo:true,offerToReceiveAudio:false});await pc.setLocalDescription(offer);const response=await fetch(res.data.webrtcUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(offer)});const answer=await response.json();await pc.setRemoteDescription(answer);setIsPlaying(true);setError(null);}catch(e){var _e$response,_e$response$data;setError(\"Eroare: \"+(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||e.message));}};const stopPlayback=async()=>{try{await API.post('/playback/stop',{camId});if(pcRef.current){pcRef.current.close();pcRef.current=null;}if(videoRef.current){videoRef.current.srcObject=null;}setIsPlaying(false);}catch(e){console.error(e);}};const seekClick=e=>{const rect=timelineRef.current.getBoundingClientRect();const p=(e.clientX-rect.left)/rect.width;if(cursorRef.current){cursorRef.current.style.left=p*100+\"%\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"playback-page\",children:[/*#__PURE__*/_jsx(\"style\",{children:styles}),/*#__PURE__*/_jsxs(\"div\",{className:\"playback-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/',children:\"\\u2190 \\xCEnapoi\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:600},children:[\"Playback Premium \\u2014 \",camId]}),/*#__PURE__*/_jsx(\"span\",{className:\"info\",style:{marginLeft:'auto'},children:\"Vitez\\u0103:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"spd\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1x\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2x\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4x\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"info\",children:[\"Segmente: \",segments.length,\" | GOPs: 0\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-area\",children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,muted:true,playsInline:true}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-msg\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{ref:timelineRef,className:\"timeline-bar\",onClick:seekClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-labels\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"9\"}),/*#__PURE__*/_jsx(\"span\",{children:\"12\"}),/*#__PURE__*/_jsx(\"span\",{children:\"15\"}),/*#__PURE__*/_jsx(\"span\",{children:\"18\"}),/*#__PURE__*/_jsx(\"span\",{children:\"21\"}),/*#__PURE__*/_jsx(\"span\",{children:\"24\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-content\",children:[segments.map((seg,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"segment\",style:{left:\"\".concat(seg.s*100,\"%\"),width:\"\".concat(Math.max((seg.e-seg.s)*100,0.3),\"%\")}},i)),/*#__PURE__*/_jsx(\"div\",{ref:cursorRef,className:\"cursor\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',bottom:'60px',left:'10px',zIndex:100},children:!isPlaying?/*#__PURE__*/_jsx(\"button\",{className:\"play\",onClick:startPlayback,children:\"\\u25B6 RED\\u0102\"}):/*#__PURE__*/_jsx(\"button\",{onClick:stopPlayback,children:\"\\u25A0 OPRIRE\"})})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","useSearchParams","API","jsx","_jsx","jsxs","_jsxs","styles","Playback","params","camId","get","segments","setSegments","isPlaying","setIsPlaying","error","setError","videoRef","pcRef","cursorRef","timelineRef","timeRange","now","Date","start","getFullYear","getMonth","getDate","from","getTime","to","concat","then","res","data","catch","e","console","startPlayback","length","_document$getElementB","post","start_ts","end_ts","speed","parseFloat","document","getElementById","value","pc","RTCPeerConnection","iceServers","urls","current","ontrack","srcObject","streams","offer","createOffer","offerToReceiveVideo","offerToReceiveAudio","setLocalDescription","response","fetch","webrtcUrl","method","headers","body","JSON","stringify","answer","json","setRemoteDescription","_e$response","_e$response$data","message","stopPlayback","close","seekClick","rect","getBoundingClientRect","p","clientX","left","width","style","className","children","onClick","window","location","href","fontWeight","marginLeft","id","ref","autoPlay","muted","playsInline","map","seg","i","s","Math","max","position","bottom","zIndex"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/Playback.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport API from \"../api\";\r\n\r\nconst styles = `\r\n* { box-sizing: border-box; margin: 0; padding: 0; }\r\n\r\n.playback-page {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #000;\r\n  color: #fff;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.playback-header {\r\n  height: 45px;\r\n  background: #1a1a1a;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n  gap: 15px;\r\n  border-bottom: 1px solid #333;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.video-area {\r\n  flex: 1;\r\n  background: #000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\nvideo {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n\r\n.error-msg {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  background: rgba(0,0,0,0.8);\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  color: #ff4444;\r\n  font-size: 13px;\r\n}\r\n\r\n.timeline-bar {\r\n  height: 50px;\r\n  background: #2a2a2a;\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.time-labels {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 18px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 5px;\r\n  font-size: 10px;\r\n  color: #888;\r\n  pointer-events: none;\r\n}\r\n\r\n.time-labels span {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.timeline-content {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #1a1a1a;\r\n}\r\n\r\n.segment {\r\n  position: absolute;\r\n  height: 100%;\r\n  background: #00ff00;\r\n  opacity: 0.9;\r\n}\r\n\r\n.cursor {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 2px;\r\n  height: 100%;\r\n  background: #fff;\r\n  z-index: 10;\r\n}\r\n\r\nbutton {\r\n  background: #2a2a2a;\r\n  color: #fff;\r\n  border: 1px solid #444;\r\n  padding: 5px 12px;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n}\r\n\r\nbutton:hover {\r\n  background: #333;\r\n}\r\n\r\nbutton.play {\r\n  background: #1db954;\r\n  color: #000;\r\n  font-weight: 600;\r\n}\r\n\r\nselect {\r\n  background: #2a2a2a;\r\n  color: #fff;\r\n  border: 1px solid #444;\r\n  padding: 4px 8px;\r\n  border-radius: 3px;\r\n  font-size: 12px;\r\n}\r\n\r\n.info {\r\n  font-size: 11px;\r\n  color: #888;\r\n}\r\n`;\r\n\r\nexport default function Playback() {\r\n    const [params] = useSearchParams();\r\n    const camId = params.get(\"camId\");\r\n\r\n    const [segments, setSegments] = useState([]);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const videoRef = useRef(null);\r\n    const pcRef = useRef(null);\r\n    const cursorRef = useRef(null);\r\n    const timelineRef = useRef(null);\r\n\r\n    // 24h range\r\n    const [timeRange] = useState(() => {\r\n        const now = new Date();\r\n        const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0, 0);\r\n        return {\r\n            from: start.getTime(),\r\n            to: start.getTime() + 24 * 60 * 60 * 1000\r\n        };\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!camId) return;\r\n\r\n        API.get(`/playback/timeline/${camId}?from=${timeRange.from}&to=${timeRange.to}`)\r\n            .then(res => {\r\n                setSegments(res.data.segments || []);\r\n                setError(null);\r\n            })\r\n            .catch(e => {\r\n                console.error(\"Timeline error:\", e);\r\n                setError(\"Eroare la încărcare\");\r\n            });\r\n    }, [camId]);\r\n\r\n    const startPlayback = async () => {\r\n        if (segments.length === 0) {\r\n            setError(\"Nicio înregistrare\");\r\n            return;\r\n        }\r\n\r\n        setError(\"Loading...\");\r\n\r\n        try {\r\n            const res = await API.post('/playback/start', {\r\n                camId,\r\n                from: segments[0].start_ts,\r\n                to: segments[segments.length - 1].end_ts || Date.now(),\r\n                speed: parseFloat(document.getElementById(\"spd\")?.value || 1)\r\n            });\r\n\r\n            const pc = new RTCPeerConnection({\r\n                iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]\r\n            });\r\n\r\n            pcRef.current = pc;\r\n\r\n            pc.ontrack = (e) => {\r\n                if (videoRef.current) {\r\n                    videoRef.current.srcObject = e.streams[0];\r\n                }\r\n            };\r\n\r\n            const offer = await pc.createOffer({\r\n                offerToReceiveVideo: true,\r\n                offerToReceiveAudio: false\r\n            });\r\n\r\n            await pc.setLocalDescription(offer);\r\n\r\n            const response = await fetch(res.data.webrtcUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(offer)\r\n            });\r\n\r\n            const answer = await response.json();\r\n            await pc.setRemoteDescription(answer);\r\n\r\n            setIsPlaying(true);\r\n            setError(null);\r\n        } catch (e) {\r\n            setError(\"Eroare: \" + (e.response?.data?.error || e.message));\r\n        }\r\n    };\r\n\r\n    const stopPlayback = async () => {\r\n        try {\r\n            await API.post('/playback/stop', { camId });\r\n\r\n            if (pcRef.current) {\r\n                pcRef.current.close();\r\n                pcRef.current = null;\r\n            }\r\n\r\n            if (videoRef.current) {\r\n                videoRef.current.srcObject = null;\r\n            }\r\n\r\n            setIsPlaying(false);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    const seekClick = (e) => {\r\n        const rect = timelineRef.current.getBoundingClientRect();\r\n        const p = (e.clientX - rect.left) / rect.width;\r\n\r\n        if (cursorRef.current) {\r\n            cursorRef.current.style.left = (p * 100) + \"%\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"playback-page\">\r\n            <style>{styles}</style>\r\n\r\n            {/* Header */}\r\n            <div className=\"playback-header\">\r\n                <button onClick={() => window.location.href = '/'}>← Înapoi</button>\r\n                <span style={{ fontWeight: 600 }}>Playback Premium — {camId}</span>\r\n\r\n                <span className=\"info\" style={{ marginLeft: 'auto' }}>Viteză:</span>\r\n                <select id=\"spd\">\r\n                    <option value=\"1\">1x</option>\r\n                    <option value=\"2\">2x</option>\r\n                    <option value=\"4\">4x</option>\r\n                </select>\r\n\r\n                <span className=\"info\">Segmente: {segments.length} | GOPs: 0</span>\r\n            </div>\r\n\r\n            {/* Video */}\r\n            <div className=\"video-area\">\r\n                <video ref={videoRef} autoPlay muted playsInline />\r\n                {error && <div className=\"error-msg\">{error}</div>}\r\n            </div>\r\n\r\n            {/* Timeline JOS */}\r\n            <div ref={timelineRef} className=\"timeline-bar\" onClick={seekClick}>\r\n                {/* Time labels DEASUPRA */}\r\n                <div className=\"time-labels\">\r\n                    <span>0</span>\r\n                    <span>3</span>\r\n                    <span>6</span>\r\n                    <span>9</span>\r\n                    <span>12</span>\r\n                    <span>15</span>\r\n                    <span>18</span>\r\n                    <span>21</span>\r\n                    <span>24</span>\r\n                </div>\r\n\r\n                {/* Timeline content */}\r\n                <div className=\"timeline-content\">\r\n                    {segments.map((seg, i) => (\r\n                        <div\r\n                            key={i}\r\n                            className=\"segment\"\r\n                            style={{\r\n                                left: `${seg.s * 100}%`,\r\n                                width: `${Math.max((seg.e - seg.s) * 100, 0.3)}%`\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    <div ref={cursorRef} className=\"cursor\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Buton REDĂ floating bottom-left */}\r\n            <div style={{\r\n                position: 'fixed',\r\n                bottom: '60px',\r\n                left: '10px',\r\n                zIndex: 100\r\n            }}>\r\n                {!isPlaying ? (\r\n                    <button className=\"play\" onClick={startPlayback}>▶ REDĂ</button>\r\n                ) : (\r\n                    <button onClick={stopPlayback}>■ OPRIRE</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}