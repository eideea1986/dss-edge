{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{colors}from\"../theme\";import Go2RTCPlayer from\"./Go2RTCPlayer\";// For Low Latency Grid View\nimport RecorderPlayer from\"./RecorderPlayer\";// For High Quality Playback View\nimport MSEPlayer from\"./MSEPlayer\";// For Robust Live Fullscreen (TCP)\nimport{Maximize,Minimize,Circle,Activity,Archive,Shield,Lock,SettingsIcon as Settings,Video}from\"./Icons\";// --- STYLES ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const containerStyle={position:\"relative\",width:\"100%\",height:\"100%\",background:\"#000\",display:\"flex\",flexDirection:\"column\",overflow:\"hidden\",border:\"1px solid #333\",borderRadius:2};const iconBtnStyle={background:\"rgba(0,0,0,0.5)\",border:\"1px solid rgba(255,255,255,0.2)\",color:\"rgba(255,255,255,0.9)\",borderRadius:4,width:28,height:28,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",cursor:\"pointer\",marginRight:2};// --- ZONE OVERLAY COMPONENT ---\nfunction ZoneOverlay(_ref){let{cam}=_ref;const containerRef=React.useRef(null);const canvasRef=React.useRef(null);const[dims,setDims]=useState({w:0,h:0});React.useEffect(()=>{const obs=new ResizeObserver(entries=>{for(const entry of entries){const{width,height}=entry.contentRect;setDims({w:Math.round(width),h:Math.round(height)});}});if(containerRef.current)obs.observe(containerRef.current);return()=>obs.disconnect();},[]);React.useEffect(()=>{var _cam$ai_server,_cam$ai_server2;const canvas=canvasRef.current;if(!canvas||dims.w===0)return;const ctx=canvas.getContext(\"2d\");ctx.clearRect(0,0,dims.w,dims.h);const zones=((_cam$ai_server=cam.ai_server)===null||_cam$ai_server===void 0?void 0:_cam$ai_server.zones)||[];if(zones.length===0&&(_cam$ai_server2=cam.ai_server)!==null&&_cam$ai_server2!==void 0&&_cam$ai_server2.roi){zones.push({points:cam.ai_server.roi});}const drawZone=pts=>{if(!pts||pts.length===0)return;ctx.beginPath();const x0=pts[0][0]>1?pts[0][0]:pts[0][0]*dims.w;const y0=pts[0][1]>1?pts[0][1]:pts[0][1]*dims.h;ctx.moveTo(x0,y0);for(let i=1;i<pts.length;i++){const x=pts[i][0]>1?pts[i][0]:pts[i][0]*dims.w;const y=pts[i][1]>1?pts[i][1]:pts[i][1]*dims.h;ctx.lineTo(x,y);}ctx.closePath();ctx.fillStyle=\"rgba(0, 255, 0, 0.15)\";ctx.strokeStyle=\"#00ff00\";ctx.lineWidth=2;ctx.fill();ctx.stroke();};zones.forEach(z=>{if(z.points)drawZone(z.points);});},[cam,dims]);return/*#__PURE__*/_jsx(\"div\",{ref:containerRef,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',pointerEvents:'none',zIndex:5},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:dims.w,height:dims.h,style:{width:'100%',height:'100%',display:'block'}})});}// --- COMPONENT ---\nfunction CameraCard(_ref2){let{cam,isMaximized,isHidden,onUpdate,onMaximise,isArmed,health}=_ref2;const navigate=useNavigate();const[hover,setHover]=useState(false);const[quality,setQuality]=useState('hd');const[contextMenu,setContextMenu]=useState(null);React.useEffect(()=>{const h=()=>setContextMenu(null);window.addEventListener('click',h);return()=>window.removeEventListener('click',h);},[]);const handleContextMenu=e=>{e.preventDefault();setContextMenu({x:e.pageX,y:e.pageY});};const handleMaximise=e=>{e===null||e===void 0?void 0:e.stopPropagation();onMaximise(cam);};const handlePlayback=e=>{e.stopPropagation();navigate(\"/playback?camId=\".concat(cam.id));};const isRecording=cam.record!==false;const isOnline=health?health.connected:false;return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,onMouseEnter:()=>setHover(true),onMouseLeave:()=>setHover(false),onContextMenu:handleContextMenu,children:[contextMenu&&/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",top:contextMenu.y,left:contextMenu.x,background:\"#222\",border:\"1px solid #444\",borderRadius:6,padding:\"4px 0\",zIndex:1000,minWidth:160,boxShadow:\"0 4px 20px rgba(0,0,0,0.5)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"8px 12px\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:8,fontSize:13,color:\"#fff\"},onMouseEnter:e=>e.target.style.background=\"#333\",onMouseLeave:e=>e.target.style.background=\"transparent\",onClick:()=>navigate(\"/settings?tab=hardware&camId=\".concat(cam.id)),children:[/*#__PURE__*/_jsx(Settings,{size:14,color:\"#aaa\"}),\" Set\\u0103ri Camer\\u0103 (HW)\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"8px 12px\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:8,fontSize:13,color:\"#fff\"},onMouseEnter:e=>e.target.style.background=\"#333\",onMouseLeave:e=>e.target.style.background=\"transparent\",onClick:()=>navigate(\"/settings?tab=channels&camId=\".concat(cam.id)),children:[/*#__PURE__*/_jsx(Video,{size:14,color:\"#aaa\"}),\" Set\\u0103ri Canal (AI)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,position:\"relative\",background:\"#000\",cursor:\"pointer\",width:\"100%\"},onClick:()=>!isMaximized&&onMaximise(cam),children:[isMaximized?/*#__PURE__*/_jsx(MSEPlayer,{camId:cam.id,streamType:\"hd\",isHidden:isHidden,style:{width:\"100%\",height:\"100%\"},onDoubleClick:()=>onMaximise(cam)}):/*#__PURE__*/_jsx(Go2RTCPlayer,{camId:cam.id,streamType:\"low\",isHidden:isHidden,style:{width:\"100%\",height:\"100%\"},onDoubleClick:()=>onMaximise(cam)}),isArmed&&/*#__PURE__*/_jsx(ZoneOverlay,{cam:cam}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",bottom:0,left:0,right:0,padding:8,display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-end\",opacity:hover||isMaximized?1:0,transition:\"opacity 0.2s\",pointerEvents:hover||isMaximized?\"auto\":\"none\",zIndex:10},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:4},children:/*#__PURE__*/_jsx(\"button\",{style:iconBtnStyle,title:\"View Archive / Playback\",onClick:handlePlayback,children:/*#__PURE__*/_jsx(Archive,{size:14})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:4},children:/*#__PURE__*/_jsx(\"button\",{style:iconBtnStyle,title:isMaximized?\"Minimize\":\"Maximize\",onClick:handleMaximise,children:isMaximized?/*#__PURE__*/_jsx(Minimize,{size:14}):/*#__PURE__*/_jsx(Maximize,{size:14})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{height:32,background:isArmed?\"rgba(0, 230, 118, 0.1)\":\"#111\",borderTop:\"1px solid #333\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"0 8px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8,flex:1,overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:10,height:10,borderRadius:\"50%\",background:isOnline?\"#00e676\":\"#f44336\",boxShadow:isOnline?\"0 0 8px #00e676\":\"none\"}}),/*#__PURE__*/_jsx(\"div\",{title:isArmed?\"Armed (AI ON)\":\"Disarmed (AI OFF)\",children:/*#__PURE__*/_jsx(Shield,{size:16,color:isArmed?\"#00e676\":\"#555\",fill:isArmed?\"rgba(0,230,118,0.2)\":\"none\"})}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,fontWeight:\"600\",color:isArmed?\"#fff\":\"#aaa\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\"},children:cam.name||cam.ip}),isRecording&&/*#__PURE__*/_jsx(\"div\",{style:{width:6,height:6,borderRadius:\"50%\",background:\"#f44336\",animation:\"pulse 1.5s infinite\"},title:\"Recording\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:9,color:\"#444\",fontWeight:\"bold\",letterSpacing:0.5},children:isMaximized?\"LIVE MSE (TCP)\":\"RTC STREAM\"})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                @keyframes pulse {\\n                    0% { opacity: 1; transform: scale(1); }\\n                    50% { opacity: 0.5; transform: scale(1.2); }\\n                    100% { opacity: 1; transform: scale(1); }\\n                }\\n            \"})]});}export default/*#__PURE__*/React.memo(CameraCard);","map":{"version":3,"names":["React","useState","useNavigate","colors","Go2RTCPlayer","RecorderPlayer","MSEPlayer","Maximize","Minimize","Circle","Activity","Archive","Shield","Lock","SettingsIcon","Settings","Video","jsx","_jsx","jsxs","_jsxs","containerStyle","position","width","height","background","display","flexDirection","overflow","border","borderRadius","iconBtnStyle","color","alignItems","justifyContent","cursor","marginRight","ZoneOverlay","_ref","cam","containerRef","useRef","canvasRef","dims","setDims","w","h","useEffect","obs","ResizeObserver","entries","entry","contentRect","Math","round","current","observe","disconnect","_cam$ai_server","_cam$ai_server2","canvas","ctx","getContext","clearRect","zones","ai_server","length","roi","push","points","drawZone","pts","beginPath","x0","y0","moveTo","i","x","y","lineTo","closePath","fillStyle","strokeStyle","lineWidth","fill","stroke","forEach","z","ref","style","top","left","pointerEvents","zIndex","children","CameraCard","_ref2","isMaximized","isHidden","onUpdate","onMaximise","isArmed","health","navigate","hover","setHover","quality","setQuality","contextMenu","setContextMenu","window","addEventListener","removeEventListener","handleContextMenu","e","preventDefault","pageX","pageY","handleMaximise","stopPropagation","handlePlayback","concat","id","isRecording","record","isOnline","connected","onMouseEnter","onMouseLeave","onContextMenu","padding","minWidth","boxShadow","gap","fontSize","target","onClick","size","flex","camId","streamType","onDoubleClick","bottom","right","opacity","transition","title","borderTop","fontWeight","whiteSpace","textOverflow","name","ip","animation","letterSpacing","memo"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/components/CameraCard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { colors } from \"../theme\";\r\nimport Go2RTCPlayer from \"./Go2RTCPlayer\"; // For Low Latency Grid View\r\nimport RecorderPlayer from \"./RecorderPlayer\"; // For High Quality Playback View\r\nimport MSEPlayer from \"./MSEPlayer\"; // For Robust Live Fullscreen (TCP)\r\nimport { Maximize, Minimize, Circle, Activity, Archive, Shield, Lock, SettingsIcon as Settings, Video } from \"./Icons\";\r\n\r\n// --- STYLES ---\r\nconst containerStyle = {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    background: \"#000\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    border: \"1px solid #333\",\r\n    borderRadius: 2\r\n};\r\n\r\nconst iconBtnStyle = {\r\n    background: \"rgba(0,0,0,0.5)\",\r\n    border: \"1px solid rgba(255,255,255,0.2)\",\r\n    color: \"rgba(255,255,255,0.9)\",\r\n    borderRadius: 4,\r\n    width: 28,\r\n    height: 28,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    marginRight: 2\r\n};\r\n\r\n// --- ZONE OVERLAY COMPONENT ---\r\nfunction ZoneOverlay({ cam }) {\r\n    const containerRef = React.useRef(null);\r\n    const canvasRef = React.useRef(null);\r\n    const [dims, setDims] = useState({ w: 0, h: 0 });\r\n\r\n    React.useEffect(() => {\r\n        const obs = new ResizeObserver(entries => {\r\n            for (const entry of entries) {\r\n                const { width, height } = entry.contentRect;\r\n                setDims({ w: Math.round(width), h: Math.round(height) });\r\n            }\r\n        });\r\n        if (containerRef.current) obs.observe(containerRef.current);\r\n        return () => obs.disconnect();\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas || dims.w === 0) return;\r\n        const ctx = canvas.getContext(\"2d\");\r\n\r\n        ctx.clearRect(0, 0, dims.w, dims.h);\r\n\r\n        const zones = cam.ai_server?.zones || [];\r\n        if (zones.length === 0 && cam.ai_server?.roi) {\r\n            zones.push({ points: cam.ai_server.roi });\r\n        }\r\n\r\n        const drawZone = (pts) => {\r\n            if (!pts || pts.length === 0) return;\r\n            ctx.beginPath();\r\n            const x0 = pts[0][0] > 1 ? pts[0][0] : pts[0][0] * dims.w;\r\n            const y0 = pts[0][1] > 1 ? pts[0][1] : pts[0][1] * dims.h;\r\n\r\n            ctx.moveTo(x0, y0);\r\n\r\n            for (let i = 1; i < pts.length; i++) {\r\n                const x = pts[i][0] > 1 ? pts[i][0] : pts[i][0] * dims.w;\r\n                const y = pts[i][1] > 1 ? pts[i][1] : pts[i][1] * dims.h;\r\n                ctx.lineTo(x, y);\r\n            }\r\n\r\n            ctx.closePath();\r\n            ctx.fillStyle = \"rgba(0, 255, 0, 0.15)\";\r\n            ctx.strokeStyle = \"#00ff00\";\r\n            ctx.lineWidth = 2;\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        };\r\n\r\n        zones.forEach(z => {\r\n            if (z.points) drawZone(z.points);\r\n        });\r\n\r\n    }, [cam, dims]);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', pointerEvents: 'none', zIndex: 5 }}>\r\n            <canvas\r\n                ref={canvasRef}\r\n                width={dims.w}\r\n                height={dims.h}\r\n                style={{ width: '100%', height: '100%', display: 'block' }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- COMPONENT ---\r\nfunction CameraCard({ cam, isMaximized, isHidden, onUpdate, onMaximise, isArmed, health }) {\r\n    const navigate = useNavigate();\r\n    const [hover, setHover] = useState(false);\r\n    const [quality, setQuality] = useState('hd');\r\n    const [contextMenu, setContextMenu] = useState(null);\r\n\r\n    React.useEffect(() => {\r\n        const h = () => setContextMenu(null);\r\n        window.addEventListener('click', h);\r\n        return () => window.removeEventListener('click', h);\r\n    }, []);\r\n\r\n    const handleContextMenu = (e) => {\r\n        e.preventDefault();\r\n        setContextMenu({ x: e.pageX, y: e.pageY });\r\n    };\r\n\r\n    const handleMaximise = (e) => {\r\n        e?.stopPropagation();\r\n        onMaximise(cam);\r\n    };\r\n\r\n    const handlePlayback = (e) => {\r\n        e.stopPropagation();\r\n        navigate(`/playback?camId=${cam.id}`);\r\n    };\r\n\r\n    const isRecording = cam.record !== false;\r\n    const isOnline = health ? health.connected : false;\r\n\r\n    return (\r\n        <div style={containerStyle}\r\n            onMouseEnter={() => setHover(true)}\r\n            onMouseLeave={() => setHover(false)}\r\n            onContextMenu={handleContextMenu}\r\n        >\r\n            {/* CONTEXT MENU */}\r\n            {contextMenu && (\r\n                <div style={{\r\n                    position: \"fixed\", top: contextMenu.y, left: contextMenu.x,\r\n                    background: \"#222\", border: \"1px solid #444\", borderRadius: 6,\r\n                    padding: \"4px 0\", zIndex: 1000, minWidth: 160,\r\n                    boxShadow: \"0 4px 20px rgba(0,0,0,0.5)\"\r\n                }}>\r\n                    <div\r\n                        style={{ padding: \"8px 12px\", cursor: \"pointer\", display: \"flex\", alignItems: \"center\", gap: 8, fontSize: 13, color: \"#fff\" }}\r\n                        onMouseEnter={(e) => e.target.style.background = \"#333\"}\r\n                        onMouseLeave={(e) => e.target.style.background = \"transparent\"}\r\n                        onClick={() => navigate(`/settings?tab=hardware&camId=${cam.id}`)}\r\n                    >\r\n                        <Settings size={14} color=\"#aaa\" /> Setări Cameră (HW)\r\n                    </div>\r\n                    <div\r\n                        style={{ padding: \"8px 12px\", cursor: \"pointer\", display: \"flex\", alignItems: \"center\", gap: 8, fontSize: 13, color: \"#fff\" }}\r\n                        onMouseEnter={(e) => e.target.style.background = \"#333\"}\r\n                        onMouseLeave={(e) => e.target.style.background = \"transparent\"}\r\n                        onClick={() => navigate(`/settings?tab=channels&camId=${cam.id}`)}\r\n                    >\r\n                        <Video size={14} color=\"#aaa\" /> Setări Canal (AI)\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* VIDEO AREA */}\r\n            <div style={{ flex: 1, position: \"relative\", background: \"#000\", cursor: \"pointer\", width: \"100%\" }}\r\n                onClick={() => !isMaximized && onMaximise(cam)}\r\n            >\r\n                {isMaximized ? (\r\n                    <MSEPlayer\r\n                        camId={cam.id}\r\n                        streamType=\"hd\"\r\n                        isHidden={isHidden}\r\n                        style={{ width: \"100%\", height: \"100%\" }}\r\n                        onDoubleClick={() => onMaximise(cam)}\r\n                    />\r\n                ) : (\r\n                    <Go2RTCPlayer\r\n                        camId={cam.id}\r\n                        streamType=\"low\"\r\n                        isHidden={isHidden}\r\n                        style={{ width: \"100%\", height: \"100%\" }}\r\n                        onDoubleClick={() => onMaximise(cam)}\r\n                    />\r\n                )}\r\n\r\n                {/* ZONE OVERLAY */}\r\n                {isArmed && <ZoneOverlay cam={cam} />}\r\n\r\n                {/* OVERLAYS */}\r\n                <div style={{\r\n                    position: \"absolute\", bottom: 0, left: 0, right: 0,\r\n                    padding: 8,\r\n                    display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-end\",\r\n                    opacity: (hover || isMaximized) ? 1 : 0,\r\n                    transition: \"opacity 0.2s\",\r\n                    pointerEvents: (hover || isMaximized) ? \"auto\" : \"none\",\r\n                    zIndex: 10\r\n                }}>\r\n                    <div style={{ display: \"flex\", gap: 4 }}>\r\n                        <button style={iconBtnStyle} title=\"View Archive / Playback\" onClick={handlePlayback}>\r\n                            <Archive size={14} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div style={{ display: \"flex\", gap: 4 }}>\r\n                        <button style={iconBtnStyle} title={isMaximized ? \"Minimize\" : \"Maximize\"} onClick={handleMaximise}>\r\n                            {isMaximized ? <Minimize size={14} /> : <Maximize size={14} />}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* HEADER / STATUS BAR */}\r\n            <div style={{\r\n                height: 32, background: isArmed ? \"rgba(0, 230, 118, 0.1)\" : \"#111\",\r\n                borderTop: \"1px solid #333\",\r\n                display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", padding: \"0 8px\"\r\n            }}>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 8, flex: 1, overflow: \"hidden\" }}>\r\n                    <div style={{\r\n                        width: 10, height: 10, borderRadius: \"50%\",\r\n                        background: isOnline ? \"#00e676\" : \"#f44336\",\r\n                        boxShadow: isOnline ? \"0 0 8px #00e676\" : \"none\"\r\n                    }} />\r\n\r\n                    <div title={isArmed ? \"Armed (AI ON)\" : \"Disarmed (AI OFF)\"}>\r\n                        <Shield size={16} color={isArmed ? \"#00e676\" : \"#555\"} fill={isArmed ? \"rgba(0,230,118,0.2)\" : \"none\"} />\r\n                    </div>\r\n\r\n                    <span style={{\r\n                        fontSize: 13, fontWeight: \"600\",\r\n                        color: isArmed ? \"#fff\" : \"#aaa\",\r\n                        whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\"\r\n                    }}>\r\n                        {cam.name || cam.ip}\r\n                    </span>\r\n\r\n                    {isRecording && <div style={{\r\n                        width: 6, height: 6, borderRadius: \"50%\", background: \"#f44336\",\r\n                        animation: `pulse 1.5s infinite`\r\n                    }} title=\"Recording\" />}\r\n                </div>\r\n\r\n                <div style={{ fontSize: 9, color: \"#444\", fontWeight: \"bold\", letterSpacing: 0.5 }}>\r\n                    {isMaximized ? \"LIVE MSE (TCP)\" : \"RTC STREAM\"}\r\n                </div>\r\n            </div>\r\n\r\n            <style>{`\r\n                @keyframes pulse {\r\n                    0% { opacity: 1; transform: scale(1); }\r\n                    50% { opacity: 0.5; transform: scale(1.2); }\r\n                    100% { opacity: 1; transform: scale(1); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default React.memo(CameraCard);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}