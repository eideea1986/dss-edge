{"ast":null,"code":"var _jsxFileName = \"I:\\\\dispecerat\\\\github_release\\\\dss-edge\\\\local-ui\\\\src\\\\pages\\\\Live.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { API } from \"../api\";\nimport CameraCard from \"../components/CameraCard\";\nimport { formatLocalTime } from '../utils/time';\n\n// Styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colors = {\n  bg: \"#1e1e1e\",\n  text: \"#cccccc\",\n  accent: \"#007acc\"\n};\nexport default function Live() {\n  _s();\n  const [cams, setCams] = useState([]);\n  const [status, setStatus] = useState(\"Checking...\");\n  const [selectedCam, setSelectedCam] = useState(null);\n  const [gridSize, setGridSize] = useState(8);\n  const [armingStatus, setArmingStatus] = useState({});\n  const [camStatus, setCamStatus] = useState({});\n\n  // Poll Arming Status\n  useEffect(() => {\n    const checkArming = () => {\n      API.get(\"arming/debug\").then(res => {\n        const statusMap = {};\n        if (res.data && res.data.cameras) {\n          res.data.cameras.forEach(c => statusMap[c.id] = c.isArmed);\n        }\n        setArmingStatus(statusMap);\n      }).catch(() => {});\n    };\n    checkArming();\n    const interval = setInterval(checkArming, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Poll Config & Status\n  useEffect(() => {\n    const fetchCams = () => API.get(\"cameras/config\").then(res => setCams(res.data)).catch(console.error);\n    fetchCams();\n    const checkStatus = () => {\n      API.get(\"status\").then(res => {\n        var _res$data$system;\n        const isOnline = res.data.online === true || res.data.status === \"Connected\" || ((_res$data$system = res.data.system) === null || _res$data$system === void 0 ? void 0 : _res$data$system.uptime) > 0;\n        setStatus(isOnline ? \"Connected\" : \"Disconnected\");\n        if (res.data.cameras) {\n          const map = {};\n          res.data.cameras.forEach(c => map[c.id] = {\n            ...c,\n            connected: c.status === \"ONLINE\"\n          });\n          setCamStatus(map);\n        }\n      }).catch(() => setStatus(\"Disconnected\"));\n    };\n    checkStatus();\n    const i1 = setInterval(fetchCams, 10000);\n    const i2 = setInterval(checkStatus, 3000);\n    return () => {\n      clearInterval(i1);\n      clearInterval(i2);\n    };\n  }, []);\n\n  // NEW: Server Time Sync\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [serverTimezone, setServerTimezone] = useState(null);\n  useEffect(() => {\n    API.get('/system/time').then(res => {\n      var _res$data, _res$data$raw;\n      if ((_res$data = res.data) !== null && _res$data !== void 0 && (_res$data$raw = _res$data.raw) !== null && _res$data$raw !== void 0 && _res$data$raw['Time zone']) setServerTimezone(res.data.raw['Time zone'].split(' ')[0]);\n    }).catch(() => {});\n    const i = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => clearInterval(i);\n  }, []);\n  const formatTime = date => {\n    if (!date) return \"\";\n    const ts = date instanceof Date ? date.getTime() : date;\n    return formatLocalTime(ts, serverTimezone);\n  };\n  const handleUpdateCam = async (camId, changes) => {\n    const newCams = cams.map(c => c.id === camId ? {\n      ...c,\n      ...changes\n    } : c);\n    setCams(newCams);\n    try {\n      await API.post(\"cameras/config\", newCams);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // Grid Logic\n  const getGridConfig = () => {\n    if (selectedCam) return {\n      cols: \"1fr\",\n      rows: \"1fr\"\n    };\n    switch (gridSize) {\n      case 1:\n        return {\n          cols: \"1fr\",\n          rows: \"1fr\"\n        };\n      case 4:\n        return {\n          cols: \"repeat(2, 1fr)\",\n          rows: \"repeat(2, 1fr)\"\n        };\n      case 6:\n        return {\n          cols: \"repeat(3, 1fr)\",\n          rows: \"repeat(2, 1fr)\"\n        };\n      case 8:\n        return {\n          cols: \"repeat(4, 1fr)\",\n          rows: \"repeat(2, 1fr)\"\n        };\n      // Trassir 8-view (4x2 usually or 1 big + 7 small) - keeping symetric for now\n      case 9:\n        return {\n          cols: \"repeat(3, 1fr)\",\n          rows: \"repeat(3, 1fr)\"\n        };\n      case 16:\n        return {\n          cols: \"repeat(4, 1fr)\",\n          rows: \"repeat(4, 1fr)\"\n        };\n      case 24:\n        return {\n          cols: \"repeat(6, 1fr)\",\n          rows: \"repeat(4, 1fr)\"\n        };\n      case 25:\n        return {\n          cols: \"repeat(5, 1fr)\",\n          rows: \"repeat(5, 1fr)\"\n        };\n      case 32:\n        return {\n          cols: \"repeat(8, 1fr)\",\n          rows: \"repeat(4, 1fr)\"\n        };\n      default:\n        const cols = Math.ceil(Math.sqrt(gridSize));\n        const rows = Math.ceil(gridSize / cols);\n        return {\n          cols: `repeat(${cols}, 1fr)`,\n          rows: `repeat(${rows}, 1fr)`\n        };\n    }\n  };\n  const grid = getGridConfig();\n  const capacity = selectedCam ? 1 : gridSize;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"live-page\",\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      background: \"#0d0d0d\",\n      color: colors.text,\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [!selectedCam && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        background: \"#1a1a1a\",\n        borderBottom: \"1px solid #333\",\n        height: \"32px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 15\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"bold\",\n            fontSize: 13,\n            color: \"#fff\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 8,\n              height: 8,\n              borderRadius: \"50%\",\n              background: status === \"Connected\" ? \"#4caf50\" : \"#f44336\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this), \"LIVE VIEW\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 1\n          },\n          children: [1, 4, 6, 8, 9, 12, 16, 24, 32].map(num => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setGridSize(num),\n            style: {\n              border: \"none\",\n              background: gridSize === num ? \"#007acc\" : \"#333\",\n              color: \"#fff\",\n              width: 26,\n              height: 20,\n              cursor: \"pointer\",\n              fontSize: 10,\n              fontWeight: gridSize === num ? \"bold\" : \"normal\",\n              marginRight: 1\n            },\n            children: num\n          }, num, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 11,\n          color: \"#666\"\n        },\n        children: formatTime(currentTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: grid.cols,\n        gridTemplateRows: grid.rows,\n        gap: selectedCam ? 0 : 2,\n        flex: 1,\n        background: \"#000\",\n        padding: selectedCam ? 0 : 2,\n        overflow: \"hidden\"\n      },\n      children: [cams.map((cam, idx) => {\n        // Logic: Keep card in DOM but hide if out of grid range, unless selected\n        const isVisible = selectedCam ? cam.id === selectedCam.id : idx < capacity;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: isVisible ? \"flex\" : \"none\",\n            flexDirection: \"column\",\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100%\",\n            background: \"#000\",\n            overflow: \"hidden\",\n            border: \"none\",\n            padding: 0\n          },\n          onDoubleClick: () => setSelectedCam(selectedCam ? null : cam),\n          children: /*#__PURE__*/_jsxDEV(CameraCard, {\n            cam: cam,\n            isMaximized: selectedCam && selectedCam.id === cam.id,\n            isHidden: !isVisible,\n            onUpdate: handleUpdateCam,\n            onMaximise: () => setSelectedCam(cam),\n            isArmed: armingStatus[cam.id],\n            health: camStatus[cam.id]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)\n        }, cam.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }, this);\n      }), !selectedCam && Array.from({\n        length: Math.max(0, capacity - cams.length)\n      }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#111\",\n          border: \"1px dashed #333\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"#333\",\n            fontSize: 10\n          },\n          children: \"NO SIGNAL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this)\n      }, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                /* Robust Absolute Positioning for Video */\n                .camera-card-container {\n                    position: relative;\n                    width: 100%;\n                    height: 100%;\n                    overflow: hidden;\n                }\n                video, img, canvas, video-stream-mse {\n                    position: absolute !important;\n                    top: 0; left: 0;\n                    width: 100% !important; \n                    height: 100% !important;\n                    object-fit: contain !important;\n                    background: #000;\n                    border: none !important;\n                }\n                \n                /* Scrollbar hide */\n                ::-webkit-scrollbar { width: 6px; height: 6px; }\n                ::-webkit-scrollbar-track { background: #111; }\n                ::-webkit-scrollbar-thumb { background: #333; }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n_s(Live, \"DfVqclMWr0yO2cO5hJFl0zy3yHg=\");\n_c = Live;\nvar _c;\n$RefreshReg$(_c, \"Live\");","map":{"version":3,"names":["React","useEffect","useState","API","CameraCard","formatLocalTime","jsxDEV","_jsxDEV","colors","bg","text","accent","Live","_s","cams","setCams","status","setStatus","selectedCam","setSelectedCam","gridSize","setGridSize","armingStatus","setArmingStatus","camStatus","setCamStatus","checkArming","get","then","res","statusMap","data","cameras","forEach","c","id","isArmed","catch","interval","setInterval","clearInterval","fetchCams","console","error","checkStatus","_res$data$system","isOnline","online","system","uptime","map","connected","i1","i2","currentTime","setCurrentTime","Date","serverTimezone","setServerTimezone","_res$data","_res$data$raw","raw","split","i","formatTime","date","ts","getTime","handleUpdateCam","camId","changes","newCams","post","e","getGridConfig","cols","rows","Math","ceil","sqrt","grid","capacity","className","style","width","height","background","color","overflow","display","flexDirection","children","justifyContent","alignItems","padding","borderBottom","gap","fontWeight","fontSize","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","num","onClick","border","cursor","marginRight","gridTemplateColumns","gridTemplateRows","flex","cam","idx","isVisible","position","onDoubleClick","isMaximized","isHidden","onUpdate","onMaximise","health","Array","from","length","max","_","_c","$RefreshReg$"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/pages/Live.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { API } from \"../api\";\r\nimport CameraCard from \"../components/CameraCard\";\r\nimport { formatLocalTime } from '../utils/time';\r\n\r\n// Styles\r\nconst colors = {\r\n    bg: \"#1e1e1e\",\r\n    text: \"#cccccc\",\r\n    accent: \"#007acc\"\r\n};\r\n\r\nexport default function Live() {\r\n    const [cams, setCams] = useState([]);\r\n    const [status, setStatus] = useState(\"Checking...\");\r\n    const [selectedCam, setSelectedCam] = useState(null);\r\n    const [gridSize, setGridSize] = useState(8);\r\n    const [armingStatus, setArmingStatus] = useState({});\r\n    const [camStatus, setCamStatus] = useState({});\r\n\r\n    // Poll Arming Status\r\n    useEffect(() => {\r\n        const checkArming = () => {\r\n            API.get(\"arming/debug\").then(res => {\r\n                const statusMap = {};\r\n                if (res.data && res.data.cameras) {\r\n                    res.data.cameras.forEach(c => statusMap[c.id] = c.isArmed);\r\n                }\r\n                setArmingStatus(statusMap);\r\n            }).catch(() => { });\r\n        };\r\n        checkArming();\r\n        const interval = setInterval(checkArming, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    // Poll Config & Status\r\n    useEffect(() => {\r\n        const fetchCams = () => API.get(\"cameras/config\").then(res => setCams(res.data)).catch(console.error);\r\n        fetchCams();\r\n\r\n        const checkStatus = () => {\r\n            API.get(\"status\").then(res => {\r\n                const isOnline = res.data.online === true || res.data.status === \"Connected\" || res.data.system?.uptime > 0;\r\n                setStatus(isOnline ? \"Connected\" : \"Disconnected\");\r\n                if (res.data.cameras) {\r\n                    const map = {};\r\n                    res.data.cameras.forEach(c => map[c.id] = { ...c, connected: c.status === \"ONLINE\" });\r\n                    setCamStatus(map);\r\n                }\r\n            }).catch(() => setStatus(\"Disconnected\"));\r\n        };\r\n        checkStatus();\r\n\r\n        const i1 = setInterval(fetchCams, 10000);\r\n        const i2 = setInterval(checkStatus, 3000);\r\n        return () => { clearInterval(i1); clearInterval(i2); };\r\n    }, []);\r\n\r\n    // NEW: Server Time Sync\r\n    const [currentTime, setCurrentTime] = useState(new Date());\r\n    const [serverTimezone, setServerTimezone] = useState(null);\r\n\r\n    useEffect(() => {\r\n        API.get('/system/time').then(res => {\r\n            if (res.data?.raw?.['Time zone']) setServerTimezone(res.data.raw['Time zone'].split(' ')[0]);\r\n        }).catch(() => { });\r\n\r\n        const i = setInterval(() => setCurrentTime(new Date()), 1000);\r\n        return () => clearInterval(i);\r\n    }, []);\r\n\r\n    const formatTime = (date) => {\r\n        if (!date) return \"\";\r\n        const ts = date instanceof Date ? date.getTime() : date;\r\n        return formatLocalTime(ts, serverTimezone);\r\n    };\r\n\r\n    const handleUpdateCam = async (camId, changes) => {\r\n        const newCams = cams.map(c => c.id === camId ? { ...c, ...changes } : c);\r\n        setCams(newCams);\r\n        try { await API.post(\"cameras/config\", newCams); } catch (e) { console.error(e); }\r\n    };\r\n\r\n    // Grid Logic\r\n    const getGridConfig = () => {\r\n        if (selectedCam) return { cols: \"1fr\", rows: \"1fr\" };\r\n        switch (gridSize) {\r\n            case 1: return { cols: \"1fr\", rows: \"1fr\" };\r\n            case 4: return { cols: \"repeat(2, 1fr)\", rows: \"repeat(2, 1fr)\" };\r\n            case 6: return { cols: \"repeat(3, 1fr)\", rows: \"repeat(2, 1fr)\" };\r\n            case 8: return { cols: \"repeat(4, 1fr)\", rows: \"repeat(2, 1fr)\" }; // Trassir 8-view (4x2 usually or 1 big + 7 small) - keeping symetric for now\r\n            case 9: return { cols: \"repeat(3, 1fr)\", rows: \"repeat(3, 1fr)\" };\r\n            case 16: return { cols: \"repeat(4, 1fr)\", rows: \"repeat(4, 1fr)\" };\r\n            case 24: return { cols: \"repeat(6, 1fr)\", rows: \"repeat(4, 1fr)\" };\r\n            case 25: return { cols: \"repeat(5, 1fr)\", rows: \"repeat(5, 1fr)\" };\r\n            case 32: return { cols: \"repeat(8, 1fr)\", rows: \"repeat(4, 1fr)\" };\r\n            default:\r\n                const cols = Math.ceil(Math.sqrt(gridSize));\r\n                const rows = Math.ceil(gridSize / cols);\r\n                return { cols: `repeat(${cols}, 1fr)`, rows: `repeat(${rows}, 1fr)` };\r\n        }\r\n    };\r\n\r\n    const grid = getGridConfig();\r\n    const capacity = selectedCam ? 1 : gridSize;\r\n\r\n    return (\r\n        <div className=\"live-page\" style={{\r\n            width: \"100%\", height: \"100%\", background: \"#0d0d0d\", color: colors.text,\r\n            overflow: \"hidden\", display: \"flex\", flexDirection: \"column\"\r\n        }}>\r\n\r\n            {/* TOOLBAR */}\r\n            {!selectedCam && (\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: \"4px 8px\", background: \"#1a1a1a\", borderBottom: \"1px solid #333\", height: \"32px\" }}>\r\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: 15 }}>\r\n                        <div style={{ fontWeight: \"bold\", fontSize: 13, color: \"#fff\", display: \"flex\", alignItems: \"center\", gap: 5 }}>\r\n                            <div style={{ width: 8, height: 8, borderRadius: \"50%\", background: status === \"Connected\" ? \"#4caf50\" : \"#f44336\" }}></div>\r\n                            LIVE VIEW\r\n                        </div>\r\n                        <div style={{ display: \"flex\", gap: 1 }}>\r\n                            {[1, 4, 6, 8, 9, 12, 16, 24, 32].map(num => (\r\n                                <button key={num} onClick={() => setGridSize(num)}\r\n                                    style={{\r\n                                        border: \"none\", background: gridSize === num ? \"#007acc\" : \"#333\",\r\n                                        color: \"#fff\", width: 26, height: 20, cursor: \"pointer\", fontSize: 10,\r\n                                        fontWeight: gridSize === num ? \"bold\" : \"normal\", marginRight: 1\r\n                                    }}\r\n                                >\r\n                                    {num}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ fontSize: 11, color: \"#666\" }}>{formatTime(currentTime)}</div>\r\n                </div>\r\n            )}\r\n\r\n            {/* GRID AREA */}\r\n            <div style={{\r\n                display: \"grid\",\r\n                gridTemplateColumns: grid.cols,\r\n                gridTemplateRows: grid.rows,\r\n                gap: selectedCam ? 0 : 2,\r\n                flex: 1,\r\n                background: \"#000\",\r\n                padding: selectedCam ? 0 : 2,\r\n                overflow: \"hidden\"\r\n            }}>\r\n                {cams.map((cam, idx) => {\r\n                    // Logic: Keep card in DOM but hide if out of grid range, unless selected\r\n                    const isVisible = selectedCam ? (cam.id === selectedCam.id) : (idx < capacity);\r\n\r\n                    return (\r\n                        <div key={cam.id} style={{\r\n                            display: isVisible ? \"flex\" : \"none\",\r\n                            flexDirection: \"column\",\r\n                            position: \"relative\",\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            background: \"#000\",\r\n                            overflow: \"hidden\",\r\n                            border: \"none\",\r\n                            padding: 0\r\n                        }}\r\n                            onDoubleClick={() => setSelectedCam(selectedCam ? null : cam)}\r\n                        >\r\n                            <CameraCard\r\n                                cam={cam}\r\n                                isMaximized={selectedCam && selectedCam.id === cam.id}\r\n                                isHidden={!isVisible}\r\n                                onUpdate={handleUpdateCam}\r\n                                onMaximise={() => setSelectedCam(cam)}\r\n                                isArmed={armingStatus[cam.id]}\r\n                                health={camStatus[cam.id]}\r\n                            />\r\n                        </div>\r\n                    );\r\n                })}\r\n\r\n                {/* Empty Slots visualization */}\r\n                {!selectedCam && Array.from({ length: Math.max(0, capacity - cams.length) }).map((_, i) => (\r\n                    <div key={`empty-${i}`} style={{ background: \"#111\", border: \"1px dashed #333\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                        <span style={{ color: \"#333\", fontSize: 10 }}>NO SIGNAL</span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* GLOBAL STYLES FOR VIDEO CONSTRAINTS */}\r\n            <style>{`\r\n                /* Robust Absolute Positioning for Video */\r\n                .camera-card-container {\r\n                    position: relative;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    overflow: hidden;\r\n                }\r\n                video, img, canvas, video-stream-mse {\r\n                    position: absolute !important;\r\n                    top: 0; left: 0;\r\n                    width: 100% !important; \r\n                    height: 100% !important;\r\n                    object-fit: contain !important;\r\n                    background: #000;\r\n                    border: none !important;\r\n                }\r\n                \r\n                /* Scrollbar hide */\r\n                ::-webkit-scrollbar { width: 6px; height: 6px; }\r\n                ::-webkit-scrollbar-track { background: #111; }\r\n                ::-webkit-scrollbar-thumb { background: #333; }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}