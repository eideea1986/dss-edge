{"ast":null,"code":"import _objectSpread from\"I:/dispecerat/github_release/dss-edge/local-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{API}from\"../../../api\";import{colors,styles}from\"./styles\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function DispatchSettings(_ref){let{netConfig,setNetConfig,saveDispatch}=_ref;const[syncing,setSyncing]=useState(false);const handleSync=async()=>{setSyncing(true);try{const res=await API.post(\"/dispatch/sync\");alert(\"Sync Result: \"+res.data.message);}catch(e){var _e$response,_e$response$data;alert(\"Sync Failed: \"+(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||e.message));}finally{setSyncing(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:18,marginBottom:20,color:\"#fff\"},children:\"Evenimente Server (Dispatch)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#252526\",padding:20,border:\"1px solid #444\",maxWidth:600},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:15},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",color:\"#aaa\",fontSize:12,marginBottom:5},children:\"Dispatch URL (Primary)\"}),/*#__PURE__*/_jsx(\"input\",{style:_objectSpread(_objectSpread({},styles.input),{},{width:\"100%\",maxWidth:\"100%\",fontFamily:\"monospace\"}),value:netConfig.dispatchUrl||\"\",onChange:e=>setNetConfig(_objectSpread(_objectSpread({},netConfig),{},{dispatchUrl:e.target.value})),placeholder:\"http://dispatch.example.com/events\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:20},children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,onClick:saveDispatch,children:\"Save Dispatch Config\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.btnToolbar),{},{background:\"#4caf50\",color:\"#fff\",border:\"none\"}),onClick:handleSync,disabled:syncing,children:syncing?\"Syncing...\":\"Sync Now (Manual)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:\"1px solid #444\",paddingTop:15,marginTop:15},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0 0 10px 0\",color:\"#888\",fontSize:12},children:\"Active Connection Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:13,display:\"flex\",gap:10,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:10,height:10,background:netConfig.vpn_status===\"Connected\"?\"#4caf50\":\"#f44336\",borderRadius:\"50%\"}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"VPN: \",netConfig.vpn_status||\"Disconnected\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:13,display:\"flex\",gap:10,alignItems:\"center\",marginTop:5},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:10,height:10,background:netConfig.wg1_status===\"Connected\"?\"#e91e63\":\"#555\",borderRadius:\"50%\"}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"AI HUB: \",netConfig.wg1_status===\"Connected\"?\"Active (10.200.0.2)\":\"Searching...\"]})]})]})]})]});}","map":{"version":3,"names":["React","useState","API","colors","styles","jsx","_jsx","jsxs","_jsxs","DispatchSettings","_ref","netConfig","setNetConfig","saveDispatch","syncing","setSyncing","handleSync","res","post","alert","data","message","e","_e$response","_e$response$data","response","error","style","padding","children","fontSize","marginBottom","color","background","border","maxWidth","display","_objectSpread","input","width","fontFamily","value","dispatchUrl","onChange","target","placeholder","btnPrimary","onClick","btnToolbar","disabled","borderTop","paddingTop","marginTop","margin","gap","alignItems","height","vpn_status","borderRadius","wg1_status"],"sources":["I:/dispecerat/github_release/dss-edge/local-ui/src/sections/settings/network/DispatchSettings.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { API } from \"../../../api\";\r\nimport { colors, styles } from \"./styles\";\r\n\r\nexport function DispatchSettings({ netConfig, setNetConfig, saveDispatch }) {\r\n    const [syncing, setSyncing] = useState(false);\r\n\r\n    const handleSync = async () => {\r\n        setSyncing(true);\r\n        try {\r\n            const res = await API.post(\"/dispatch/sync\");\r\n            alert(\"Sync Result: \" + res.data.message);\r\n        } catch (e) {\r\n            alert(\"Sync Failed: \" + (e.response?.data?.error || e.message));\r\n        } finally {\r\n            setSyncing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <h2 style={{ fontSize: 18, marginBottom: 20, color: \"#fff\" }}>Evenimente Server (Dispatch)</h2>\r\n            <div style={{ background: \"#252526\", padding: 20, border: \"1px solid #444\", maxWidth: 600 }}>\r\n                <div style={{ marginBottom: 15 }}>\r\n                    <label style={{ display: \"block\", color: \"#aaa\", fontSize: 12, marginBottom: 5 }}>Dispatch URL (Primary)</label>\r\n                    <input\r\n                        style={{ ...styles.input, width: \"100%\", maxWidth: \"100%\", fontFamily: \"monospace\" }}\r\n                        value={netConfig.dispatchUrl || \"\"}\r\n                        onChange={e => setNetConfig({ ...netConfig, dispatchUrl: e.target.value })}\r\n                        placeholder=\"http://dispatch.example.com/events\"\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: 20 }}>\r\n                    <button style={styles.btnPrimary} onClick={saveDispatch}>Save Dispatch Config</button>\r\n                    <button\r\n                        style={{ ...styles.btnToolbar, background: \"#4caf50\", color: \"#fff\", border: \"none\" }}\r\n                        onClick={handleSync}\r\n                        disabled={syncing}\r\n                    >\r\n                        {syncing ? \"Syncing...\" : \"Sync Now (Manual)\"}\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={{ borderTop: \"1px solid #444\", paddingTop: 15, marginTop: 15 }}>\r\n                    <h4 style={{ margin: \"0 0 10px 0\", color: \"#888\", fontSize: 12 }}>Active Connection Status</h4>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.vpn_status === \"Connected\") ? \"#4caf50\" : \"#f44336\", borderRadius: \"50%\" }}></div>\r\n                        <span>VPN: {netConfig.vpn_status || \"Disconnected\"}</span>\r\n                    </div>\r\n                    <div style={{ fontSize: 13, display: \"flex\", gap: 10, alignItems: \"center\", marginTop: 5 }}>\r\n                        <div style={{ width: 10, height: 10, background: (netConfig.wg1_status === \"Connected\") ? \"#e91e63\" : \"#555\", borderRadius: \"50%\" }}></div>\r\n                        <span>AI HUB: {netConfig.wg1_status === \"Connected\" ? \"Active (10.200.0.2)\" : \"Searching...\"}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}